!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LineUpJS=e():t.LineUpJS=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=186)}([function(t,e,r){"use strict";var n=r(14),i=r(27),s=r(127),a=r(58),o=r(10);class c extends n.a{constructor(t,e){super(),this.desc=e,this.width=100,this.parent=null,this.uid=Object(s.c)(t),this.renderer=this.desc.renderer||this.desc.type,this.groupRenderer=this.desc.groupRenderer||this.desc.type,this.summaryRenderer=this.desc.summaryRenderer||this.desc.type,this.width=null!=this.desc.width&&this.desc.width>=0?this.desc.width:100,this.metadata={label:e.label||this.id,description:e.description||"",color:e.color||c.DEFAULT_COLOR}}get frozen(){return Boolean(this.desc.frozen)}get id(){return this.uid}assignNewId(t){this.uid=Object(s.c)(t())}get label(){return this.metadata.label}get description(){return this.metadata.description}get color(){return this.metadata.color}get fqid(){return this.parent?`${this.parent.fqid}_${this.id}`:this.id}get fqpath(){return this.parent?`${this.parent.fqpath}@${this.parent.indexOf(this)}`:""}createEventList(){return super.createEventList().concat([c.EVENT_WIDTH_CHANGED,c.EVENT_FILTER_CHANGED,c.EVENT_LABEL_CHANGED,c.EVENT_METADATA_CHANGED,c.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,c.EVENT_ADD_COLUMN,c.EVENT_REMOVE_COLUMN,c.EVENT_RENDERER_TYPE_CHANGED,c.EVENT_GROUP_RENDERER_TYPE_CHANGED,c.EVENT_SORTMETHOD_CHANGED,c.EVENT_MOVE_COLUMN,c.EVENT_DIRTY,c.EVENT_DIRTY_HEADER,c.EVENT_DIRTY_VALUES,c.EVENT_GROUPING_CHANGED,c.EVENT_DATA_LOADED])}getWidth(){return this.width}isHidden(){return this.width<=0}hide(){return this.setWidth(0)}flatten(t,e,r=0,n=0){const i=this.getWidth();return t.push({col:this,offset:e,width:i}),i}setWidth(t){Object(i.f)(this.width,t,.5)||this.fire([c.EVENT_WIDTH_CHANGED,c.EVENT_DIRTY_HEADER,c.EVENT_DIRTY_VALUES,c.EVENT_DIRTY],this.width,this.width=t)}setWidthImpl(t){this.width=t}setMetaData(t){if(t.label===this.label&&this.color===t.color&&this.description===t.description)return;const e=this.color===t.color?[c.EVENT_LABEL_CHANGED,c.EVENT_METADATA_CHANGED,c.EVENT_DIRTY_HEADER,c.EVENT_DIRTY]:[c.EVENT_LABEL_CHANGED,c.EVENT_METADATA_CHANGED,c.EVENT_DIRTY_HEADER,c.EVENT_DIRTY_VALUES,c.EVENT_DIRTY],r=this.getMetaData();this.metadata={label:t.label,color:t.color,description:t.description},this.fire(e,r,this.getMetaData())}getMetaData(){return{label:this.label,color:this.color,description:this.description}}sortByMe(t=!1){const e=this.findMyRanker();return!!e&&e.sortBy(this,t)}groupByMe(){const t=this.findMyRanker();return!!t&&t.toggleGrouping(this)}isGroupedBy(){const t=this.findMyRanker();return t?t.getGroupCriteria().indexOf(this):-1}toggleMySorting(){const t=this.findMyRanker();return!!t&&t.toggleSorting(this)}isSortedByMeImpl(t){const e=this.findMyRanker();if(!e)return{asc:void 0,priority:void 0};const r=t(e),n=r.findIndex(t=>t.col===this);return n<0?{asc:void 0,priority:void 0}:{asc:r[n].asc?"asc":"desc",priority:n.toString()}}isSortedByMe(){return this.isSortedByMeImpl(t=>t.getSortCriterias())}groupSortByMe(t=!1){const e=this.findMyRanker();return!!e&&e.groupSortBy(this,t)}toggleMyGroupSorting(){const t=this.findMyRanker();return!!t&&t.toggleGroupSorting(this)}isGroupSortedByMe(){return this.isSortedByMeImpl(t=>t.getGroupSortCriteria())}removeMe(){return!!this.parent&&this.parent.remove(this)}insertAfterMe(t){return!!this.parent&&null!=this.parent.insertAfter(t,this)}findMyRanker(){return this.parent?this.parent.findMyRanker():null}dump(t){const e={id:this.id,desc:t(this.desc),width:this.width};return this.label!==(this.desc.label||this.id)&&(e.label=this.label),this.color!==(this.desc.color||c.DEFAULT_COLOR)&&this.color&&(e.color=this.color),this.getRenderer()!==this.desc.type&&(e.renderer=this.getRenderer()),this.getGroupRenderer()!==this.desc.type&&(e.groupRenderer=this.getGroupRenderer()),this.getSummaryRenderer()!==this.desc.type&&(e.summaryRenderer=this.getSummaryRenderer()),e}restore(t,e){this.width=t.width||this.width,this.metadata={label:t.label||this.label,color:t.color||this.color,description:this.description},(t.renderer||t.rendererType)&&(this.renderer=t.renderer||t.rendererType),t.groupRenderer&&(this.groupRenderer=t.groupRenderer),t.summaryRenderer&&(this.summaryRenderer=t.summaryRenderer)}getLabel(t){return String(this.getValue(t))}getValue(t){return""}isMissing(t){return Object(o.b)(this.getValue(t))}compare(t,e){return 0}group(t){return a.a}groupCompare(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())}isFiltered(){return!1}filter(t){return null!=t}getRenderer(){return this.renderer}getGroupRenderer(){return this.groupRenderer}getSummaryRenderer(){return this.summaryRenderer}setRenderer(t){t!==this.renderer&&this.fire([c.EVENT_RENDERER_TYPE_CHANGED,c.EVENT_DIRTY_VALUES,c.EVENT_DIRTY],this.renderer,this.renderer=t)}setDefaultRenderer(t){if(this.renderer===this.desc.type)return this.setRenderer(t)}setGroupRenderer(t){t!==this.groupRenderer&&this.fire([c.EVENT_GROUP_RENDERER_TYPE_CHANGED,c.EVENT_DIRTY_VALUES,c.EVENT_DIRTY],this.groupRenderer,this.groupRenderer=t)}setDefaultGroupRenderer(t){if(this.groupRenderer===this.desc.type)return this.setGroupRenderer(t)}setSummaryRenderer(t){t!==this.summaryRenderer&&this.fire([c.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,c.EVENT_DIRTY_HEADER,c.EVENT_DIRTY],this.summaryRenderer,this.summaryRenderer=t)}setDefaultSummaryRenderer(t){if(this.summaryRenderer===this.desc.type)return this.setSummaryRenderer(t)}setDefaultWidth(t){if(100===this.width)return this.setWidthImpl(t)}}e.a=c,c.DEFAULT_COLOR="#C1C1C1",c.FLAT_ALL_COLUMNS=-1,c.EVENT_WIDTH_CHANGED="widthChanged",c.EVENT_FILTER_CHANGED="filterChanged",c.EVENT_LABEL_CHANGED="labelChanged",c.EVENT_METADATA_CHANGED="metaDataChanged",c.EVENT_ADD_COLUMN="addColumn",c.EVENT_MOVE_COLUMN="moveColumn",c.EVENT_REMOVE_COLUMN="removeColumn",c.EVENT_DIRTY="dirty",c.EVENT_DIRTY_HEADER="dirtyHeader",c.EVENT_DIRTY_VALUES="dirtyValues",c.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",c.EVENT_GROUP_RENDERER_TYPE_CHANGED="groupRendererChanged",c.EVENT_SUMMARY_RENDERER_TYPE_CHANGED="summaryRendererChanged",c.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",c.EVENT_GROUPING_CHANGED="groupingChanged",c.EVENT_DATA_LOADED="dataLoaded"},function(t,e,r){"use strict";e.b=function(){return Reflect.metadata(s,!0)},e.a=function(t){return Reflect.metadata(a,t)},e.g=function(...t){return Reflect.metadata(Symbol.for("toolbarIcon"),t)},e.f=function(t){const e=t.constructor;return Reflect.hasMetadata(s,e)},e.c=u,e.d=function(t,e){const r="string"==typeof t?t:t.type,n=e[r];return n?u(n):o.other},e.e=function(t){if(c.has(t.desc.type))return c.get(t.desc.type);const e=[];let r=t;const n=Symbol.for("toolbarIcon");do{const t=Reflect.getOwnMetadata(n,r.constructor);t&&e.push(...t),r=Object.getPrototypeOf(r)}while(r);return c.set(t.desc.type,e),e};var n=r(204),i=(r.n(n),r(0));const s=Symbol.for("SupportType"),a=Symbol.for("Category");const o=new class{constructor(){this.string={label:"label",order:1,name:"string"},this.categorical={label:"categorical",order:2,name:"categorical"},this.number={label:"numerical",order:3,name:"number"},this.date={label:"date",order:4,name:"date"},this.array={label:"matrix",order:5,name:"array"},this.map={label:"map",order:6,name:"map"},this.composite={label:"combined",order:7,name:"composite"},this.support={label:"support",order:8,name:"support"},this.other={label:"others",order:9,name:"other"}}};const c=new Map;function u(t){const e=Reflect.getMetadata(a,t instanceof i.a?Object.getPrototypeOf(t).constructor:t)||"other";return o[e]||o.other}},function(t,e,r){"use strict";e._13=function(t,e={}){class r extends j.a{constructor(t,e){super(t,e),"function"==typeof this.init&&this.init.apply(this,[].slice.apply(arguments))}init(){}}return r.prototype.toString=(()=>t),r.prototype=Object.assign(r.prototype,e),r},e._35=function(){return{actions:n.b,aggregate:i.b,annotate:s.a,boolean:a.a,booleans:o.a,boxplot:c.a,categorical:u.a,categoricalMap:l.a,categoricals:h.a,date:d.a,dateMap:p.a,dates:f.a,group:g.b,hierarchy:m.a,imposition:b.b,impositionBoxPlot:S.b,impositions:E.b,reduce:C.b,nested:v.b,number:y.a,numbers:O.a,numberMap:_.a,ordinal:T.a,rank:N.b,script:w.b,selection:R.b,set:x.a,stack:A.b,string:D.b,stringMap:M.a,strings:L.a}};var n=r(57),i=r(44),s=r(59),a=r(63),o=r(87),c=r(40),u=r(23),l=r(88),h=r(89),d=r(90),f=r(265),p=r(91),g=r(65),m=r(66),b=r(50),E=r(67),v=r(92),y=r(19),_=r(94),O=r(30),T=r(52),N=r(53),C=r(95),w=r(96),R=r(68),x=r(97),A=r(51),D=r(18),M=r(69),L=r(98),j=r(11),S=r(70),V=r(1);r.d(e,"_32",function(){return V.f}),r.d(e,"k",function(){return V.a}),r.d(e,"U",function(){return V.b});var I=r(10);r.d(e,"_26",function(){return I.b}),r.d(e,"_33",function(){return I.c}),r.d(e,"v",function(){return I.a}),r.d(e,"_34",function(){return I.d});var k=r(58);r.d(e,"_12",function(){return k.a});var H=r(266);r.d(e,"_22",function(){return H.a});var $=r(16);r.d(e,"X",function(){return $.a}),r.d(e,"_18",function(){return $.b}),r.d(e,"_19",function(){return $.c}),r.d(e,"_20",function(){return $.d}),r.d(e,"_31",function(){return $.e}),r.d(e,"_40",function(){return $.f}),r.d(e,"_41",function(){return $.g});var G=r(4);r.d(e,"o",function(){return G.a}),r.d(e,"s",function(){return G.b}),r.d(e,"u",function(){return G.c}),r.d(e,"W",function(){return G.d}),r.d(e,"_15",function(){return G.e}),r.d(e,"_17",function(){return G.f}),r.d(e,"_21",function(){return G.g}),r.d(e,"_28",function(){return G.h}),r.d(e,"_29",function(){return G.i}),r.d(e,"_30",function(){return G.j}),r.d(e,"_36",function(){return G.k}),r.d(e,"_37",function(){return G.l});var P=r(64);r.d(e,"_16",function(){return P.a}),r.d(e,"_25",function(){return P.b}),r.d(e,"Y",function(){return n.a}),r.d(e,"Z",function(){return i.a});var F=r(29),U=r(0),Y=r(25);r.d(e,"_27",function(){return Y.b});var B=r(31),z=r(147);r.d(e,"_0",function(){return g.a}),r.d(e,"_14",function(){return m.b}),r.d(e,"_23",function(){return m.c}),r.d(e,"_38",function(){return m.d}),r.d(e,"_1",function(){return S.a}),r.d(e,"_2",function(){return b.a}),r.d(e,"_3",function(){return E.a});var q=r(41),W=r(24);r.d(e,"L",function(){return W.a}),r.d(e,"N",function(){return W.b}),r.d(e,"_4",function(){return W.c}),r.d(e,"_24",function(){return W.d}),r.d(e,"_39",function(){return W.e});var K=r(93);r.d(e,"_5",function(){return v.a}),r.d(e,"_6",function(){return N.a});var X=r(32);r.d(e,"_7",function(){return C.a}),r.d(e,"_8",function(){return w.a}),r.d(e,"_9",function(){return R.a}),r.d(e,"_10",function(){return A.a}),r.d(e,"t",function(){return D.a}),r.d(e,"_11",function(){return U.a}),r.d(e,"a",function(){return n.b}),r.d(e,"b",function(){return i.b}),r.d(e,"c",function(){return s.a}),r.d(e,"d",function(){return F.a}),r.d(e,"e",function(){return a.a}),r.d(e,"f",function(){return o.a}),r.d(e,"g",function(){return c.a}),r.d(e,"h",function(){return u.a}),r.d(e,"i",function(){return l.a}),r.d(e,"j",function(){return h.a}),r.d(e,"l",function(){return U.a}),r.d(e,"m",function(){return Y.a}),r.d(e,"n",function(){return B.a}),r.d(e,"p",function(){return d.a}),r.d(e,"q",function(){return p.a}),r.d(e,"r",function(){return z.a}),r.d(e,"w",function(){return g.b}),r.d(e,"x",function(){return m.a}),r.d(e,"y",function(){return S.b}),r.d(e,"z",function(){return b.b}),r.d(e,"A",function(){return E.b}),r.d(e,"B",function(){return q.a}),r.d(e,"C",function(){return K.a}),r.d(e,"D",function(){return v.b}),r.d(e,"E",function(){return y.a}),r.d(e,"F",function(){return _.a}),r.d(e,"G",function(){return O.a}),r.d(e,"H",function(){return T.a}),r.d(e,"I",function(){return N.b}),r.d(e,"J",function(){return X.a}),r.d(e,"K",function(){return C.b}),r.d(e,"M",function(){return w.b}),r.d(e,"O",function(){return R.b}),r.d(e,"P",function(){return x.a}),r.d(e,"Q",function(){return A.b}),r.d(e,"R",function(){return D.b}),r.d(e,"S",function(){return M.a}),r.d(e,"T",function(){return L.a}),r.d(e,"V",function(){return j.a})},function(t,e,r){"use strict";e.a=function(t,e,r,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,r,a):i(e,r))||a);return s>3&&a&&Object.defineProperty(e,r,a),a};Object.setPrototypeOf||Array;Object.assign},function(t,e,r){"use strict";e.h=function(t){return t instanceof s.a&&"function"==typeof t.getNumber||!(t instanceof s.a)&&null!=t.type.match(/(number|stack|ordinal)/)},e.d=function(t,e,r){const n=t.getBoxPlotData(e),i=t.getBoxPlotData(r);if(null==n)return null==i?0:a.a;if(null==i)return-1*a.a;const s=t.getSortMethod();return f(n[s],i[s])},e.e=function(t,e,r){const n="normalized"===r?t.getBoxPlotData(e):t.getRawBoxPlotData(e);if(null==n)return NaN;return n[t.getSortMethod()]},r.d(e,"c",function(){return c}),e.f=d,r.d(e,"b",function(){return l}),e.j=function(t){return d(t)&&"function"==typeof t.getNumbers},e.l=f,e.k=function(){return{min:-1/0,max:1/0,filterMissing:!1}},e.g=function(t,e){return Object(i.h)(t.min,e.min,.001)&&Object(i.h)(t.max,e.max,.001)&&t.filterMissing===e.filterMissing},e.i=function(t,e){if(!t)return!0;if(isNaN(e))return!t.filterMissing;return!(isFinite(t.min)&&e<t.min||isFinite(t.max)&&e>t.max)};var n=r(39),i=r(8),s=r(0),a=r(10);const o=Object(n.a)(".3n");var c,u,l,h;function d(t){return"function"==typeof t.getBoxPlotData}function f(t,e,r=!1,n=!1){return r=r||null==t||isNaN(t),n=n||null==e||isNaN(e),r?n?0:a.a:n?-1*a.a:t-e}e.a=o,(u=c||(c={})).min="min",u.max="max",u.median="median",u.q1="q1",u.q3="q3",(h=l||(l={})).min="min",h.max="max",h.median="median",h.q1="q1",h.q3="q3",h.mean="mean"},function(t,e,r){"use strict";e.a=function(t,e={},r={},n){return Object.keys(e).forEach(r=>{const n=String(e[r]);t.getAttribute(r)!==n&&t.setAttribute(r,n)}),Object.keys(r).forEach(e=>{const n=r[e];t.style.getPropertyValue(e)!==n&&t.style.setProperty(e,n)}),a(t,n)},e.f=i,e.g=a,e.b=function(t,e,r){Array.from(t.querySelectorAll(e)).forEach(r)},e.c=function(t,e){Array.from(t.children).forEach(e)},e.d=function(t,e){if(0===t.childElementCount)return t.innerHTML=e.map(t=>t.template).join(""),void e.forEach((e,r)=>{const n=t.childNodes[r];n.setAttribute("data-column-id",e.column.id),n.setAttribute("data-renderer",e.rendererId)});if(e.every(function(e,r){const n=t.childElementCount<=r?null:t.childNodes[r];return null!=n&&n.getAttribute("data-column-id")===e.column.id&&n.getAttribute("data-renderer")===e.rendererId}))return;const r=new Set(e.map(t=>`${t.column.id}@${t.rendererId}`));Array.from(t.childNodes).forEach(e=>{const n=e.dataset.columnId,i=e.dataset.rendere,s=`${n}@${i}`;r.has(s)||t.removeChild(e)}),e.forEach(e=>{let r=t.querySelector(`[data-column-id="${e.column.id}"]`);r||(t.insertAdjacentHTML("beforeend",e.template),(r=t.lastElementChild).dataset.columnId=e.column.id,r.dataset.renderer=e.rendererId),t.appendChild(r)})},e.h=function(t,e=t.labels.length){return t.getWidth()/e>n.c};var n=r(33);function i(){}const s={template:"<div></div>",update:i,render:i};function a(t,e){return void 0===e?t:(t.textContent!==e&&(t.textContent=e),t)}e.e=s},function(t,e,r){"use strict";e.c=i,e.b=function(t,e,r){const n=e.isMissing(r);return t.classList.toggle("lu-missing",n),n},e.a=function(t,e,r,s,a=0,o=0){const c=e.isMissing(r);c&&i(t,s,n.c,a,o);return c};var n=r(12);function i(t,e,r,i=0,s=0){const a=Math.max(0,(e-i-n.e.width)/2),o=Math.max(0,(r-s-n.e.height)/2);t.fillStyle=n.e.color,t.fillRect(a,o,Math.min(e,n.e.width),Math.min(r,n.e.height))}},function(t,e,r){"use strict";var n=r(163),i=r(164);e.a=class{constructor(t,e={}){this.attachment=t,this.options={title:"",hideOnClickOutside:!0,hideOnMoveOutside:!1,fullDialog:!1,placement:"bottom-start"},Object.assign(this.options,e),this.node=t.ownerDocument.createElement("form"),this.node.classList.add("lu-dialog")}open(){if(!1===this.build(this.node))return;const t=this.attachment.closest(".lu");this.options.title&&this.node.insertAdjacentHTML("afterbegin",`<h4>${this.options.title}</h4>`),this.options.fullDialog&&this.node.insertAdjacentHTML("beforeend",'<div>\n        <button type="submit" title="ok"></button>\n        <button type="button" title="cancel"></button>\n        <button type="reset" title="reset"></button>\n      </div>'),t.appendChild(this.node),this.popper=new n.a(this.attachment,this.node,this.options);const e=this.find("input[autofocus]");e&&setTimeout(()=>e.focus());const r=this.find("button[type=reset]");r&&(r.onclick=(t=>{t.stopPropagation(),t.preventDefault(),this.reset()})),this.node.onsubmit=(t=>(t.stopPropagation(),t.preventDefault(),!!this.node.checkValidity()&&(this.submit()&&this.destroy(),!1)));const s=this.find("button[title=cancel]");s&&(s.onclick=(t=>{t.stopPropagation(),t.preventDefault(),this.destroy()})),Object(i.a)(this,this.options.hideOnClickOutside,this.options.hideOnMoveOutside)}find(t){return this.node.querySelector(t)}findInput(t){return this.find(t)}forEach(t,e){return Array.from(this.node.querySelectorAll(t)).map(e)}reset(){}submit(){return!0}destroy(){this.popper.destroy(),this.node.remove()}}},function(t,e,r){"use strict";r(42),r(75);var n=r(27);r.d(e,"a",function(){return n.a}),r.d(e,"b",function(){return n.b}),r.d(e,"c",function(){return n.c}),r.d(e,"g",function(){return n.e}),r.d(e,"h",function(){return n.f});var i=r(127);r.d(e,"d",function(){return i.a}),r.d(e,"e",function(){return i.b}),r.d(e,"f",function(){return i.c})},function(t,e,r){"use strict";var n,i;r.d(e,"a",function(){return n}),(i=n||(n={}))[i.CELL=0]="CELL",i[i.GROUP=1]="GROUP",i[i.SUMMARY=2]="SUMMARY"},function(t,e,r){"use strict";e.b=function t(e){return void 0===e||null==e||"number"==typeof e&&isNaN(e)||""===e||"NA"===e||"NaN"===e||"string"==typeof e&&"na"===e.toLowerCase()||Array.isArray(e)&&e.every(e=>t(e))},e.c=function(t){return null==t||void 0===t||isNaN(t)};e.a=-1;e.d={name:"Missing values",color:"gray"}},function(t,e,r){"use strict";var n=r(0);class i extends n.a{constructor(t,e){super(t,e),this.accessor=e.accessor||(()=>null),this.loaded=!0!==e.lazyLoaded}getLabel(t){return this.isLoaded()?String(this.getValue(t)):""}getRaw(t){return this.isLoaded()?this.accessor(t,this.id,this.desc,this.findMyRanker()):null}getValue(t){return this.getRaw(t)}isLoaded(){return this.loaded}setLoaded(t){this.loaded!==t&&this.fire([n.a.EVENT_DATA_LOADED,n.a.EVENT_DIRTY_HEADER,n.a.EVENT_DIRTY_VALUES,n.a.EVENT_DIRTY],this.loaded,this.loaded=t)}getRenderer(){return this.isLoaded()?super.getRenderer():i.RENDERER_LOADING}dump(t){const e=super.dump(t);return e.loaded=this.loaded,this.loaded||e.rendererType!==i.RENDERER_LOADING||delete e.rendererType,e}restore(t,e){void 0!==t.loaded&&(this.loaded=t.loaded),super.restore(t,e)}}e.a=i,i.RENDERER_LOADING="loading"},function(t,e,r){"use strict";var n=r(269);r.n(n);const i=new Map;{const t=/^[$]([\w]+): ([\w #.()'\/,-]+)( !default)?;/gim,e=String(n);let r=e.match(t);for(;null!=r;)i.set(r[1],r[2]),r=e.match(t)}function s(t,e=""){return"$"===t[0]&&(t=t.slice(1)),i.has(t)?i.get(t):e}const a=parseInt(s("lu_engine_grip_gap","5px"),10);e.d=a;const o={width:parseInt(s("lu_missing_dash_width","3px"),10),height:parseInt(s("lu_missing_dash_height","10px"),10),color:s("lu_missing_dash_color","gray")};e.e=o;const c={circle:s("lu_renderer_upset_circle_color"),inactive:parseFloat(s("lu_renderer_upset_inactive_opacity","0.1")),stroke:s("lu_renderer_upset_stroke")};e.h=c;const u={color:s("lu_renderer_dot_color","gray"),size:parseInt(s("lu_renderer_dot_size","5px"),10),opacity:parseFloat(s("lu_renderer_dot_opacity","0.7"))};e.f=u;const l={box:s("lu_renderer_boxplot_box","#e0e0e0"),stroke:s("lu_renderer_boxplot_stroke","black"),sort:s("lu_renderer_boxplot_sort_indicator","#ffa500"),outlier:s("lu_renderer_boxplot_outlier","#e0e0e0")};e.b=l;const h={width:parseInt(s("lu_aggregate_square_bracket_width","4px"),10),strokeWidth:parseInt(s("lu_aggregate_square_bracket_stroke_width","1px"),10),color:s("lu_aggregate_square_bracket_stroke_color","#000")};e.a=h;e.g=200;e.c=4},function(t,e,r){"use strict";var n=r(113);r.d(e,"b",function(){return n.a});var i=r(38);r.d(e,"a",function(){return i.a});var s=r(114);r.d(e,"c",function(){return s.a});r(188),r(189),r(116);var a=r(118);r.d(e,"d",function(){return a.a});var o=r(190);r.d(e,"e",function(){return o.a});r(193),r(194),r(122);var c=r(195);r.d(e,"f",function(){return c.a});var u=r(196);r.d(e,"g",function(){return u.a});var l=r(197);r.d(e,"h",function(){return l.a});r(198);var h=r(123);r.d(e,"i",function(){return h.a});r(115),r(199);var d=r(76);r.d(e,"j",function(){return d.a});var f=r(120);r.d(e,"k",function(){return f.a});r(200),r(201),r(202);var p=r(121);r.d(e,"n",function(){return p.a}),r.d(e,"l",function(){return p.b}),r.d(e,"m",function(){return p.c});r(124),r(117),r(203)},function(t,e,r){"use strict";e.b=function(t,...e){return e.map(e=>`${e}${t}`)};var n=r(126);e.a=class{constructor(){this.listeners=Object(n.a)(...this.createEventList());const t=this;this.forwarder=function(...e){t.fireImpl(this.type,this.primaryType,this.origin,...e)}}on(t,e){return void 0!==e?(Array.isArray(t)?t.forEach(t=>this.listeners.on(t,e)):this.listeners.on(t,e),this):this.listeners.on(t)}createEventList(){return[]}fire(t,...e){const r=Array.isArray(t)?t[0]:t;this.fireImpl(t,r,this,...e)}fireImpl(t,e,r,...n){const i=t=>{const i={source:this,origin:r,type:t,primaryType:e,args:n};this.listeners.apply(t,i,n)};Array.isArray(t)?t.forEach(i.bind(this)):i(t)}forward(t,...e){t.on(e,this.forwarder)}unforward(t,...e){t.on(e,null)}}},function(t,e,r){"use strict";e.a=function t(e,r,s,a){function o(t){return e(t=new Date(+t)),t}o.floor=o;o.ceil=function(t){return e(t=new Date(t-1)),r(t,1),e(t),t};o.round=function(t){var e=o(t),r=o.ceil(t);return t-e<r-t?e:r};o.offset=function(t,e){return r(t=new Date(+t),null==e?1:Math.floor(e)),t};o.range=function(t,n,i){var s,a=[];if(t=o.ceil(t),i=null==i?1:Math.floor(i),!(t<n&&i>0))return a;do{a.push(s=new Date(+t)),r(t,i),e(t)}while(s<t&&t<n);return a};o.filter=function(n){return t(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;r(t,-1),!n(t););else for(;--e>=0;)for(;r(t,1),!n(t););})};s&&(o.count=function(t,r){return n.setTime(+t),i.setTime(+r),e(n),e(i),Math.floor(s(n,i))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(a?function(e){return a(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null});return o};var n=new Date,i=new Date},function(t,e,r){"use strict";e.e=function(t){return Object(i.a)(t)&&Array.isArray(t.categories)},e.g=o,e.a=c,e.f=function(t){if(!t.categories)return[];const e=Object(s.a)(),r=t.categories.length-1;return t.categories.map((t,n)=>o(t,n/r,e)).sort(c)},e.b=function(t){return t instanceof n.a&&"function"==typeof t.getCategory||!(t instanceof n.a)&&null!=t.type.match(/(categorical|ordinal|hierarchy)/)},e.d=function(t,e){if(t===e)return!0;if(null==t||null==e)return u(t)===u(e);if(t.filterMissing!==e.filterMissing||typeof t.filter!=typeof e.filter)return!1;if(Array.isArray(t.filter))return function(t,e){const r=null!=t?t.length:0,n=null!=e?e.length:0;if(r!==n)return!1;if(0===r)return!0;return t.every((t,r)=>t===e[r])}(t.filter,e.filter);return String(t.filter)===String(e.filter)},e.c=function(t,e){if(!t)return!0;if(null==e||isNaN(e.value))return!t.filterMissing;const r=t.filter;if(Array.isArray(r))return r.indexOf(e.name)>=0;if("string"==typeof r&&r.length>0)return e.name.toLowerCase().indexOf(r.toLowerCase())>=0;if(r instanceof RegExp)return r.test(e.name);return!0};var n=r(0),i=r(64),s=r(17),a=r(10);function o(t,e,r=(()=>n.a.DEFAULT_COLOR)){if("string"==typeof t)return{name:t,label:t,color:r(),value:e};const i=null==t.name?String(t.value):t.name;return{name:i,label:t.label||i,color:t.color||r(),value:null!=t.value?t.value:e}}function c(t,e){const r=null==t||isNaN(t.value),n=null==e||isNaN(e.value);return r||null==t?n?0:a.a:n||null==e?-a.a:t.value===e.value?t.label.toLowerCase().localeCompare(e.label.toLowerCase()):t.value-e.value}function u(t){return null==t||!t.filterMissing&&(null==t.filter||""===t.filter||Array.isArray(t.filter)&&0===t.filter.length)}},function(t,e,r){"use strict";e.f=function(t,...e){return new Function("value",...e,`return \`${t}\`;`)},e.c=function(t){return!t.filterMissing&&!isFinite(t.min)&&!isFinite(t.max)},e.g=function(t){return{min:null!=t.min&&isFinite(t.min)?t.min:-1/0,max:null!=t.max&&isFinite(t.max)?t.max:1/0,filterMissing:t.filterMissing}},e.d=function(t){if(console.assert(t.length>0),1===t.length)return t[0];const e=t.map(t=>Object.assign({subGroups:[]},t));t.slice(1).forEach((t,r)=>{t.parent=e[r],e[r].subGroups.push(t)});const r={name:t.map(t=>t.name).join(" ∩ "),color:t[0].color,parent:e[e.length-1]};return r.parent.subGroups.push(r),r},e.h=function(t){let e=t.name,r=t.parent;for(;r;)e=`${r.name}.${e}`,r=r.parent;return e},e.i=function(t){if(t.length<=1)return;const e=new Map,r=t=>{let n=t.name;if(t.parent){const e=r(t.parent);t.parent=e.g,n=`${e.id}.$[id}`}return e.has(n)?{g:e.get(n),id:n}:(t.parent&&t.parent.subGroups.push(t),t.subGroups=[],e.set(n,t),{g:t,id:n})};t.forEach(t=>{t.parent&&(t.parent=r(t.parent).g,t.parent.subGroups.push(t))})},e.a=function(){const t=n.e.concat(n.f.filter((t,e)=>e%2==1));let e=0;return()=>t[e++%t.length]},e.e=function(t,e){const r=t.map((t,r)=>({i:r,v:e.getNumber(t),m:e.isMissing(t)})).filter(t=>!t.m).sort((t,e)=>Object(s.l)(t.v,e.v)),n=r[Math.floor(r.length/2)];if(void 0===n)return 0;return n.i},e.b=function(t,e,r,n){const a=new i.a(t.map(t=>r.getNumber(t))),o=new i.a(e.map(t=>r.getNumber(t)));return Object(s.l)(a[n],o[n])};var n=r(128),i=r(8),s=r(4)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n,i,s=r(3),a=r(1),o=r(0),c=r(17),u=r(10),l=r(11);(i=n||(n={})).left="left",i.center="center",i.right="right";let h=d=class extends l.a{constructor(t,e){super(t,e),this.currentFilter=null,this.setDefaultWidth(200),this.alignment=e.alignment||n.left,this.escape=!1!==e.escape,this.pattern=e.pattern||"",this.patternTemplates=e.patternTemplates||[],this.pattern&&(this.setDefaultRenderer("link"),this.setDefaultGroupRenderer("link"))}setPattern(t){t!==this.pattern&&(this.patternFunction=null,this.fire([d.EVENT_PATTERN_CHANGED,o.a.EVENT_DIRTY_HEADER,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],this.pattern,this.pattern=t))}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([d.EVENT_PATTERN_CHANGED])}getValue(t){const e=super.getValue(t);return this.pattern?(this.patternFunction||(this.patternFunction=Object(c.f)(this.pattern,"item")),this.patternFunction.call(this,e,t.v)):null==e?"":String(e)}getLabel(t){return this.getValue(t)||""}dump(t){const e=super.dump(t);return this.currentFilter instanceof RegExp?e.filter=`REGEX:${this.currentFilter.source}`:e.filter=this.currentFilter,this.pattern!==this.desc.pattern&&(e.pattern=this.pattern),e}restore(t,e){super.restore(t,e),t.filter&&"REGEX:"===t.filter.slice(0,6)?this.currentFilter=new RegExp(t.filter.slice(6)):this.currentFilter=t.filter||null,t.pattern&&(this.pattern=t.pattern)}isFiltered(){return null!=this.currentFilter}filter(t){if(!this.isFiltered())return!0;const e=this.getLabel(t),r=this.currentFilter;return r===d.FILTER_MISSING?null!=e&&""!==e.trim():"string"==typeof r&&r.length>0?""!==e&&e.toLowerCase().indexOf(r.toLowerCase())>=0:!(r instanceof RegExp)||""!==e&&r.test(e)}getFilter(){return this.currentFilter}setFilter(t){""===t&&(t=null),this.currentFilter!==t&&this.fire([o.a.EVENT_FILTER_CHANGED,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)}compare(t,e){const r=this.getValue(t),n=this.getValue(e);return""===r?""===n?0:u.a:""===n?-u.a:r.toLowerCase().localeCompare(n.toLowerCase())}};var d;h.EVENT_PATTERN_CHANGED="patternChanged",h.FILTER_MISSING="__FILTER_MISSING",h=d=s.a([Object(a.g)("search","filterString","editPattern"),Object(a.a)("string")],h),e.b=h},function(t,e,r){"use strict";var n=r(3),i=r(39),s=r(8),a=r(1),o=r(0),c=r(17),u=r(4),l=r(24),h=r(10),d=r(11);let f=p=class extends d.a{constructor(t,e){super(t,e),this.currentFilter=Object(u.k)(),this.numberFormat=Object(i.a)(".2f"),this.currentStratifyThresholds=[],this.groupSortMethod=u.b.median,this.mapping=Object(l.e)(e),this.original=this.mapping.clone(),e.numberFormat&&(this.numberFormat=Object(i.a)(e.numberFormat)),this.missingValue=null!=e.missingValue?e.missingValue:NaN,this.setGroupRenderer("boxplot"),this.setDefaultSummaryRenderer("histogram")}dump(t){const e=super.dump(t);return e.map=this.mapping.dump(),e.filter=Object(c.c)(this.currentFilter)?null:this.currentFilter,e.groupSortMethod=this.groupSortMethod,this.currentStratifyThresholds&&(e.stratifyThreshholds=this.currentStratifyThresholds),e}restore(t,e){super.restore(t,e),t.map?this.mapping=Object(l.c)(t.map):t.domain&&(this.mapping=new l.a(t.domain,"linear",t.range||[0,1])),t.groupSortMethod&&(this.groupSortMethod=t.groupSortMethod),t.filter&&(this.currentFilter=Object(c.g)(t.filter)),t.stratifyThreshholds&&(this.currentStratifyThresholds=t.stratifyThresholds),t.numberFormat&&(this.numberFormat=Object(i.a)(t.numberFormat))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getLabel(t){if(this.desc.numberFormat){const e=this.getRawValue(t);return isNaN(e)?"NaN":isFinite(e)?this.numberFormat(e):e.toString()}const e=super.getValue(t);return"number"==typeof e?this.numberFormat(+e):String(e)}getRange(){return this.mapping.getRange(this.numberFormat)}getRawValue(t,e=this.missingValue){const r=super.getValue(t);return Object(h.b)(r)?e:+r}isMissing(t){return Object(h.b)(super.getValue(t))}getValue(t){const e=this.getRawValue(t);return isNaN(e)?e:this.mapping.apply(e)}getNumber(t){return this.getValue(t)}getRawNumber(t,e=this.missingValue){return this.getRawValue(t,e)}compare(t,e){return Object(u.l)(this.getNumber(t),this.getNumber(e),this.isMissing(t),this.isMissing(e))}groupCompare(t,e){return Object(c.b)(t.rows,e.rows,this,this.groupSortMethod)}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(t){this.mapping.eq(t)||this.fire([p.EVENT_MAPPING_CHANGED,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=t)}isFiltered(){return Object(c.c)(this.currentFilter)}getFilter(){return Object.assign({},this.currentFilter)}setFilter(t={min:-1/0,max:1/0,filterMissing:!1}){if(Object(u.g)(t,this.currentFilter))return;const e=this.getFilter();this.currentFilter.min=Object(h.c)(t.min)?-1/0:t.min,this.currentFilter.max=Object(h.c)(t.max)?1/0:t.max,this.currentFilter.filterMissing=t.filterMissing,this.fire([o.a.EVENT_FILTER_CHANGED,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],e,this.getFilter())}filter(t){return Object(u.i)(this.currentFilter,this.getRawNumber(t,NaN))}getStratifyThresholds(){return this.currentStratifyThresholds.slice()}setStratifyThresholds(t){if(Object(s.d)(this.currentStratifyThresholds,t))return;const e=this.getStratifyThresholds();this.currentStratifyThresholds=t.slice(),this.fire([o.a.EVENT_GROUPING_CHANGED,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],e,t)}group(t){if(0===this.currentStratifyThresholds.length)return super.group(t);if(this.isMissing(t))return h.d;const e=this.getRawNumber(t),r=this.currentStratifyThresholds.findIndex(t=>e<=t);switch(r){case-1:return{name:`${this.label} > ${this.currentStratifyThresholds[this.currentStratifyThresholds.length-1]}`,color:"gray"};case 0:return{name:`${this.label} <= ${this.currentStratifyThresholds[0]}`,color:"gray"};default:return{name:`${this.currentStratifyThresholds[r-1]} <= ${this.label} <= ${this.currentStratifyThresholds[r]}`,color:"gray"}}}getSortMethod(){return this.groupSortMethod}setSortMethod(t){this.groupSortMethod!==t&&(this.fire([o.a.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=t),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())}};var p;f.EVENT_MAPPING_CHANGED="mappingChanged",f=p=n.a([Object(a.g)("stratifyThreshold","sortNumbersGroup","filterMapped"),Object(a.a)("number")],f),e.a=f},function(t,e,r){"use strict";r.d(e,"b",function(){return L}),e.a=j;var n=r(284),i=r(285),s=r(286),a=r(287),o=r(158),c=r(289),u=r(290),l=r(291),h=r(292),d=r(293),f=r(294),p=r(295),g=r(296),m=r(297),b=r(298),E=r(299),v=r(160),y=r(300),_=r(301),O=r(302),T=r(303),N=r(304),C=r(305),w=r(306),R=r(307),x=r(308),A=r(309),D=r(106),M=r(310),L=[null];function j(t,e){this._groups=t,this._parents=e}function S(){return new j([[document.documentElement]],L)}j.prototype=S.prototype={constructor:j,select:n.a,selectAll:i.a,filter:s.a,data:a.a,enter:o.b,exit:c.a,merge:u.a,order:l.a,sort:h.a,call:d.a,nodes:f.a,node:p.a,size:g.a,empty:m.a,each:b.a,attr:E.a,style:v.a,property:y.a,classed:_.a,text:O.a,html:T.a,raise:N.a,lower:C.a,append:w.a,insert:R.a,remove:x.a,datum:A.a,on:D.b,dispatch:M.a}},function(t,e,r){"use strict";var n=r(80);r.d(e,"a",function(){return n.e}),r.d(e,"f",function(){return n.g}),r.d(e,"d",function(){return n.f});var i=r(214);r.d(e,"e",function(){return i.a}),r.d(e,"c",function(){return i.b});var s=r(215);r.d(e,"b",function(){return s.a})},function(t,e,r){"use strict";r.d(e,"d",function(){return n}),r.d(e,"c",function(){return i}),r.d(e,"b",function(){return s}),r.d(e,"a",function(){return a}),r.d(e,"e",function(){return o});var n=1e3,i=6e4,s=36e5,a=864e5,o=6048e5},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(0),a=r(16),o=r(10),c=r(11);let u=class extends c.a{constructor(t,e){super(t,e),this.lookup=new Map,this.currentFilter=null,this.categories=Object(a.f)(e),this.missingCategory=e.missingCategory?Object(a.g)(e.missingCategory,NaN):null,this.categories.forEach(t=>this.lookup.set(t.name,t))}getValue(t){const e=this.getCategory(t);return e?e.name:null}getCategory(t){const e=super.getValue(t);if(!e)return this.missingCategory;const r=String(e);return this.lookup.has(r)?this.lookup.get(r):this.missingCategory}get dataLength(){return this.categories.length}get labels(){return this.categories.map(t=>t.label)}getLabel(t){const e=this.getCategory(t);return e?e.label:""}getValues(t){const e=this.getCategory(t);return this.categories.map(t=>t===e)}getLabels(t){return this.getValues(t).map(String)}getMap(t){const e=this.categories;return this.getValues(t).map((t,r)=>({key:e[r].label,value:t}))}getMapLabel(t){const e=this.categories;return this.getLabels(t).map((t,r)=>({key:e[r].label,value:t}))}getSet(t){const e=this.getCategory(t),r=new Set;return e&&e!==this.missingCategory&&r.add(e),r}isMissing(t){return this.getCategory(t)===this.missingCategory}dump(t){const e=super.dump(t);return e.filter=this.currentFilter,e}restore(t,e){if(super.restore(t,e),!("filter"in t))return void(this.currentFilter=null);const r=t.filter;"string"==typeof r||Array.isArray(r)?this.currentFilter={filter:r,filterMissing:!1}:this.currentFilter=r}isFiltered(){return null!=this.currentFilter}filter(t){return Object(a.c)(this.currentFilter,this.getCategory(t))}getFilter(){return null==this.currentFilter?null:Object.assign({},this.currentFilter)}setFilter(t){Object(a.d)(this.currentFilter,t)||this.fire([s.a.EVENT_FILTER_CHANGED,s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)}compare(t,e){return Object(a.a)(this.getCategory(t),this.getCategory(e))}group(t){const e=this.getCategory(t);return e?{name:e.label,color:e.color}:o.d}getGroupRenderer(){const t=super.getGroupRenderer();return t===this.desc.type&&this.isGroupedBy()>=0?"catdistributionbar":t}};u=n.a([Object(i.g)("stratify","filterCategorical"),Object(i.a)("categorical")],u),e.a=u},function(t,e,r){"use strict";e.d=function(t){return"function"==typeof t.getMapping},e.c=l,e.e=function(t){if(t.map)return l(t.map);if(t.domain)return new c(t.domain,"linear",t.range||[0,1]);return new c([0,1],"linear",[0,1])};var n=r(128),i=r(8);function s(t="linear"){switch(t){case"log":return Object(n.b)().clamp(!0);case"sqrt":return Object(n.d)().clamp(!0);case"pow1.1":return Object(n.c)().exponent(1.1).clamp(!0);case"pow2":return Object(n.c)().exponent(2).clamp(!0);case"pow3":return Object(n.c)().exponent(3).clamp(!0);default:return Object(n.a)().clamp(!0)}}function a(t,e){return t.length===e.length&&t.every((t,r)=>Object(i.h)(t,e[r],1e-4))}function o(t,e){return"log"===e&&0===t[0]&&(t[0]=1e-7),t}class c{constructor(t=[0,1],e="linear",r=[0,1]){this.type=e,this.s=s(e).domain(o(t,this.type)).range(r)}get domain(){return this.s.domain()}set domain(t){this.s.domain(o(t,this.type))}get range(){return this.s.range()}set range(t){this.s.range(t)}getRange(t){return[t(this.invert(0)),t(this.invert(1))]}apply(t){return this.s(t)}invert(t){return this.s.invert(t)}get scaleType(){return this.type}dump(){return{type:this.type,domain:this.domain,range:this.range}}eq(t){if(!(t instanceof c))return!1;const e=t;return e.type===this.type&&a(this.domain,e.domain)&&a(this.range,e.range)}restore(t){this.type=t.type,this.s=s(t.type).domain(t.domain).range(t.range)}clone(){return new c(this.domain,this.type,this.range)}}e.a=c;class u{constructor(t=[0,1],e="return this.linear(value,this.value_min,this.value_max);"){this.domain=t,this._code=e,this.f=new Function("value",e)}get code(){return this._code}set code(t){this._code!==t&&(this._code=t,this.f=new Function("value",t))}getRange(){return["?","?"]}apply(t){const e=this.domain[0],r=this.domain[this.domain.length-1],n=this.f.call({value_min:e,value_max:r,value_range:r-e,value_domain:this.domain.slice(),linear:(t,e,r)=>(t-e)/(r-e)},t);return"number"==typeof n?Math.max(Math.min(n,1),0):NaN}dump(){return{type:"script",code:this.code,domain:this.domain}}eq(t){if(!(t instanceof u))return!1;const e=t;return e.code===this.code}restore(t){this.code=t.code,this.domain=t.domain}clone(){return new u(this.domain,this.code)}}function l(t){if("script"===t.type){const e=new u;return e.restore(t),e}const e=new c;return e.restore(t),e}e.b=u},function(t,e,r){"use strict";e.b=function(t){return"function"==typeof t.getCollapsed};var n=r(3),i=r(14),s=r(1),a=r(0),o=r(4),c=r(11);let u=l=class extends a.a{constructor(){super(...arguments),this._children=[]}assignNewId(t){super.assignNewId(t),this._children.forEach(e=>e.assignNewId(t))}get children(){return this._children.slice()}get length(){return this._children.length}flatten(t,e,r=0,n=0){let i=0;return(0===r||r<=a.a.FLAT_ALL_COLUMNS)&&(i=this.getWidth(),t.push({col:this,offset:e,width:i}),0===r)?i:(this._children.forEach(i=>{(!i.isHidden()||r<=a.a.FLAT_ALL_COLUMNS)&&i.flatten(t,e,r-1,n)}),i)}dump(t){const e=super.dump(t);return e.children=this._children.map(e=>e.dump(t)),e}restore(t,e){t.children.map(t=>{const r=e(t);r&&this.push(r)}),super.restore(t,e)}insert(t,e){return!Object(o.h)(t)&&this.canJustAddNumbers?null:(this._children.splice(e,0,t),this.insertImpl(t,e))}move(t,e){if(t.parent!==this)return null;const r=this._children.indexOf(t);return e===r?t:(this._children.splice(r,1),this._children.splice(r<e?e-1:e,0,t),this.moveImpl(t,e,r))}insertImpl(t,e){return t.parent=this,this.forward(t,...Object(i.b)(".combine",a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY,a.a.EVENT_FILTER_CHANGED,a.a.EVENT_RENDERER_TYPE_CHANGED,a.a.EVENT_GROUP_RENDERER_TYPE_CHANGED)),this.fire([a.a.EVENT_ADD_COLUMN,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],t,e),t}moveImpl(t,e,r){return this.fire([a.a.EVENT_MOVE_COLUMN,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY,a.a.EVENT_RENDERER_TYPE_CHANGED,a.a.EVENT_GROUP_RENDERER_TYPE_CHANGED],t,e,r),t}push(t){return this.insert(t,this._children.length)}at(t){return this._children[t]}indexOf(t){return this._children.indexOf(t)}insertAfter(t,e){const r=this.indexOf(e);return r<0?null:this.insert(t,r+1)}moveAfter(t,e){const r=this.indexOf(e);return r<0?null:this.move(t,r+1)}remove(t){const e=this._children.indexOf(t);return!(e<0)&&(this._children.splice(e,1),this.removeImpl(t))}removeImpl(t){return t.parent=null,this.unforward(t,...Object(i.b)(".combine",a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY,a.a.EVENT_FILTER_CHANGED)),this.fire([a.a.EVENT_REMOVE_COLUMN,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],t),!0}getColor(t){return this.color}isFiltered(){return this._children.some(t=>t.isFiltered())}filter(t){return this._children.every(e=>e.filter(t))}isLoaded(){return this._children.every(t=>!(t instanceof c.a||t instanceof l)||t.isLoaded())}get canJustAddNumbers(){return!1}};var l;u=l=n.a([Object(s.g)("compositeContained","splitCombined"),Object(s.a)("composite")],u),e.a=u},function(t,e,r){"use strict";var n=r(14),i=r(42),s=r(75),a=r(2),o=r(44),c=r(17),u=r(53),l=r(32),h=r(149);class d extends n.a{constructor(t={}){super(),this.rankings=[],this.selection=new s.a,this.aggregations=new Set,this.uid=0,this.createHelper=(t=>{const e=this.fromDescRef(t.desc);let r=null;e&&e.type&&(this.fixDesc(t.desc),(r=new(0,this.columnTypes[e.type])(t.id,e)).restore(t,this.createHelper));return r}),this.columnTypes=Object.assign(Object(a._35)(),t.columnTypes||{}),this.multiSelections=!1!==t.multiSelection}createEventList(){return super.createEventList().concat([d.EVENT_ADD_COLUMN,d.EVENT_REMOVE_COLUMN,d.EVENT_ADD_RANKING,d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_ORDER_CHANGED,d.EVENT_SELECTION_CHANGED,d.EVENT_ADD_DESC,d.EVENT_CLEAR_DESC,d.EVENT_JUMP_TO_NEAREST,d.EVENT_GROUP_AGGREGATION_CHANGED])}pushRanking(t){const e=this.cloneRanking(t);return this.insertRanking(e),e}takeSnapshot(t){const e=this.cloneRanking();return e.push(this.clone(t)),this.insertRanking(e),e}insertRanking(t,e=this.rankings.length){this.rankings.splice(e,0,t),this.forward(t,...Object(n.b)(".provider",l.a.EVENT_ADD_COLUMN,l.a.EVENT_REMOVE_COLUMN,l.a.EVENT_DIRTY,l.a.EVENT_DIRTY_HEADER,l.a.EVENT_ORDER_CHANGED,l.a.EVENT_DIRTY_VALUES));const r=this;t.on(`${l.a.EVENT_DIRTY_ORDER}.provider`,Object(i.a)(function(){r.triggerReorder(this.source)},100)),this.fire([d.EVENT_ADD_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],t,e),this.triggerReorder(t)}triggerReorder(t){Promise.resolve(this.sort(t)).then(e=>{Object(c.i)(e),t.setGroups(e)})}removeRanking(t){const e=this.rankings.indexOf(t);return!(e<0)&&(this.unforward(t,...Object(n.b)(".provider",l.a.EVENT_ADD_COLUMN,l.a.EVENT_REMOVE_COLUMN,l.a.EVENT_DIRTY,l.a.EVENT_DIRTY_HEADER,l.a.EVENT_ORDER_CHANGED,l.a.EVENT_DIRTY_VALUES)),this.rankings.splice(e,1),t.on(`${l.a.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(t),this.fire([d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],t,e),!0)}clearRankings(){this.rankings.forEach(t=>{this.unforward(t,...Object(n.b)(".provider",l.a.EVENT_ADD_COLUMN,l.a.EVENT_REMOVE_COLUMN,l.a.EVENT_DIRTY,l.a.EVENT_DIRTY_HEADER,l.a.EVENT_ORDER_CHANGED,l.a.EVENT_DIRTY_VALUES)),t.on(`${l.a.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(t)}),this.rankings=[],this.fire([d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],null)}getRankings(){return this.rankings.slice()}getLastRanking(){return this.rankings[this.rankings.length-1]}ensureOneRanking(){0===this.rankings.length&&this.pushRanking()}cleanUpRanking(t){}push(t,e){const r=this.create(e);return r?(t.push(r),r):null}insert(t,e,r){const n=this.create(r);return n?(t.insert(n,e),n):null}nextId(){return`col${this.uid++}`}fixDesc(t){"rank"===t.type?t.accessor=this.rankAccessor.bind(this):"selection"===t.type?(t.accessor=(t=>this.isSelected(t.i)),t.setter=((t,e)=>e?this.select(t.i):this.deselect(t.i)),t.setterAll=((t,e)=>e?this.selectAll(t.map(t=>t.i)):this.deselectAll(t.map(t=>t.i)))):"aggregate"===t.type&&(t.isAggregated=((t,e)=>this.isAggregated(t,e)),t.setAggregated=((t,e,r)=>this.setAggregated(t,e,r)))}create(t){this.fixDesc(t);const e=this.columnTypes[t.type];return e?new e(this.nextId(),t):null}clone(t){const e=this.dumpColumn(t);return this.restoreColumn(e)}restoreColumn(t){const e=t=>{const r=this.fromDescRef(t.desc),n=this.columnTypes[r.type];this.fixDesc(r);const i=new n("",r);return i.restore(t,e),i.assignNewId(this.nextId.bind(this)),i};return e(t)}find(t){const e="string"==typeof t?e=>e.id===t:t;for(const t of this.rankings){const r=t.find(e);if(r)return r}return null}dump(){return{uid:this.uid,selection:this.getSelection(),aggregations:Array.from(this.aggregations),rankings:this.rankings.map(t=>t.dump(this.toDescRef))}}dumpColumn(t){return t.dump(this.toDescRef)}toDescRef(t){return t}fromDescRef(t){return t}restoreRanking(t){const e=this.cloneRanking();e.restore(t,this.createHelper),e.children.some(t=>t instanceof u.b)||e.insert(this.create(Object(a._6)()),0);const r=this.nextId.bind(this);return e.children.forEach(t=>t.assignNewId(r)),e}restore(t){this.clearRankings(),this.uid=t.uid||0,t.selection&&t.selection.forEach(t=>this.selection.add(t)),t.aggregations&&(this.aggregations.clear(),t.aggregations.forEach(t=>this.aggregations.add(t))),t.rankings&&t.rankings.forEach(t=>{const e=this.cloneRanking();e.restore(t,this.createHelper),e.children.some(t=>t instanceof u.b)||e.insert(this.create(Object(a._6)()),0),this.insertRanking(e)}),t.layout&&Object.keys(t.layout).forEach(e=>{this.deriveRanking(t.layout[e])});const e=this.nextId.bind(this);this.rankings.forEach(t=>{t.children.forEach(t=>t.assignNewId(e))})}deriveRanking(t){const e=this.cloneRanking();e.clear();const r=t=>{switch(t.type){case"rank":return this.create(Object(a._6)());case"selection":return this.create(Object(a._9)());case"group":return this.create(Object(a._0)());case"aggregate":return this.create(Object(a.Z)());case"actions":const e=this.create(Object(a.Y)(t.label||"actions"));return e.restore(t,this.createHelper),e;case"stacked":const n=this.create(Object(a._10)(t.label||"Combined"));return(t.children||[]).forEach(t=>{const e=r(t);e&&n.push(e)}),n;default:{const e=this.findDesc(t.column);if(e){const r=this.create(e);return t.label=t.label||e.label||e.column,r&&r.restore(t,this.createHelper),r}return null}}};return t.forEach(t=>{const n=r(t);n&&e.push(n)}),e.children.some(t=>t instanceof u.b)||e.insert(this.create(Object(a._6)()),0),this.insertRanking(e),e}isAggregated(t,e){let r=e;for(;r;){const e=`${t.id}@${Object(c.h)(r)}`;if(this.aggregations.has(e))return!0;r=r.parent}return!1}setAggregated(t,e,r){const n=`${t.id}@${Object(c.h)(e)}`;r!==this.aggregations.has(n)&&(r?this.aggregations.add(n):this.aggregations.delete(n),this.fire([d.EVENT_GROUP_AGGREGATION_CHANGED,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],t,e,r))}aggregateAllOf(t,e){const r=t.getGroups();r.forEach(r=>{const n=`${t.id}@${Object(c.h)(r)}`;e?this.aggregations.add(n):this.aggregations.delete(n)}),this.fire([d.EVENT_GROUP_AGGREGATION_CHANGED,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],t,r,e)}isSelected(t){return this.selection.has(t)}select(t){this.selection.has(t)||(!this.multiSelections&&this.selection.size>0&&this.selection.clear(),this.selection.add(t),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}jumpToNearest(t){0!==t.length&&this.fire(d.EVENT_JUMP_TO_NEAREST,t)}selectAll(t){t.every(t=>this.selection.has(t))||(this.multiSelections||(this.selection.clear(),t=t.slice(0,1)),t.forEach(t=>{this.selection.add(t)}),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}selectAllOf(t){this.setSelection(t.getOrder())}setSelection(t){if(0===t.length)return this.clearSelection();this.selection.size===t.length&&t.every(t=>this.selection.has(t))||(this.selection.clear(),this.selectAll(t))}toggleSelection(t,e=!1){return this.isSelected(t)?(e?this.deselect(t):this.clearSelection(),!1):(e?this.select(t):this.setSelection([t]),!0)}deselect(t){this.selection.has(t)&&(this.selection.delete(t),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}deselectAll(t){t.every(t=>!this.selection.has(t))||(t.forEach(t=>{this.selection.delete(t)}),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}selectedRows(){return 0===this.selection.size?[]:this.view(this.getSelection())}getSelection(){return Array.from(this.selection)}clearSelection(){0!==this.selection.size&&(this.selection.clear(),this.fire(d.EVENT_SELECTION_CHANGED,[],!1))}exportTable(t,e={}){return Promise.resolve(this.view(t.getOrder())).then(r=>Object(h.c)(t,r,e))}}d.EVENT_SELECTION_CHANGED="selectionChanged",d.EVENT_ADD_COLUMN=l.a.EVENT_ADD_COLUMN,d.EVENT_REMOVE_COLUMN=l.a.EVENT_REMOVE_COLUMN,d.EVENT_ADD_RANKING="addRanking",d.EVENT_REMOVE_RANKING="removeRanking",d.EVENT_DIRTY=l.a.EVENT_DIRTY,d.EVENT_DIRTY_HEADER=l.a.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES=l.a.EVENT_DIRTY_VALUES,d.EVENT_ORDER_CHANGED=l.a.EVENT_ORDER_CHANGED,d.EVENT_ADD_DESC="addDesc",d.EVENT_CLEAR_DESC="clearDesc",d.EVENT_JUMP_TO_NEAREST="jumpToNearest",d.EVENT_GROUP_AGGREGATION_CHANGED=o.b.EVENT_AGGREGATE,e.a=d},function(t,e,r){"use strict";e.d=a,e.c=function(t,e,r,n,s){if(0===t.length)return{min:NaN,max:NaN,mean:NaN,q1:NaN,q3:NaN,outlier:[],median:NaN,count:0,maxBin:0,hist:[],missing:0};const c=Object(i.e)();n&&c.domain(n);s?c.thresholds(s):c.thresholds(a(t.length));const u=t.map(t=>r(t)?NaN:e(t));return new o(u,void 0,c)},e.b=function(t,e,r){const n=new Map;let i=0;r.forEach(t=>n.set(t.name,0)),t.forEach(t=>{const r=e(t);null!=r?n.set(r.name,(n.get(r.name)||0)+1):i+=1});const s=[];return n.forEach((t,e)=>s.push({cat:e,y:t})),{maxBin:Math.max(...s.map(t=>t.y)),hist:s,missing:i}},e.e=function(t,e=0){if(0===e)return Math.round(t);const r=Math.pow(10,e);return Math.round(t*r)/r},e.f=function(t,e,r=.5){if(t===e)return!0;return Math.abs(t-e)<r};var n=r(3),i=r(13),s=r(2);function a(t){return Math.ceil(Math.log(t)/Math.LN2)+1}class o{constructor(t,e,r){this.scale=e,this.histGen=r,this.values=t.filter(t=>!Object(s._26)(t)),this.missing=t.length-this.values.length}get count(){return this.values.length+this.missing}get sorted(){return this.values.slice().sort(i.a)}map(t){return this.scale&&null!=t?this.scale.apply(t):t}get hist(){return this.histGen?this.histGen(this.values):[]}get maxBin(){return Math.max(...this.hist.map(t=>t.length))}get min(){return this.map(Math.min(...this.values))}get max(){return this.map(Math.max(...this.values))}get median(){return this.map(Object(i.h)(this.sorted))}get q1(){return this.map(Object(i.j)(this.sorted,.25))}get q3(){return this.map(Object(i.j)(this.sorted,.75))}get mean(){return this.map(Object(i.g)(this.values))}get outlier(){const t=this.q1,e=this.q3,r=e-t,n=t-1.5*r,i=e+1.5*r;let a=this.sorted.filter(t=>(t<n||t>i)&&!Object(s._26)(t));return this.scale&&(a=a.map(t=>this.scale.apply(t))),a}}e.a=o,n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"sorted",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"hist",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"maxBin",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"min",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"max",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"median",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"q1",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"q3",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"mean",null),n.a([function(t,e,r){const n=r.get,i=`__${e}`;return r.get=function(){if(this.hasOwnProperty(i))return this[i];const t=n.call(this);return this[i]=t,t},r}],o.prototype,"outlier",null)},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s});var n=Array.prototype,i=n.map,s=n.slice},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(0),a=r(13),o=r(11);let c=u=class extends o.a{constructor(t,e){super(t,e),this._dataLength=null==e.dataLength||isNaN(e.dataLength)?null:e.dataLength,this.originalLabels=e.labels||Object(a.k)(null==this._dataLength?0:this._dataLength).map((t,e)=>`Column ${e}`),this.splicer={length:this._dataLength,splice:t=>t}}setSplicer(t){this.fire([u.EVENT_SPLICE_CHANGED,s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY_HEADER,s.a.EVENT_DIRTY],this.splicer,this.splicer=t)}get labels(){return this.splicer?this.splicer.splice(this.originalLabels):this.originalLabels}getSplicer(){return this.splicer}get dataLength(){return this.splicer?this.splicer.length:this._dataLength}getValue(t){return this.getValues(t)}getValues(t){let e=super.getValue(t);return this.splicer&&null!=e&&(e=this.splicer.splice(e)),null==e?[]:e}getLabels(t){return this.getValues(t).map(String)}getLabel(t){const e=this.getLabels(t);return e?e.toString():""}getMap(t){const e=this.labels;return this.getValues(t).map((t,r)=>({key:e[r],value:t}))}getMapLabel(t){const e=this.labels;return this.getLabels(t).map((t,r)=>({key:e[r],value:t}))}createEventList(){return super.createEventList().concat([u.EVENT_SPLICE_CHANGED])}};var u;c.EVENT_SPLICE_CHANGED="spliceChanged",c=u=n.a([Object(i.a)("array")],c),e.a=c},function(t,e,r){"use strict";var n=r(3),i=r(8),s=r(1),a=r(29),o=r(0),c=r(17),u=r(4),l=r(24),h=r(10),d=r(19);let f=p=class extends a.a{constructor(t,e){super(t,e),this.currentFilter=Object(u.k)(),this.mapping=Object(l.e)(e),this.original=this.mapping.clone(),this.sort=e.sort||u.b.median,this.dataLength&&this.setDefaultWidth(Math.min(Math.max(100,10*this.dataLength),500)),this.setDefaultRenderer("heatmap"),this.setDefaultGroupRenderer("heatmap"),this.setDefaultSummaryRenderer("histogram")}compare(t,e){return Object(u.d)(this,t,e)}getRawNumbers(t){return this.getRawValue(t)}getBoxPlotData(t){const e=this.getRawValue(t);return null==e?null:new i.a(e,this.mapping)}getRange(){return this.mapping.getRange(u.a)}getRawBoxPlotData(t){const e=this.getRawValue(t);return null==e?null:new i.a(e)}getNumbers(t){return this.getValue(t)}getNumber(t){return Object(u.e)(this,t,"normalized")}getRawNumber(t){return Object(u.e)(this,t,"raw")}getValue(t){const e=this.getRawValue(t);return e.map(t=>Object(h.b)(t)?NaN:this.mapping.apply(t))}getRawValue(t){const e=super.getValue(t);return null==e?[]:e}getLabels(t){return this.getValue(t).map(u.a)}getSortMethod(){return this.sort}setSortMethod(t){this.sort!==t&&(this.fire([o.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=t),this.isSortedByMe().asc||this.sortByMe())}dump(t){const e=super.dump(t);return e.sortMethod=this.getSortMethod(),e.filter=Object(c.c)(this.currentFilter)?null:this.currentFilter,e.map=this.mapping.dump(),e}restore(t,e){super.restore(t,e),t.sortMethod&&(this.sort=t.sortMethod),t.filter&&(this.currentFilter=Object(c.g)(t.filter)),t.map?this.mapping=Object(l.c)(t.map):t.domain&&(this.mapping=new l.a(t.domain,"linear",t.range||[0,1]))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(t){this.mapping.eq(t)||this.fire([p.EVENT_MAPPING_CHANGED,o.a.EVENT_DIRTY_VALUES,o.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=t)}isFiltered(){return d.a.prototype.isFiltered.call(this)}getFilter(){return d.a.prototype.getFilter.call(this)}setFilter(t={min:-1/0,max:1/0,filterMissing:!1}){d.a.prototype.setFilter.call(this,t)}filter(t){return d.a.prototype.filter.call(this,t)}};var p;f.EVENT_MAPPING_CHANGED=d.a.EVENT_MAPPING_CHANGED,f.CENTER=0,f=p=n.a([Object(s.g)("sortNumbers","filterMapped")],f),e.a=f},function(t,e,r){"use strict";var n=r(39),i=r(25),s=r(10),a=r(19);e.a=class extends i.a{constructor(t,e){super(t,e),this.missingValue=NaN,this.numberFormat=Object(n.a)(".3n"),e.numberFormat&&(this.numberFormat=Object(n.a)(e.numberFormat)),void 0!==e.missingValue&&(this.missingValue=e.missingValue),this.setDefaultRenderer("interleaving"),this.setDefaultGroupRenderer("interleaving"),this.setDefaultSummaryRenderer("interleaving")}dump(t){const e=super.dump(t);return e.missingValue=this.missingValue,e}restore(t,e){void 0!==t.missingValue&&(this.missingValue=t.missingValue),t.numberFormat&&(this.numberFormat=Object(n.a)(t.numberFormat)),super.restore(t,e)}getLabel(t){if(!this.isLoaded())return"";const e=this.getValue(t);return String("number"==typeof e&&!isNaN(e)&&isFinite(e)?this.numberFormat(e):e)}getValue(t){if(!this.isLoaded())return null;const e=this.compute(t);return Object(s.b)(e)?this.missingValue:e}compute(t){return NaN}getNumber(t){const e=this.getValue(t);return null==e?NaN:e}getRawNumber(t){return this.getNumber(t)}isMissing(t){return Object(s.b)(this.compute(t))}compare(t,e){return a.a.prototype.compare.call(this,t,e)}groupCompare(t,e){return a.a.prototype.groupCompare.call(this,t,e)}getRenderer(){return a.a.prototype.getRenderer.call(this)}}},function(t,e,r){"use strict";var n=r(14),i=r(8),s=r(0),a=r(58),o=r(16),c=r(1),u=r(17),l=r(18);class h extends n.a{constructor(t,e=1,r=1){super(),this.id=t,this.maxSortCriteria=e,this.maxGroupColumns=r,this.sortCriteria=[],this.groupSortCriteria=[],this.groupColumns=[],this.columns=[],this.comparator=((t,e)=>{if(0===this.sortCriteria.length)return 0;for(const r of this.sortCriteria){const n=r.col.compare(t,e);if(0!==n)return r.asc?n:-n}return t.i-e.i}),this.groupComparator=((t,e)=>{if(0===this.groupSortCriteria.length)return t.name.toLowerCase().localeCompare(e.name.toLowerCase());for(const r of this.groupSortCriteria){const n=r.col.groupCompare(t,e);if(0!==n)return r.asc?n:-n}return t.name.localeCompare(e.name)}),this.grouper=(t=>{const e=this.groupColumns;switch(e.length){case 0:return a.a;case 1:return e[0].group(t);default:const r=e.map(e=>e.group(t));return Object(u.d)(r)}}),this.dirtyOrder=(()=>{this.fire([h.EVENT_DIRTY_ORDER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],this.getSortCriteria())}),this.groups=[Object.assign({order:[]},a.a)],this.id=Object(i.f)(t)}createEventList(){return super.createEventList().concat([h.EVENT_WIDTH_CHANGED,h.EVENT_FILTER_CHANGED,h.EVENT_LABEL_CHANGED,h.EVENT_GROUPS_CHANGED,h.EVENT_ADD_COLUMN,h.EVENT_REMOVE_COLUMN,h.EVENT_GROUP_CRITERIA_CHANGED,h.EVENT_MOVE_COLUMN,h.EVENT_DIRTY,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_GROUP_SORT_CRITERIA_CHANGED,h.EVENT_SORT_CRITERIA_CHANGED,h.EVENT_SORT_CRITERIAS_CHANGED,h.EVENT_DIRTY_ORDER,h.EVENT_ORDER_CHANGED])}assignNewId(t){this.id=Object(i.f)(t()),this.columns.forEach(e=>e.assignNewId(t))}setOrder(t){this.setGroups([Object.assign({order:t},a.a)])}setGroups(t){const e=this.getOrder(),r=this.groups;this.groups=t,this.fire([h.EVENT_ORDER_CHANGED,h.EVENT_GROUPS_CHANGED,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],e,this.getOrder(),r,t)}getOrder(){switch(this.groups.length){case 0:return[];case 1:return this.groups[0].order;default:return[].concat(...this.groups.map(t=>t.order))}}getGroups(){return this.groups.slice()}dump(t){const e={};return e.columns=this.columns.map(e=>e.dump(t)),e.sortCriterias=this.sortCriteria.map(t=>({asc:t.asc,sortBy:t.col.id})),e.groupColumns=this.groupColumns.map(t=>t.id),e}restore(t,e){if(this.clear(),t.columns.map(t=>{const r=e(t);r&&this.push(r)}),t.sortColumn&&t.sortColumn.sortBy){const e=this.columns.filter(e=>e.id===t.sortColumn.sortBy);this.sortBy(0===e.length?null:e[0],t.sortColumn.asc)}if(t.groupColumns){const e=t.groupColumns.map(t=>this.columns.find(e=>e.id===t));this.groupBy(e)}const r=t=>t.map(t=>({asc:t.asc,col:this.columns.find(e=>e.id===t.sortBy)||null})).filter(t=>t.col);t.sortCriterias&&this.setSortCriteria(r(t.sortCriterias)),t.groupSortCriterias&&this.setGroupSortCriteria(r(t.groupSortCriterias))}flatten(t,e,r=0,n=0){let i=e;return(r>0||r<=s.a.FLAT_ALL_COLUMNS)&&this.columns.forEach(e=>{(!e.isHidden()||r<=s.a.FLAT_ALL_COLUMNS)&&(i+=e.flatten(t,i,r-1,n)+n)}),i-e}get primarySortCriteria(){return 0===this.sortCriteria.length?null:this.sortCriteria[0]}getSortCriteria(){const t=this.primarySortCriteria;return null==t?null:Object.assign({},t)}getSortCriterias(){return this.sortCriteria.map(t=>Object.assign({},t))}getGroupSortCriteria(){return this.groupSortCriteria.map(t=>Object.assign({},t))}toggleSorting(t){const e=this.groupColumns.reduce((t,e)=>t+(Object(o.b)(e)?1:0),0);if(e<=0){const e=this.primarySortCriteria;return e&&e.col===t?this.sortBy(t,!e.asc):this.sortBy(t)}const r=this.sortCriteria.findIndex(e=>e.col===t),n=this.sortCriteria.slice();return r>0&&r===e?n[r]={col:t,asc:!n[r].asc}:r>0?n.splice(r,1):n.splice(e,0,{col:t,asc:!1}),this.setSortCriteria(n)}toggleGrouping(t){const e=this.groupColumns.indexOf(t);if(e>=0){const r=this.groupColumns.slice();return r.splice(e,1),Object(o.b)(t)&&this.sortCriteria[e]&&this.sortCriteria[e].col===t&&this.sortCriteria.splice(e,1),this.groupBy(r)}if(Object(o.b)(t)){const e=this.sortCriteria.findIndex(e=>e.col===t);e>=0&&this.sortCriteria.splice(e,1),this.setSortCriteria([{col:t,asc:!0}].concat(this.sortCriteria))}return this.groupBy([t].concat(this.groupColumns))}getGroupCriteria(){return this.groupColumns.slice()}setGroupCriteria(t){return this.groupBy(t)}sortBy(t,e=!1){if(null!=t&&t.findMyRanker()!==this)return!1;const r=this.primarySortCriteria;if(null==t&&null==r||r&&r.col===t&&r.asc===e)return!0;const n=this.getSortCriteria();if(t){const e=this.sortCriteria.findIndex(e=>e.col===t);if(e>=0)this.sortCriteria.splice(e,1);else if(this.sortCriteria.length===this.maxSortCriteria){const t=this.sortCriteria.pop();t.col.on(`${s.a.EVENT_DIRTY_VALUES}.order`,null),t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}}else this.sortCriteria.forEach(t=>{t.col.on(`${s.a.EVENT_DIRTY_VALUES}.order`,null),t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}),this.sortCriteria.splice(0,this.sortCriteria.length);return t&&(this.sortCriteria.unshift({col:t,asc:e}),t.on(`${s.a.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),t.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)),this.triggerResort(n),!0}groupBy(t){let e=Array.isArray(t)?t:t instanceof s.a?[t]:[];if(e.length>this.maxGroupColumns&&(e=e.slice(0,this.maxGroupColumns)),Object(i.d)(this.groupColumns,e))return!0;this.groupColumns.forEach(t=>{t.on(Object(n.b)(".group",s.a.EVENT_DIRTY_VALUES,s.a.EVENT_SORTMETHOD_CHANGED,s.a.EVENT_GROUPING_CHANGED),null)});const r=this.groupColumns.slice();return this.groupColumns.splice(0,this.groupColumns.length,...e),this.groupColumns.forEach(t=>{t.on(Object(n.b)(".group",s.a.EVENT_DIRTY_VALUES,s.a.EVENT_SORTMETHOD_CHANGED,s.a.EVENT_GROUPING_CHANGED),this.dirtyOrder)}),this.fire([h.EVENT_GROUP_CRITERIA_CHANGED,h.EVENT_DIRTY_ORDER,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],r,this.getGroupCriteria()),!0}setSortCriteria(t){let e=Array.isArray(t)?t:[t];if(e.length>this.maxSortCriteria&&(e=e.slice(0,this.maxSortCriteria)),0===e.length)return this.sortBy(null);if(1===e.length)return this.sortBy(e[0].col,e[0].asc);const r=this.sortCriteria.slice();return r.forEach(t=>{t.col.on(`${s.a.EVENT_DIRTY_VALUES}.order`,null),t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}),e.forEach(t=>{t.col.on(`${s.a.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)}),this.sortCriteria.splice(0,this.sortCriteria.length,...e.slice()),this.triggerResort(r),!0}toggleGroupSorting(t){const e=this.groupSortCriteria[0],r=e&&e.col===t&&!e.asc;return this.setGroupSortCriteria({col:t,asc:r})}groupSortBy(t,e){return this.setGroupSortCriteria({col:t,asc:e})}setMaxSortCriteria(t){const e=this.maxSortCriteria;e!==t&&(this.maxSortCriteria=t,e<t||this.sortCriteria.length<t||this.setSortCriteria(this.sortCriteria.slice(0,t)))}getMaxSortCriteria(){return this.maxSortCriteria}setMaxGroupColumns(t){const e=this.maxGroupColumns;e!==t&&(this.maxGroupColumns=t,e<t||this.groupColumns.length<t||this.setGroupCriteria(this.groupColumns.slice(0,t)))}getMaxGroupColumns(){return this.maxGroupColumns}setGroupSortCriteria(t){let e=Array.isArray(t)?t:[t];return e.length>this.maxSortCriteria&&(e=e.slice(0,this.maxSortCriteria)),this.groupSortCriteria.forEach(t=>{t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.groupOrder`,null)}),e.forEach(t=>{t.col.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.groupOrder`,this.dirtyOrder)}),this.groupSortCriteria.splice(0,this.groupSortCriteria.length,...e.slice()),this.triggerResort(this.sortCriteria.slice()),!0}triggerResort(t){const e=this.getSortCriterias(),r=Array.isArray(t)?t[0]:t,n=Array.isArray(t)?t:e;this.fire([h.EVENT_SORT_CRITERIA_CHANGED,h.EVENT_DIRTY_ORDER,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],r,e[0]),this.fire(h.EVENT_SORT_CRITERIAS_CHANGED,n,e)}get children(){return this.columns.slice()}get length(){return this.columns.length}insert(t,e=this.columns.length){return this.columns.splice(e,0,t),t.parent=this,this.forward(t,...Object(n.b)(".ranking",s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY_HEADER,s.a.EVENT_DIRTY,s.a.EVENT_FILTER_CHANGED)),t.on(`${h.EVENT_FILTER_CHANGED}.order`,this.dirtyOrder),this.fire([h.EVENT_ADD_COLUMN,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],t,e),0!==this.sortCriteria.length||Object(c.f)(t)||this.sortBy(t,t instanceof l.b),t}move(t,e=this.columns.length){if(t.parent!==this)return console.error("invalid move operation: ",t),null;const r=this.columns.indexOf(t);return e===r?t:(this.columns.splice(r,1),this.columns.splice(r<e?e-1:e,0,t),this.fire([h.EVENT_MOVE_COLUMN,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],t,e,r),t)}moveAfter(t,e){const r=this.columns.indexOf(e);return r<0?null:this.move(t,r+1)}get fqpath(){return""}findByPath(t){let e=this;const r=t.split("@").map(Number).slice(1);for(;r.length>0;){const t=r.shift();e=e.at(t)}return e}indexOf(t){return this.columns.indexOf(t)}at(t){return this.columns[t]}insertAfter(t,e){const r=this.columns.indexOf(e);return r<0?null:this.insert(t,r+1)}push(t){return this.insert(t)}remove(t){const e=this.columns.indexOf(t);if(e<0)return!1;this.unforward(t,...Object(n.b)(".ranking",s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY_HEADER,s.a.EVENT_DIRTY,s.a.EVENT_FILTER_CHANGED));const r=this.sortCriteria.findIndex(e=>e.col===t);if(0===r)if(this.sortCriteria.shift(),this.sortCriteria.length>0)this.sortBy(this.sortCriteria[0].col);else{const e=this.columns.filter(e=>e!==t&&!Object(c.f)(e))[0];this.sortBy(e||null)}else r>0&&(this.sortCriteria.splice(r,1),this.triggerResort(null));const i=this.groupColumns.indexOf(t);if(i>=0){const t=this.groupColumns.slice();t.splice(i,1),this.groupBy(t)}return t.parent=null,this.columns.splice(e,1),this.fire([h.EVENT_REMOVE_COLUMN,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],t,e),!0}clear(){0!==this.columns.length&&(this.sortCriteria.splice(0,this.sortCriteria.length),this.groupColumns.forEach(t=>{t.on(`${s.a.EVENT_DIRTY_VALUES}.group`,null),t.on(`${s.a.EVENT_SORTMETHOD_CHANGED}.group`,null)}),this.groupColumns.splice(0,this.groupColumns.length),this.columns.forEach(t=>{this.unforward(t,...Object(n.b)(".ranking",s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY_HEADER,s.a.EVENT_DIRTY,s.a.EVENT_FILTER_CHANGED)),t.parent=null}),this.columns.length=0,this.fire([h.EVENT_REMOVE_COLUMN,h.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES,h.EVENT_DIRTY],null))}get flatColumns(){const t=[];return this.flatten(t,0,s.a.FLAT_ALL_COLUMNS),t.map(t=>t.col)}find(t){const e="string"==typeof t?e=>e.id===t:t,r=this.flatColumns;for(const t of r)if(e(t))return t;return null}isFiltered(){return this.columns.some(t=>t.isFiltered())}filter(t){return this.columns.every(e=>e.filter(t))}findMyRanker(){return this}get fqid(){return this.id}}e.a=h,h.EVENT_WIDTH_CHANGED=s.a.EVENT_WIDTH_CHANGED,h.EVENT_FILTER_CHANGED=s.a.EVENT_FILTER_CHANGED,h.EVENT_LABEL_CHANGED=s.a.EVENT_LABEL_CHANGED,h.EVENT_ADD_COLUMN=s.a.EVENT_ADD_COLUMN,h.EVENT_MOVE_COLUMN=s.a.EVENT_MOVE_COLUMN,h.EVENT_REMOVE_COLUMN=s.a.EVENT_REMOVE_COLUMN,h.EVENT_DIRTY=s.a.EVENT_DIRTY,h.EVENT_DIRTY_HEADER=s.a.EVENT_DIRTY_HEADER,h.EVENT_DIRTY_VALUES=s.a.EVENT_DIRTY_VALUES,h.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",h.EVENT_GROUP_CRITERIA_CHANGED="groupCriteriaChanged",h.EVENT_GROUP_SORT_CRITERIA_CHANGED="groupSortCriteriaChanged",h.EVENT_SORT_CRITERIAS_CHANGED="sortCriteriasChanged",h.EVENT_DIRTY_ORDER="dirtyOrder",h.EVENT_ORDER_CHANGED="orderChanged",h.EVENT_GROUPS_CHANGED="groupsChanged"},function(t,e,r){"use strict";e.d=function(){return{idPrefix:`lu${Math.random().toString(36).slice(-8).substr(0,3)}`,toolbar:Object.assign({},i.k),renderers:Object.assign({},n.g),summary:!0,animation:!0,wholeHover:!1,panel:!0,panelCollapsed:!1,rowHeight:18,groupHeight:40,groupPadding:5,rowPadding:2,levelOfDetail:()=>"high",customRowUpdate:()=>void 0,dynamicHeight:()=>null}};var n=r(99),i=r(166);e.a=19;e.c=30;e.b=500},function(t,e,r){"use strict";e.c=function(t,e){const r=t.querySelector("input");e>0&&(t.classList.remove("lu-disabled"),r.disabled=!1);r.checked||(t.lastChild.textContent=`Filter out ${e} remaining missing value rows`)};e.a=(t=>`<label><input class="lu_filter_missing" type="checkbox" ${t?'checked="checked"':""}>Filter out rows containing missing values</label>`);e.b=((t,e)=>`<label ${0===e?'class="lu-disabled"':""}><input class="lu_filter_missing" type="checkbox" ${t?'checked="checked"':""} ${0===e?"disabled":""}>Filter out ${e} missing value rows</label>`)},function(t,e,r){"use strict";e.a=function(t,e,r){if(r&&r.color)return r.color(e);if(!e)return t.color;if(Object(n._18)(t)){const r=t.getCategory(e);return r?r.color:t.color}if(t instanceof s.b||t instanceof i.a)return t.getColor(e);return t.color};var n=r(2),i=r(31),s=r(50)},function(t,e,r){"use strict";e.d=function(t,e,r=0){return{exceptions:[],exceptionsLookup:{keys:()=>[].values(),get:()=>e,has:()=>!1,size:0},totalHeight:t*(e+=r),numberOfRows:t,defaultRowHeight:e,padding:()=>r}},e.b=i,e.c=function(t,e,r,n,i){if(0===i)return{first:0,last:-1,firstRowPos:0,endPos:0};if(1===i)return{first:0,last:0,firstRowPos:0,endPos:0===n.length?r:n[0].y2};const s=t,a=s+e;function o(t,e){return Math.min(i-1,e+Math.max(0,Math.floor(t/r)))}function c(t,e,n=!1){const c=s-t,u=a-t,l=o(c,e),h=o(u,e),d=t+(l-e)*r,f=t+(h+1-e)*r;return console.assert(!n||!(d>s||f<a&&h<i-1),"error",n,d,f,s,a,e,t),{first:l,last:h,firstRowPos:d,endPos:f}}const u=c(0,0,!0);if(0===n.length)return u;if(u.last<n[0].index)return u;if(u.last===n[0].index&&n[0].height>r)return Object.assign(u,{endPos:n[0].y2});const l=n[n.length-1];if(s>=l.y){const t=c(l.y2,l.index+1);return s<l.y2?Object.assign(t,{first:l.index,firstRowPos:l.y}):t}const h=[];let d=n[0];for(const t of n){const{y:e,y2:r}=t;if(e>=a)break;r<=s?d=t:h.push(t)}if(0===h.length)return c(d.y2,d.index+1);{const t=h[0],e=h[h.length-1],n=Math.max(0,t.index-Math.max(0,Math.ceil((t.y-s)/r)));let c=e.index;a>=e.y2&&(c=o(a-e.y2,e.index+1));const u=t.y-(t.index-n)*r,l=e.y2+(c-e.index)*r;return console.assert(u<=s&&(l>=a||c===i-1),"error",u,l,s,a,t,e),{first:n,last:c,firstRowPos:u,endPos:l}}},e.a=function(t,e){const r=t.length,n=e.length;if(0===r)return{added:e,removed:[],common:0};if(0===n)return{added:[],removed:t,common:0};if(r===n)return{added:[],removed:[],common:r};const i=t.slice(Math.min(n,r));return{added:e.slice(Math.min(n,r)),removed:i,common:r-i.length}},e.e=function(t,e,r){const n=0===t.length?0:t[t.length-1]+1,i=[],s=[];for(let e=t.length-1;e>=0;--e){const n=t[e];if(!(n>=r))break;s.push(t.pop())}for(let s=n;s<r;++s)e[s].frozen&&(i.push(s),t.push(s));return{target:t,added:i,removed:s}};class n{constructor(t,e,r){this.index=t,this.y=e,this.height=r}get y2(){return this.y+this.height}}function i(t,e=NaN,r=0){const i=new Map,s=[],a="function"==typeof r?r:()=>r;isNaN(e)&&(e=function(t){const e=new Map;if(t.forEach(t=>{e.set(t,(e.get(t)||0)+1)}),0===e.size)return 20;const r=Array.from(e).sort((t,e)=>t[1]!==e[1]?e[1]-t[1]:t[0]-e[0]),n=r[0][0];return 0===n?r.length>1?r[1][0]:20:n}(t)),e+=a(-1);let o=-1,c=0,u=0,l=0;return t.forEach((t,r)=>{if(t+=a(r),u+=t,l++,t===e)return;i.set(r,t);const h=(r-o-1)*e;o=r;const d=c+h;c=d+t,s.push(new n(r,d,t))}),{exceptionsLookup:i,exceptions:s,totalHeight:u,defaultRowHeight:e,numberOfRows:l,padding:a}}},function(t,e,r){"use strict";e.a=function(t,e){return new n(t,e)};class n{constructor(t,e){this.desc={column:e,type:t,label:e[0].toUpperCase()+e.slice(1)}}label(t){return this.desc.label=t,this}description(t){return this.desc.description=t,this}frozen(){return this.desc.frozen=!0,this}renderer(t,e,r){return t&&(this.desc.renderer=t),e&&(this.desc.groupRenderer=e),r&&(this.desc.summaryRenderer=r),this}custom(t,e){return this.desc[t]=e,this}width(t){return this.desc.width=t,this}color(t){return this.desc.color=t,this}asArray(t){console.assert(["boolean","categorical","date","number","string"].includes(this.desc.type)),this.desc.type+="s";const e=this.desc;return Array.isArray(t)?(e.labels=t,e.dataLength=t.length):"number"==typeof t&&(e.dataLength=t),this}asMap(){return console.assert(["categorical","date","number","string"].includes(this.desc.type)),this.desc.type+="Map",this}build(){return this.desc}}e.b=n},function(t,e,r){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,r){"use strict";var n=r(227);r.d(e,"a",function(){return n.a}),r.d(e,"b",function(){return n.b});r(139);var i=r(140);r.d(e,"c",function(){return i.a});var s=r(233);r.d(e,"d",function(){return s.a});var a=r(234);r.d(e,"e",function(){return a.a});var o=r(235);r.d(e,"f",function(){return o.a})},function(t,e,r){"use strict";var n=r(3),i=r(39),s=r(1),a=r(0),o=r(17),c=r(4),u=r(24),l=r(19),h=r(11);let d=f=class extends h.a{constructor(t,e){super(t,e),this.currentFilter=Object(c.k)(),this.mapping=Object(u.e)(e),this.original=this.mapping.clone(),this.sort=e.sort||c.c.min}compare(t,e){return Object(c.d)(this,t,e)}getBoxPlotData(t){return this.getValue(t)}getRange(){return this.mapping.getRange(f.DEFAULT_FORMATTER)}getRawBoxPlotData(t){return this.getRawValue(t)}getRawValue(t){return super.getValue(t)}getValue(t){const e=this.getRawValue(t);return null==e?e:{min:this.mapping.apply(e.min),max:this.mapping.apply(e.max),median:this.mapping.apply(e.median),q1:this.mapping.apply(e.q1),q3:this.mapping.apply(e.q3)}}getNumber(t){return Object(c.e)(this,t,"normalized")}getRawNumber(t){return Object(c.e)(this,t,"raw")}getLabel(t){const e=this.getRawValue(t);if(null==e)return"";const r=f.DEFAULT_FORMATTER;return`BoxPlot(min = ${r(e.min)}, q1 = ${r(e.q1)}, median = ${r(e.median)}, q3 = ${r(e.q3)}, max = ${r(e.max)})`}getSortMethod(){return this.sort}setSortMethod(t){this.sort!==t&&(this.fire(a.a.EVENT_SORTMETHOD_CHANGED,this.sort,this.sort=t),this.isSortedByMe().asc||this.sortByMe())}dump(t){const e=super.dump(t);return e.sortMethod=this.getSortMethod(),e.filter=Object(o.c)(this.currentFilter)?null:this.currentFilter,e.map=this.mapping.dump(),e}restore(t,e){super.restore(t,e),t.sortMethod&&(this.sort=t.sortMethod),t.filter&&(this.currentFilter=Object(o.g)(t.filter)),t.map?this.mapping=Object(u.c)(t.map):t.domain&&(this.mapping=new u.a(t.domain,"linear",t.range||[0,1]))}createEventList(){return super.createEventList().concat([l.a.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(t){this.mapping.eq(t)||this.fire([f.EVENT_MAPPING_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=t)}isFiltered(){return l.a.prototype.isFiltered.call(this)}getFilter(){return l.a.prototype.getFilter.call(this)}setFilter(t={min:-1/0,max:1/0,filterMissing:!1}){l.a.prototype.setFilter.call(this,t)}filter(t){return l.a.prototype.filter.call(this,t)}};var f;d.EVENT_MAPPING_CHANGED=l.a.EVENT_MAPPING_CHANGED,d.DEFAULT_FORMATTER=Object(i.a)(".3n"),d=f=n.a([Object(s.g)("sortNumbers","filterMapped"),Object(s.a)("array")],d),e.a=d},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(11);let a=class extends s.a{constructor(t,e){super(t,e),this.setDefaultWidth(200)}getValue(t){return function(t){if(!t)return[];if(t instanceof Map)return Array.from(t.entries()).map(([t,e])=>({key:t,value:e})).sort(o);if(Array.isArray(t))return t;return Object.keys(t).map(e=>({key:e,value:t[e]})).sort(o)}(super.getValue(t))}getLabels(t){const e=this.getValue(t);return e.map(({key:t,value:e})=>({key:t,value:String(e)}))}getMap(t){return this.getValue(t)}getMapLabel(t){return this.getLabels(t)}getLabel(t){const e=this.getLabels(t);return`{${e.map(({key:t,value:e})=>`${t}: ${e}`).join(", ")}}`}};function o(t,e){return t===e?0:t.key.localeCompare(e.key)}a=n.a([Object(i.a)("map")],a),e.a=a},function(t,e,r){"use strict";e.a=function(t,e=100,r){let n=-1,i=null;return function(...s){n>=0&&(clearTimeout(n),n=-1);const a={self:this,args:s};i=i&&r?r(i,a):a,n=setTimeout(()=>{console.assert(null!=i),t.call(i.self,...i.args),i=null},e)}}},function(t,e,r){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,r){"use strict";e.a=function(t="A"){return{type:"aggregate",label:t}};var n=r(3),i=r(1),s=r(0);let a=o=class extends s.a{constructor(t,e){super(t,e),this.setDefaultWidth(20)}get frozen(){return!1!==this.desc.frozen}createEventList(){return super.createEventList().concat([o.EVENT_AGGREGATE])}isAggregated(t){const e=this.findMyRanker();return!!this.desc.isAggregated&&this.desc.isAggregated(e,t)}setAggregated(t,e){const r=this.findMyRanker(),n=this.desc.isAggregated&&this.desc.isAggregated(r,t);return n===e||(this.desc.setAggregated&&this.desc.setAggregated(r,t,e),this.fire(o.EVENT_AGGREGATE,r,t,e),!1)}};var o;a.EVENT_AGGREGATE="aggregate",a=o=n.a([Object(i.b)(),Object(i.a)("support")],a),e.b=a},function(t,e,r){"use strict";e.b=o,e.a=function t(){var e=Object(s.b)(s.c,i.c);e.copy=function(){return Object(s.a)(e,t())};return o(e)};var n=r(13),i=r(46),s=r(61),a=r(226);function o(t){var e=t.domain;return t.ticks=function(t){var r=e();return Object(n.n)(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return Object(a.a)(e(),t,r)},t.nice=function(r){null==r&&(r=10);var i,s=e(),a=0,o=s.length-1,c=s[a],u=s[o];return u<c&&(i=c,c=u,u=i,i=a,a=o,o=i),(i=Object(n.l)(c,u,r))>0?(c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i,i=Object(n.l)(c,u,r)):i<0&&(c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i,i=Object(n.l)(c,u,r)),i>0?(s[a]=Math.floor(c/i)*i,s[o]=Math.ceil(u/i)*i,e(s)):i<0&&(s[a]=Math.ceil(c*i)/i,s[o]=Math.floor(u*i)/i,e(s)),t},t}},function(t,e,r){"use strict";var n=r(79);r.d(e,"a",function(){return n.a});r(134),r(82),r(132),r(135);var i=r(60);r.d(e,"c",function(){return i.a});r(136);var s=r(216);r.d(e,"d",function(){return s.a});r(137),r(217),r(220),r(131),r(221),r(222),r(223);var a=r(224);r.d(e,"b",function(){return a.a});r(225)},function(t,e,r){"use strict";e.c=function(t,e){var r=e-t;return r?i(t,r>180||r<-180?r-360*Math.round(r/360):r):Object(n.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?s:function(e,r){return r-e?(i=e,s=r,a=t,i=Math.pow(i,a),s=Math.pow(s,a)-i,a=1/a,function(t){return Math.pow(i+t*s,a)}):Object(n.a)(isNaN(e)?r:e);var i,s,a}},e.a=s;var n=r(133);function i(t,e){return function(r){return t+r*e}}function s(t,e){var r=e-t;return r?i(t,r):Object(n.a)(isNaN(t)?e:t)}},function(t,e,r){"use strict";var n=r(86);r.d(e,"a",function(){return n.a}),r.d(e,"b",function(){return n.b}),r.d(e,"c",function(){return n.c});r(145),r(146),r(255)},function(t,e,r){"use strict";e.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,e,r){"use strict";e.a=function(t="Imposition"){return{type:"imposition",label:t}};var n=r(3),i=r(14),s=r(1),a=r(25),o=r(16),c=r(4),u=r(19);let l=h=class extends a.a{constructor(t,e){super(t,e),this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}get label(){const t=super.label,e=this._children;return"Imposition"!==t||0===e.length?t:1===e.length?e[0].label:`${e[0].label} (${e.slice(1).map(t=>t.label).join(", ")})`}get wrapper(){const t=this._children;return 0===t.length?null:t[0]}createEventList(){return super.createEventList().concat([h.EVENT_MAPPING_CHANGED])}getLabel(t){const e=this._children;return 0===e.length?"":1===e.length?e[0].getLabel(t):`${e[0].getLabel(t)} (${e.slice(1).map(e=>`${e.label} = ${e.getLabel(t)}`).join(", ")})`}getColor(t){const e=this._children;if(e.length<2)return this.color;const r=e[1].getCategory(t);return r?r.color:this.color}getValue(t){const e=this.wrapper;return e?e.getValue(t):[]}getNumber(t){const e=this.wrapper;return e?e.getNumber(t):NaN}getRawNumber(t){const e=this.wrapper;return e?e.getRawNumber(t):NaN}isMissing(t){const e=this.wrapper;return!e||e.isMissing(t)}compare(t,e){return u.a.prototype.compare.call(this,t,e)}group(t){return u.a.prototype.group.call(this,t)}groupCompare(t,e){return u.a.prototype.groupCompare.call(this,t,e)}insert(t,e){return(0!==this._children.length||Object(c.h)(t))&&(1!==this._children.length||Object(o.b)(t))?this._children.length>=2?null:super.insert(t,e):null}insertImpl(t,e){return Object(c.h)(t)&&this.forward(t,...Object(i.b)(".impose",u.a.EVENT_MAPPING_CHANGED)),super.insertImpl(t,e)}removeImpl(t){return Object(c.h)(t)&&this.unforward(t,...Object(i.b)(".impose",u.a.EVENT_MAPPING_CHANGED)),super.removeImpl(t)}};var h;l.EVENT_MAPPING_CHANGED=u.a.EVENT_MAPPING_CHANGED,l=h=n.a([Object(s.g)("filterMapped")],l),e.b=l},function(t,e,r){"use strict";e.a=function(t="Weighted Sum"){return{type:"stack",label:t}};var n=r(3),i=r(8),s=r(1),a=r(0),o=r(31),c=r(4);let u=l=class extends o.a{constructor(t,e){super(t,e),this.collapsed=!1;const r=this;this.adaptChange=function(t,e){r.adaptWidthChange(this.source,t,e)},"interleaving"===this.getRenderer()&&this.setRenderer("stack"),"interleaving"===this.getGroupRenderer()&&this.setGroupRenderer("stack"),"interleaving"===this.getSummaryRenderer()&&this.setSummaryRenderer("default")}get label(){const t=super.label,e=this._children;if("Weighted Sum"!==t||0===e.length)return t;const r=this.getWeights();return e.map((t,e)=>`${t.label} (${Object(i.g)(100*r[e],1)})%`).join(" + ")}createEventList(){return super.createEventList().concat([l.EVENT_COLLAPSE_CHANGED,l.EVENT_WEIGHTS_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(t){this.collapsed!==t&&this.fire([l.EVENT_COLLAPSE_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.collapsed,this.collapsed=t)}getCollapsed(){return this.collapsed}get canJustAddNumbers(){return!0}flatten(t,e,r=0,n=0){let i=null;const s=r<=a.a.FLAT_ALL_COLUMNS?this._children:this._children.filter(t=>!t.isHidden());if(0===r||r<=a.a.FLAT_ALL_COLUMNS){let a=this.getWidth();if(this.collapsed||(a+=(s.length-1)*n),t.push(i={col:this,offset:e,width:a}),0===r)return a}let o=e;return s.forEach(e=>{o+=e.flatten(t,o,r-1,n)+n}),i&&(i.width=o-e-n),o-e-n}dump(t){const e=super.dump(t);return e.collapsed=this.collapsed,e}restore(t,e){this.collapsed=!0===t.collapsed,super.restore(t,e)}insert(t,e,r=NaN){return isNaN(r)||t.setWidth(r/(1-r)*this.getWidth()),t.on(`${a.a.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?t.getWidth():this.getWidth()+t.getWidth()),super.insert(t,e)}push(t,e=NaN){return this.insert(t,this.length,e)}insertAfter(t,e,r=NaN){const n=this.indexOf(e);return n<0?null:this.insert(t,n+1,r)}adaptWidthChange(t,e,r){if(Object(i.h)(e,r,.5))return;const n=this.getWeights(),s=this.getWidth(),o=(r-e)/s,c=e/s,u=(1-c-o)/(1-c),h=this._children.map(e=>{if(e===t)return r;const n=e.getWidth()*u,i=isNaN(n)||n<1?0:n;return e.setWidthImpl(i),i});super.setWidth(h.reduce((t,e)=>t+e,0)),this.fire([l.EVENT_WEIGHTS_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],n,this.getWeights())}getWeights(){const t=this.getWidth();return this._children.map(e=>e.getWidth()/t)}setWeights(t){const e=this.getWeights(),r=t.length-this.length;let n;if(r<0)if((n=t.reduce((t,e)=>t+e,0))<=1)for(let e=0;e<-r;++e)t.push(1/-r*(1-n));else if(n<=100)for(let e=0;e<-r;++e)t.push(1/-r*(100-n));t=t.slice(0,this.length),n=t.reduce((t,e)=>t+e,0)/this.getWidth(),t=t.map(t=>t/n),this._children.forEach((e,r)=>{e.setWidthImpl(t[r])}),this.fire([l.EVENT_WEIGHTS_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],e,t)}removeImpl(t){return t.on(`${a.a.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-t.getWidth()),super.removeImpl(t)}setWidth(t){const e=t/this.getWidth();this._children.forEach(t=>{t.setWidthImpl(t.getWidth()*e)}),super.setWidth(t)}compute(t){const e=this.getWidth();return this._children.reduce((r,n)=>r+n.getValue(t)*(n.getWidth()/e),0)}getRenderer(){return this.getCollapsed()&&this.isLoaded()?l.COLLAPSED_RENDERER:super.getRenderer()}isMissing(t){return this._children.some(e=>Object(c.h)(e)&&e.isMissing(t))}};var l;u.EVENT_COLLAPSE_CHANGED="collapseChanged",u.EVENT_WEIGHTS_CHANGED="weightsChanged",u.COLLAPSED_RENDERER="number",u.EVENT_MULTI_LEVEL_CHANGED="nestedChildRatio",u=l=n.a([Object(s.g)("editWeights","collapse")],u),e.b=u},function(t,e,r){"use strict";var n=r(3),i=r(13),s=r(8),a=r(1),o=r(23),c=r(0),u=r(16),l=r(19),h=r(11);let d=f=class extends h.a{constructor(t,e){super(t,e),this.lookup=new Map,this.currentFilter=null,this.categories=Object(u.f)(e),this.missingCategory=e.missingCategory?Object(u.g)(e.missingCategory,NaN):null,this.categories.forEach(t=>this.lookup.set(t.name,t)),this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}createEventList(){return super.createEventList().concat([f.EVENT_MAPPING_CHANGED])}get dataLength(){return this.categories.length}get labels(){return this.categories.map(t=>t.label)}getValue(t){const e=this.getCategory(t);return e?e.value:NaN}getCategory(t){const e=super.getValue(t);if(!e)return this.missingCategory;const r=String(e);return this.lookup.has(r)?this.lookup.get(r):this.missingCategory}getLabel(t){return o.a.prototype.getLabel.call(this,t)}getLabels(t){return o.a.prototype.getLabels.call(this,t)}getValues(t){return o.a.prototype.getValues.call(this,t)}getMap(t){return o.a.prototype.getMap.call(this,t)}getMapLabel(t){return o.a.prototype.getMapLabel.call(this,t)}getSet(t){return o.a.prototype.getSet.call(this,t)}getNumber(t){return this.getValue(t)}isMissing(t){return o.a.prototype.isMissing.call(this,t)}getRawNumber(t){return this.getNumber(t)}dump(t){const e=o.a.prototype.dump.call(this,t);return e.mapping=this.getMapping(),e}restore(t,e){o.a.prototype.restore.call(this,t,e),t.mapping&&this.setMapping(t.mapping)}getMapping(){return this.categories.map(t=>t.value)}setMapping(t){const e=Object(i.d)(t);t=t.map(t=>(t-e[0])/(e[1]-e[0]));const r=this.getMapping();Object(s.d)(r,t)||(this.categories.forEach((e,r)=>e.value=t[r]||0),this.fire([f.EVENT_MAPPING_CHANGED,c.a.EVENT_DIRTY_VALUES,c.a.EVENT_DIRTY],r,this.getMapping()))}isFiltered(){return null!=this.currentFilter}filter(t){return o.a.prototype.filter.call(this,t)}group(t){return o.a.prototype.group.call(this,t)}getFilter(){return this.currentFilter}setFilter(t){return o.a.prototype.setFilter.call(this,t)}compare(t,e){return o.a.prototype.compare.call(this,t,e)}getRenderer(){return l.a.prototype.getRenderer.call(this)}};var f;d.EVENT_MAPPING_CHANGED=l.a.EVENT_MAPPING_CHANGED,d=f=n.a([Object(a.g)("stratify","filterOrdinal"),Object(a.a)("categorical")],d),e.a=d},function(t,e,r){"use strict";e.a=function(t="Rank"){return{type:"rank",label:t}};var n=r(3),i=r(1),s=r(11);let a=class extends s.a{constructor(t,e){super(t,e),this.setDefaultWidth(50)}get frozen(){return!1!==this.desc.frozen}};a=n.a([Object(i.b)(),Object(i.a)("support")],a),e.b=a},function(t,e,r){"use strict";r(102),r(281),r(156);var n=r(282);r.d(e,"c",function(){return n.a});r(103),r(104),r(72);var i=r(283);r.d(e,"d",function(){return i.a});var s=r(311);r.d(e,"e",function(){return s.a});r(20),r(107),r(157),r(160);var a=r(312);r.d(e,"f",function(){return a.a});r(313),r(108);var o=r(106);r.d(e,"b",function(){return o.c}),r.d(e,"a",function(){return o.a})},function(t,e,r){"use strict";e.b=function(t,e,r={}){r=Object.assign({dragAble:!0,mergeDropAble:!0,rearrangeAble:!0,resizeable:!0},r);const d=e.document.createElement("section");d.innerHTML=`\n    <div class="lu-label">${t.getWidth()<i.c?"&nbsp;":t.label}</div>\n    <div class="lu-toolbar"></div>\n    <div class="lu-spacing"></div>\n    <div class="lu-handle"></div>\n  `,function(t,e){let r=-1,s=null;const a=()=>{if(r=-1,e.description.length<=0)return;const i=t.closest(".lu");i.insertAdjacentHTML("beforeend",`<div class="lu-tooltip" data-type="${e.desc.type}" data-type-cat="${Object(o.c)(e).name}">\n        <div x-arrow></div>\n        <h4 class="lu-label">${e.label}</h4>\n        <p>${e.description.replace("\n","<br/>")}</p>\n    </div>`),s=new n.a(t,i.lastElementChild,{removeOnDestroy:!0,placement:"auto",modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1}}})};t.addEventListener("mouseenter",()=>{r=self.setTimeout(a,i.b)}),t.addEventListener("mouseleave",()=>{r>=0&&(clearTimeout(r),r=-1),s&&(s.destroy(),s=null)})}(d,t),p(d.querySelector("div.lu-toolbar"),t,e),g(d,t),r.dragAble&&b(d,t,e);r.mergeDropAble&&function(t,e,r){const n=t=>{const n=t.data,i="copy"===t.effect,s=m,a=Object.keys(n).find(t=>t.startsWith(s)&&t.endsWith("-ref"));if(a){const t=n[a];let s=r.provider.find(t);if(i)s=r.provider.clone(s);else{if(s===e)return null;s.removeMe()}return s}const o=Object.keys(n).find(t=>t.startsWith(s));if(!o)return null;const c=JSON.parse(o);return r.provider.create(r.provider.fromDescRef(c))},i=t=>{const r=n(t);return null!=r&&null!=e.push(r)},o=(t,n)=>{if(null==t)return!1;const i=e.findMyRanker(),s=i.indexOf(e),a=r.provider.create(n);return e.removeMe(),a.push(e),a.push(t),null!=i.insert(a,s)},d=t=>e=>{const r=n(e);return o(r,t)},f=[`${m}-ref`,m],p=[`${m}-number-ref`,`${m}-number`],g=[`${m}-categorical-ref`,`${m}-categorical`],b=[`${m}-boxplot-ref`,`${m}-boxplot`],E=[`${m}-numbers-ref`,`${m}-numbers`];if(t.dataset.draginfo="+",e instanceof l.b)return Object(s.b)(t,g.concat(p),i,e=>{Object(s.c)(e,...g)?t.dataset.draginfo="Color by":Object(s.c)(e,...p)&&(t.dataset.draginfo="Wrap")});if(e instanceof u.b)return Object(s.b)(t,g.concat(b),i,e=>{Object(s.c)(e,...g)?t.dataset.draginfo="Color by":Object(s.c)(e,...b)&&(t.dataset.draginfo="Wrap")});if(e instanceof h.b)return Object(s.b)(t,g.concat(E),i,e=>{Object(s.c)(e,...g)?t.dataset.draginfo="Color by":Object(s.c)(e,...E)&&(t.dataset.draginfo="Wrap")});if(Object(c.b)(e))return Object(s.b)(t,e.canJustAddNumbers?p:f,i);if(e instanceof c.a)return Object(s.b)(t,e.canJustAddNumbers?p:f,i);if(Object(a._30)(e))return t.dataset.draginfo="Color by",Object(s.b)(t,g,d(Object(a._3)()));if(Object(a._17)(e))return t.dataset.draginfo="Color by",Object(s.b)(t,g,d(Object(a._1)()));if(Object(a._28)(e))return t.dataset.draginfo="Merge",Object(s.b)(t,g.concat(p),(t,e)=>{const r=n(t);return null!=r&&(Object(a._18)(r)?o(r,Object(a._2)()):!!Object(a._28)(r)&&o(r,e.shiftKey?Object(a._7)():Object(a._10)()))},e=>{Object(s.c)(e,...g)?t.dataset.draginfo="Color by":Object(s.c)(e,...p)&&(t.dataset.draginfo=e.shiftKey?"Min/Max":"Sum")});t.dataset.draginfo="Group",Object(s.b)(t,f,d(Object(a._5)()))}(d,t,e);r.rearrangeAble&&(f=d.querySelector(".lu-handle"),E=t,v=e,Object(s.b)(f,[`${m}-ref`,m],t=>{let e=null;const r=t.data;if(!(`${m}-ref`in r)){const t=JSON.parse(r[m]);return null!=(e=v.provider.create(v.provider.fromDescRef(t)))&&null!=E.insertAfterMe(e)}const n=r[`${m}-ref`];if(!(e=v.provider.find(n))||e===E&&!t.effect.startsWith("copy"))return!1;if(t.effect.startsWith("copy"))return null!=(e=v.provider.clone(e))&&null!=E.insertAfterMe(e);const i=e.parent;return i?i===E.parent?null!=i.moveAfter(e,E):(e.removeMe(),null!=E.insertAfterMe(e)):null!=E.insertAfterMe(e)},null,!0));var f,E,v;r.resizeable&&function(t,e){let r;const n=e.querySelector(".lu-handle");let i=0;const s=r=>{r.stopPropagation(),r.preventDefault();const n=r.clientX;if(Math.abs(i-n)<2)return;const s=n-i;i=n;const a=Math.max(0,t.getWidth()+s);t.setWidth(a),g(e,t)},a=n=>{n.stopPropagation(),n.preventDefault();const o=n.clientX;if(e.classList.remove("lu-change-width"),r.removeEventListener("mousemove",s),r.removeEventListener("mouseup",a),r.removeEventListener("mouseleave",a),Math.abs(i-o)<2)return;const c=o-i,u=Math.max(0,t.getWidth()+c);t.setWidth(u),g(e,t)};n.onmousedown=(t=>{t.stopPropagation(),t.preventDefault(),e.classList.add("lu-change-width"),i=t.clientX,(r=e.closest("header")).addEventListener("mousemove",s),r.addEventListener("mouseup",a),r.addEventListener("mouseleave",a)}),n.onclick=(t=>{t.stopPropagation(),t.preventDefault()})}(t,d);return d},e.f=function(t,e){t.querySelector(".lu-label").innerHTML=e.getWidth()<i.c?"&nbsp;":e.label,t.title=e.label,t.dataset.type=e.desc.type,t.dataset.typeCat=Object(o.c)(e).name;const r=t.querySelector("i[title='Sort']");if(r){const{asc:t,priority:n}=e.isSortedByMe();r.dataset.sort=void 0!==t?t:"",void 0!==n?r.dataset.priority=(parseInt(n,10)+1).toString():delete r.dataset.priority}const n=t.querySelector("i[title^='Stratify']");if(!n)return;const s=e.isGroupedBy();n.dataset.stratify=s>=0?"true":"false",s>=0?n.dataset.priority=(s+1).toString():delete n.dataset.priority},e.a=f,e.c=p,e.d=function(t,e,r){Object(d.a)(e,r).filter(t=>!t.title.startsWith("More")).forEach(e=>t(e.title,e.onClick))},e.e=b;var n=r(163),i=r(33),s=(r(8),r(330)),a=r(2),o=r(1),c=r(25),u=r(70),l=r(50),h=r(67),d=r(172);function f(t,e,r,n){return(i,s)=>{t.insertAdjacentHTML("beforeend",`<i title="${i}"><span${n?"":' aria-hidden="true"'}>${i}</span> </i>`);const a=t.lastElementChild;return a.onclick=(t=>{t.stopPropagation(),s(e,t,r)}),a}}function p(t,e,r){return n=f(t,e,r,!1),i=e,s=r,void Object(d.a)(i,s).filter(t=>t.options.shortcut).forEach(t=>n(t.title,t.onClick));var n,i,s}function g(t,e,r=22.5){const n=t.querySelector(".lu-toolbar"),i=n.querySelector("[title^=More]"),s=e.getWidth()-(i.clientWidth||r),a=Array.from(n.children).filter(t=>t!==i).reverse();a.forEach(t=>{t.classList.remove("hidden")}),a.forEach(t=>{const e=a.reduce((t,e)=>{const n=e.clientWidth;return n>0?t+n:e.classList.contains("hidden")?t:t+r},0);t.classList.toggle("hidden",e>s)})}const m="text/x-caleydo-lineup-column";function b(t,e,r){Object(s.a)(t,()=>{const t=JSON.stringify(r.provider.toDescRef(e.desc)),n={"text/plain":e.label,[`${m}-ref`]:e.id,[m]:t};return Object(a._28)(e)&&(n[`${m}-number`]=t,n[`${m}-number-ref`]=e.id),Object(a._18)(e)&&(n[`${m}-categorical`]=t,n[`${m}-categorical-ref`]=e.id),Object(a._17)(e)&&(n[`${m}-boxplot`]=t,n[`${m}-boxplot-ref`]=e.id),Object(a._25)(e)&&(n[`${m}-map`]=t,n[`${m}-map-ref`]=e.id),Object(a._16)(e)&&(n[`${m}-array`]=t,n[`${m}-array-ref`]=e.id),Object(a._30)(e)&&(n[`${m}-numbers`]=t,n[`${m}-numbers-ref`]=e.id),{effectAllowed:"copyMove",data:n}},!0)}},function(t,e,r){"use strict";var n=r(8),i=r(2),s=r(148);function a(t){return t.map((t,e)=>({v:t,i:e}))}e.a=class extends s.a{constructor(t,e=[],r={}){super(e,r),this._data=t,this.options={filterGlobally:!1,jumpToSearchResult:!1,maxNestedSortingCriteria:1,maxGroupColumns:1},Object.assign(this.options,r),this._dataRows=a(t);const n=this;this.reorderAll=function(){const t=this.source;n.getRankings().forEach(e=>{e!==t&&e.dirtyOrder()})}}getTotalNumberOfRows(){return this.data.length}getMaxGroupColumns(){return this.options.maxGroupColumns}getMaxNestedSortingCriteria(){return this.options.maxNestedSortingCriteria}get data(){return this._data}setData(t){this._data=t,this._dataRows=a(t),this.reorderAll()}clearData(){this.setData([])}appendData(t){this._data.push(...t),this._dataRows.push(...a(t)),this.reorderAll()}cloneRanking(t){const e=super.cloneRanking(t);return this.options.filterGlobally&&e.on(`${i._11.EVENT_FILTER_CHANGED}.reorderAll`,this.reorderAll),e}cleanUpRanking(t){this.options.filterGlobally&&t.on(`${i._11.EVENT_FILTER_CHANGED}.reorderAll`,null),super.cleanUpRanking(t)}sortImpl(t){if(0===this._data.length)return[];let e=this._data.map((t,e)=>({v:t,i:e,group:null}));if(this.options.filterGlobally){const t=this.getRankings().filter(t=>t.isFiltered());t.length>0&&(e=e.filter(e=>t.every(t=>t.filter(e))))}else t.isFiltered()&&(e=e.filter(e=>t.filter(e)));if(0===e.length)return[];if(e.forEach(e=>e.group=t.grouper(e)||i._12),1===new Set(e.map(t=>t.group.name)).size){const r=e[0].group;e.sort((e,r)=>t.comparator(e,r));const n=e.map(t=>t.i);return[Object.assign({order:n},r)]}e.sort((e,r)=>{const n=e.group,i=r.group;return n.name!==i.name?n.name.toLowerCase().localeCompare(i.name.toLowerCase()):t.comparator(e,r)});const r=[Object.assign({order:[],rows:[]},e[0].group)];let n=r[0];return e.forEach(t=>{const e=t.group;e.name===n.name?(n.order.push(t.i),n.rows.push(t)):(n=Object.assign({order:[t.i],rows:[t]},e),r.push(n))}),r.sort((e,r)=>t.groupComparator(e,r)),r}viewRaw(t){return t.map(t=>this._data[t])}viewRawRows(t){return t.map(t=>this._dataRows[t])}view(t){return this.viewRaw(t)}fetch(t){return t.map(t=>t.map(t=>this._dataRows[t]))}stats(t){let e=null;const r=()=>(null==e&&(e=this.viewRawRows(t)),e);return{stats:t=>Object(n.c)(r(),e=>t.getNumber(e),e=>t.isMissing(e),[0,1]),hist:t=>Object(n.b)(r(),e=>t.getCategory(e),t.categories)}}mappingSample(t){const e=this._dataRows.length;if(e<=120)return this._dataRows.map(t.getRawNumber.bind(t));const r=[];for(let t=0;t<120;++t){let t=Math.floor(Math.random()*(e-1));for(;r.indexOf(t)>=0;)t=Math.floor(Math.random()*(e-1));r.push(t)}return r.map(e=>t.getRawNumber(this._dataRows[e]))}searchAndJump(t,e){const r="string"==typeof(t="string"==typeof t?t.toLowerCase():t)?e=>e.toLowerCase().indexOf(t)>=0:t.test.bind(t),n=[];for(let t=0;t<this._dataRows.length;++t)r(e.getLabel(this._dataRows[t]))&&n.push(t);this.jumpToNearest(n)}}},function(t,e,r){"use strict";e.a=function(t="actions",e=[],r=[]){return{type:"actions",label:t,actions:e,groupActions:r}};var n=r(3),i=r(1),s=r(0);let a=class extends s.a{constructor(t,e){super(t,e),this.actions=e.actions||[],this.groupActions=e.groupActions||[]}getLabel(){return""}getValue(){return""}compare(){return 0}};a=n.a([Object(i.b)(),Object(i.a)("support")],a),e.b=a},function(t,e,r){"use strict";e.a={name:"Default",color:"gray"}},function(t,e,r){"use strict";var n=r(0),i=r(18);class s extends i.b{constructor(){super(...arguments),this.annotations=new Map}createEventList(){return super.createEventList().concat([s.EVENT_VALUE_CHANGED])}getValue(t){return this.annotations.has(t.i)?this.annotations.get(t.i):super.getValue(t)}dump(t){const e=super.dump(t);return e.annotations={},this.annotations.forEach((t,r)=>{e.annotations[r]=t}),e}restore(t,e){super.restore(t,e),t.annotations&&Object.keys(t.annotations).forEach(e=>{this.annotations.set(Number(e),t.annotations[e])})}setValue(t,e){const r=this.getValue(t);return r===e||(""===e||null==e?this.annotations.delete(t.i):this.annotations.set(t.i,e),this.fire([s.EVENT_VALUE_CHANGED,n.a.EVENT_DIRTY_VALUES,n.a.EVENT_DIRTY],t.i,r,e),!0)}}e.a=s,s.EVENT_VALUE_CHANGED="valueChanged"},function(t,e,r){"use strict";e.a=function(t,e){return e-=t=+t,function(r){return t+e*r}}},function(t,e,r){"use strict";e.c=u,e.a=function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())},e.b=function(t,e){var r,n,a,d=c,f=c,p=i.a,g=!1;function m(){return r=Math.min(d.length,f.length)>2?h:l,n=a=null,b}function b(e){return(n||(n=r(d,f,g?(i=t,function(t,e){var r=i(t=+t,e=+e);return function(n){return n<=t?0:n>=e?1:r(n)}}):t,p)))(+e);var i}return b.invert=function(t){return(a||(a=r(f,d,u,g?(n=e,function(t,e){var r=n(t=+t,e=+e);return function(n){return n<=0?t:n>=1?e:r(n)}}):e)))(+t);var n},b.domain=function(t){return arguments.length?(d=s.a.call(t,o.a),m()):d.slice()},b.range=function(t){return arguments.length?(f=s.b.call(t),m()):f.slice()},b.rangeRound=function(t){return f=s.b.call(t),p=i.d,m()},b.clamp=function(t){return arguments.length?(g=!!t,m()):g},b.interpolate=function(t){return arguments.length?(p=t,m()):p},m()};var n=r(13),i=r(46),s=r(28),a=r(83),o=r(138),c=[0,1];function u(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Object(a.a)(e)}function l(t,e,r,n){var i=t[0],s=t[1],a=e[0],o=e[1];return s<i?(i=r(s,i),a=n(o,a)):(i=r(i,s),a=n(a,o)),function(t){return a(i(t))}}function h(t,e,r,i){var s=Math.min(t.length,e.length)-1,a=new Array(s),o=new Array(s),c=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<s;)a[c]=r(t[c],t[c+1]),o[c]=i(e[c],e[c+1]);return function(e){var r=Object(n.b)(t,e,1,s)-1;return o[r](a[r](e))}}},function(t,e,r){"use strict";var n=r(84);e.a=function(t){return(t=Object(n.a)(Math.abs(t)))?t[1]:NaN}},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(23),a=r(0),o=r(11);let c=u=class extends o.a{constructor(t,e){super(t,e),this.currentFilter=null,this.setWidthImpl(30),this.categories=[{name:e.trueMarker||"✓",color:u.GROUP_TRUE.color,label:u.GROUP_TRUE.name,value:0},{name:e.trueMarker||"",color:u.GROUP_FALSE.color,label:u.GROUP_FALSE.name,value:1}]}get dataLength(){return this.categories.length}get labels(){return this.categories.map(t=>t.label)}getValue(t){const e=super.getValue(t);return void 0!==e&&null!=e&&(!0===e||"true"===e||"yes"===e||"x"===e)}isMissing(){return!1}getCategory(t){const e=this.getValue(t);return this.categories[e?0:1]}getLabel(t){return s.a.prototype.getLabel.call(this,t)}getLabels(t){return s.a.prototype.getLabels.call(this,t)}getValues(t){return s.a.prototype.getValues.call(this,t)}getMap(t){return s.a.prototype.getMap.call(this,t)}getMapLabel(t){return s.a.prototype.getMapLabel.call(this,t)}getSet(t){const e=this.getValue(t),r=new Set;return r.add(this.categories[e?0:1]),r}dump(t){const e=super.dump(t);return null!=this.currentFilter&&(e.filter=this.currentFilter),e}restore(t,e){super.restore(t,e),void 0!==t.filter&&(this.currentFilter=t.filter)}isFiltered(){return null!=this.currentFilter}filter(t){if(!this.isFiltered())return!0;const e=this.getValue(t);return e===this.currentFilter}getFilter(){return this.currentFilter}setFilter(t){this.currentFilter!==t&&this.fire([a.a.EVENT_FILTER_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=t)}compare(t,e){const r=this.getValue(t),n=this.getValue(e);return r===n?0:r<n?-1:1}group(t){const e=this.getValue(t);return e?u.GROUP_TRUE:u.GROUP_FALSE}};var u;c.GROUP_TRUE={name:"True",color:"black"},c.GROUP_FALSE={name:"False",color:"white"},c=u=n.a([Object(i.g)("stratify","filterBoolean"),Object(i.a)("categorical")],c),e.a=c},function(t,e,r){"use strict";function n(t){return"function"==typeof t.getMap&&"function"==typeof t.getMapLabel}e.b=n,e.a=function(t){return"function"==typeof t.getLabels&&"function"==typeof t.getValues&&n(t)}},function(t,e,r){"use strict";e.a=function(t="Group"){return{type:"group",label:t}};var n=r(3),i=r(1),s=r(0),a=r(10);let o=class extends s.a{constructor(){super(...arguments),this.groupSortMethod="name"}get frozen(){return!1!==this.desc.frozen}getLabel(){return""}getValue(){return""}compare(){return 0}getSortMethod(){return this.groupSortMethod}setSortMethod(t){this.groupSortMethod!==t&&(this.fire([s.a.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=t),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())}groupCompare(t,e){switch(this.groupSortMethod){case"count":return t.rows.length-e.rows.length;default:return t.name===a.d.name?e.name===a.d.name?0:a.a:e.name===a.d.name?-a.a:t.name.toLowerCase().localeCompare(e.name.toLowerCase())}}};o=n.a([Object(i.b)(),Object(i.g)("sortGroup"),Object(i.a)("support")],o),e.b=o},function(t,e,r){"use strict";e.d=function(t){const e=[t];let r=0;for(;r<e.length;){const t=e[r++];e.push(...t.children)}return e},e.c=function(t){if(0===t.length||"string"==typeof t[0])return!1;return t.some(t=>null!=t.parent)},e.b=function(t){const e=new Map;t.forEach(t=>{const r=t.parent||"",n=Object.assign({children:[],label:t.name,name:t.name,color:a.a.DEFAULT_COLOR,value:0},e.get(t.name)||{},t);e.set(t.name,n),e.has(r)||e.set(r,{name:r,children:[],label:r,value:0,color:a.a.DEFAULT_COLOR}),e.get(r).children.push(n)});const r=e.get("");if(console.assert(void 0!==r,"hierarchy with no root"),1===r.children.length)return r.children[0];return r};var n=r(3),i=r(1),s=r(23),a=r(0),o=r(17),c=r(10),u=r(11);let l=d=class extends u.a{constructor(t,e){super(t,e),this.currentMaxDepth=1/0,this.currentLeaves=[],this.currentLeavesNameCache=new Map,this.currentLeavesPathCache=new Map,this.hierarchySeparator=e.hierarchySeparator||".",this.hierarchy=this.initHierarchy(e.hierarchy),this.currentNode=this.hierarchy,this.currentLeaves=h(this.currentNode,this.currentMaxDepth),this.updateCaches(),this.setDefaultRenderer("categorical")}initHierarchy(t){const e=Object(o.a)(),r=this.hierarchySeparator,n=(t,i)=>{const s=null==i.name?String(i.value):i.name,a=(i.children||[]).map(i=>{if("string"==typeof i){const r=t+i;return{path:r,name:i,label:r,color:e(),value:0,children:[]}}const a=n(`${t}${s}${r}`,i);return a.color||(a.color=e()),a}),o=t+s,c=i.label?`${i.label}`:o;return{path:o,name:s,children:a,label:c,color:i.color,value:0}};return n("",t)}get categories(){return this.currentLeaves}createEventList(){return super.createEventList().concat([d.EVENT_CUTOFF_CHANGED])}getCutOff(){return{node:this.currentNode,maxDepth:this.currentMaxDepth}}setCutOff(t){const e=null==t.maxDepth?1/0:t.maxDepth;if(this.currentNode===t.node&&this.currentMaxDepth===e)return;const r=this.getCutOff();this.currentNode=t.node,this.currentMaxDepth=e,this.currentLeaves=h(t.node,e),this.updateCaches(),this.fire([d.EVENT_CUTOFF_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],r,this.getCutOff())}getCategory(t){let e=super.getValue(t);return null==e||""===e?null:(e=e.trim(),this.currentLeavesNameCache.has(e)?this.currentLeavesNameCache.get(e):this.currentLeavesPathCache.has(e)?this.currentLeavesPathCache.get(e):this.currentLeaves.find(t=>t.path===e||t.name===e||e.startsWith(t.path+this.hierarchySeparator))||null)}get dataLength(){return this.currentLeaves.length}get labels(){return this.currentLeaves.map(t=>t.label)}getValue(t){const e=this.getCategory(t);return e?e.name:null}getLabel(t){return s.a.prototype.getLabel.call(this,t)}getLabels(t){return s.a.prototype.getLabels.call(this,t)}getValues(t){return s.a.prototype.getValues.call(this,t)}getMap(t){return s.a.prototype.getMap.call(this,t)}getMapLabel(t){return s.a.prototype.getMapLabel.call(this,t)}getSet(t){return s.a.prototype.getSet.call(this,t)}compare(t,e){return s.a.prototype.compare.call(this,t,e)}group(t){if(this.isMissing(t))return c.d;const e=this.getCategory(t);return e?{name:e.label,color:e.color}:super.group(t)}updateCaches(){this.currentLeavesPathCache.clear(),this.currentLeavesNameCache.clear(),this.currentLeaves.forEach(t=>{this.currentLeavesPathCache.set(t.path,t),this.currentLeavesNameCache.set(t.name,t)})}};function h(t,e=1/0){const r=[],n=(t,i)=>{i>=e||0===t.children.length?r.push(t):t.children.forEach(t=>n(t,i+1))};return n(t,0),r}var d;l.EVENT_CUTOFF_CHANGED="cutOffChanged",l=d=n.a([Object(i.g)("cutoff","stratify"),Object(i.a)("categorical")],l),e.a=l},function(t,e,r){"use strict";e.a=function(t="Imposition"){return{type:"impositions",label:t}};var n=r(3),i=r(14),s=r(1),a=r(25),o=r(16),c=r(4),u=r(24),l=r(30);let h=d=class extends a.a{constructor(t,e){super(t,e),this.setDefaultRenderer("numbers"),this.setDefaultGroupRenderer("numbers")}get label(){const t=super.label,e=this._children;return"Imposition"!==t||0===e.length?t:1===e.length?e[0].label:`${e[0].label} (${e.slice(1).map(t=>t.label).join(", ")})`}get wrapper(){const t=this._children;return 0===t.length?null:t[0]}getLabel(t){const e=this._children;return 0===e.length?"":1===e.length?e[0].getLabel(t):`${e[0].getLabel(t)} (${e.slice(1).map(e=>`${e.label} = ${e.getLabel(t)}`)})`}getColor(t){const e=this._children;if(e.length<2)return this.color;const r=e[1].getCategory(t);return r?r.color:this.color}createEventList(){return super.createEventList().concat([d.EVENT_MAPPING_CHANGED])}get labels(){const t=this.wrapper;return t?t.labels:[]}get dataLength(){const t=this.wrapper;return t?t.dataLength:null}getValue(t){const e=this.wrapper;return e?e.getValue(t):[]}getNumber(t){const e=this.wrapper;return e?e.getNumber(t):NaN}getRawNumber(t){const e=this.wrapper;return e?e.getRawNumber(t):NaN}getNumbers(t){const e=this.wrapper;return e?e.getNumbers(t):[]}getRawNumbers(t){const e=this.wrapper;return e?e.getRawNumbers(t):[]}getBoxPlotData(t){const e=this.wrapper;return e?e.getBoxPlotData(t):null}getRawBoxPlotData(t){const e=this.wrapper;return e?e.getRawBoxPlotData(t):null}getMapping(){const t=this.wrapper;return t?t.getMapping():new u.a}getOriginalMapping(){const t=this.wrapper;return t?t.getOriginalMapping():new u.a}getSortMethod(){const t=this.wrapper;return t?t.getSortMethod():c.b.min}setSortMethod(t){const e=this.wrapper;return e?e.setSortMethod(t):void 0}isMissing(t){const e=this.wrapper;return!e||e.isMissing(t)}setMapping(t){const e=this.wrapper;return e?e.setMapping(t):void 0}getFilter(){const t=this.wrapper;return t?t.getFilter():Object(c.k)()}setFilter(t){const e=this.wrapper;return e?e.setFilter(t):void 0}getRange(){const t=this.wrapper;return t?t.getRange():["0","1"]}getMap(t){const e=this.wrapper;return e?e.getMap(t):[]}getMapLabel(t){const e=this.wrapper;return e?e.getMapLabel(t):[]}getLabels(t){const e=this.wrapper;return e?e.getLabels(t):[]}getValues(t){const e=this.wrapper;return e?e.getValues(t):[]}compare(t,e){return l.a.prototype.compare.call(this,t,e)}group(t){return l.a.prototype.group.call(this,t)}groupCompare(t,e){return l.a.prototype.groupCompare.call(this,t,e)}insert(t,e){return(0!==this._children.length||Object(c.j)(t))&&(1!==this._children.length||Object(o.b)(t))?this._children.length>=2?null:super.insert(t,e):null}insertImpl(t,e){return Object(c.j)(t)&&this.forward(t,...Object(i.b)(".impose",l.a.EVENT_MAPPING_CHANGED)),super.insertImpl(t,e)}removeImpl(t){return Object(c.j)(t)&&this.unforward(t,...Object(i.b)(".impose",l.a.EVENT_MAPPING_CHANGED)),super.removeImpl(t)}};var d;h.EVENT_MAPPING_CHANGED=l.a.EVENT_MAPPING_CHANGED,h=d=n.a([Object(s.g)("sortNumbers","filterMapped")],h),e.b=h},function(t,e,r){"use strict";e.a=function(t="S"){return{type:"selection",label:t}};var n=r(3),i=r(1),s=r(11);let a=o=class extends s.a{constructor(t,e){super(t,e),this.setDefaultWidth(20)}get frozen(){return!1!==this.desc.frozen}createEventList(){return super.createEventList().concat([o.EVENT_SELECT])}setValue(t,e){const r=this.getValue(t);return r===e||this.setImpl(t,e)}setValues(t,e){if(0!==t.length)return this.desc.setterAll&&this.desc.setterAll(t,e),this.fire(o.EVENT_SELECT,t[0],e,t),!0}setImpl(t,e){return this.desc.setter&&this.desc.setter(t,e),this.fire(o.EVENT_SELECT,t,e),!0}toggleValue(t){const e=this.getValue(t);return this.setImpl(t,!e),!e}compare(t,e){const r=!0===this.getValue(t),n=!0===this.getValue(e);return r===n?0:r<n?-1:1}group(t){const e=this.getValue(t);return e?o.SELECTED_GROUP:o.NOT_SELECTED_GROUP}};var o;a.SELECTED_GROUP={name:"Selected",color:"orange"},a.NOT_SELECTED_GROUP={name:"Unselected",color:"gray"},a.EVENT_SELECT="select",a=o=n.a([Object(i.b)(),Object(i.g)("sort","stratify"),Object(i.a)("support")],a),e.b=a},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(17),a=r(41),o=r(18);let c=class extends a.a{constructor(t,e){super(t,e),this.setDefaultWidth(200),this.alignment=e.alignment||o.a.left,this.escape=!1!==e.escape,this.pattern=e.pattern||"",this.patternTemplates=e.patternTemplates||[],this.setDefaultRenderer("map")}setPattern(t){o.b.prototype.setPattern.call(this,t)}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([o.b.EVENT_PATTERN_CHANGED])}getValue(t){return super.getValue(t).map(({key:e,value:r})=>({key:e,value:this.replacePattern(r,e,t)}))}replacePattern(t,e,r){return this.pattern?(this.patternFunction||(this.patternFunction=Object(s.f)(this.pattern,"item","key")),this.patternFunction.call(this,t,r.v,e)):null==t?"":String(t)}dump(t){const e=super.dump(t);return this.pattern!==this.desc.pattern&&(e.pattern=this.pattern),e}restore(t,e){t.pattern&&(this.pattern=t.pattern),super.restore(t,e)}};c=n.a([Object(i.g)("search","editPattern")],c),e.a=c},function(t,e,r){"use strict";e.a=function(t="Imposition"){return{type:"impositions",label:t}};var n=r(3),i=r(14),s=r(1),a=r(40),o=r(25),c=r(16),u=r(4),l=r(24),h=r(30);let d=f=class extends o.a{constructor(t,e){super(t,e),this.setDefaultRenderer("boxplot"),this.setDefaultGroupRenderer("boxplot")}get label(){const t=super.label,e=this._children;return"Imposition"!==t||0===e.length?t:1===e.length?e[0].label:`${e[0].label} (${e.slice(1).map(t=>t.label).join(", ")})`}get wrapper(){const t=this._children;return 0===t.length?null:t[0]}getLabel(t){const e=this._children;return 0===e.length?"":1===e.length?e[0].getLabel(t):`${e[0].getLabel(t)} (${e.slice(1).map(e=>`${e.label} = ${e.getLabel(t)}`)})`}getColor(t){const e=this._children;if(e.length<2)return this.color;const r=e[1].getCategory(t);return r?r.color:this.color}createEventList(){return super.createEventList().concat([f.EVENT_MAPPING_CHANGED])}getValue(t){const e=this.wrapper;return e?e.getValue(t):null}getNumber(t){const e=this.wrapper;return e?e.getNumber(t):NaN}getRawNumber(t){const e=this.wrapper;return e?e.getRawNumber(t):NaN}getBoxPlotData(t){const e=this.wrapper;return e?e.getBoxPlotData(t):null}getRawBoxPlotData(t){const e=this.wrapper;return e?e.getRawBoxPlotData(t):null}getMapping(){const t=this.wrapper;return t?t.getMapping():new l.a}getOriginalMapping(){const t=this.wrapper;return t?t.getOriginalMapping():new l.a}getSortMethod(){const t=this.wrapper;return t?t.getSortMethod():u.c.min}setSortMethod(t){const e=this.wrapper;return e?e.setSortMethod(t):void 0}isMissing(t){const e=this.wrapper;return!e||e.isMissing(t)}setMapping(t){const e=this.wrapper;return e?e.setMapping(t):void 0}getFilter(){const t=this.wrapper;return t?t.getFilter():Object(u.k)()}setFilter(t){const e=this.wrapper;return e?e.setFilter(t):void 0}getRange(){const t=this.wrapper;return t?t.getRange():["0","1"]}compare(t,e){return a.a.prototype.compare.call(this,t,e)}group(t){return a.a.prototype.group.call(this,t)}groupCompare(t,e){return a.a.prototype.groupCompare.call(this,t,e)}insert(t,e){return(0!==this._children.length||Object(u.f)(t))&&(1!==this._children.length||Object(c.b)(t))?this._children.length>=2?null:super.insert(t,e):null}insertImpl(t,e){return Object(u.f)(t)&&this.forward(t,...Object(i.b)(".impose",a.a.EVENT_MAPPING_CHANGED)),super.insertImpl(t,e)}removeImpl(t){return Object(u.f)(t)&&this.unforward(t,...Object(i.b)(".impose",a.a.EVENT_MAPPING_CHANGED)),super.removeImpl(t)}};var f;d.EVENT_MAPPING_CHANGED=h.a.EVENT_MAPPING_CHANGED,d=f=n.a([Object(s.g)("sortNumbers","filterMapped")],d),e.b=d},function(t,e,r){"use strict";var n=r(33),i=r(169),s=r(26),a=r(170),o=r(111),c=r(110);e.a=class extends a.a{constructor(t,e,r={}){super(t,e),this.options=Object(n.d)(),Object(i.a)(this.options,r),this.node.classList.add("lu"),this.renderer=new o.a(e,this.node,this.options),this.options.panel&&(this.panel=new c.a(this.renderer.ctx,this.node.ownerDocument,{collapseable:!this.options.panelCollapsed||"collapsed"}),this.renderer.pushUpdateAble(t=>this.panel.update(t)),this.node.insertBefore(this.panel.node,this.node.firstChild)),this.forward(this.data,`${s.a.EVENT_SELECTION_CHANGED}.main`)}destroy(){this.renderer.destroy(),super.destroy()}update(){this.renderer.update()}setDataProvider(t,e){super.setDataProvider(t,e),this.renderer.setDataProvider(t),this.update(),this.panel&&this.panel.update(this.renderer.ctx)}}},function(t,e,r){"use strict";e.a=function(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,r){"use strict";e.b=o,e.c=c;var n=r(40),i=r(4),s=r(19),a=r(7);function o(t,e,r){const n=e.getSortMethod();r.forEach(e=>t.insertAdjacentHTML("beforeend",`<label><input type="radio" name="multivaluesort" value="${e}"  ${n===e?"checked":""} > ${e.slice(0,1).toUpperCase()+e.slice(1)}</label>`)),Array.from(t.querySelectorAll("input[name=multivaluesort]")).forEach(t=>{t.addEventListener("change",()=>e.setSortMethod(t.value))})}function c(t,e,r=!1){const n=r?e.isGroupSortedByMe().asc:e.isSortedByMe().asc;t.insertAdjacentHTML("beforeend",`\n        <h4>Sort Order</h4>\n        <label><input type="radio" name="sortorder" value="asc"  ${"asc"===n?"checked":""} > Ascending</label>\n        <label><input type="radio" name="sortorder" value="desc"  ${"desc"===n?"checked":""} > Decending</label>\n    `),Array.from(t.querySelectorAll("input[name=sortorder]")).forEach(t=>{t.addEventListener("change",()=>{r?e.groupSortByMe("asc"===t.value):e.sortByMe("asc"===t.value)})})}e.a=class extends a.a{constructor(t,e){super(e,{hideOnMoveOutside:!0}),this.column=t}build(t){o(t,this.column,Object.keys(this.column instanceof n.a?i.c:i.b)),c(t,this.column,this.column instanceof s.a)}}},function(t,e,r){"use strict";var n=r(174);r.d(e,"a",function(){return n.a});r(175)},function(t,e,r){"use strict";e.a=class{constructor(t=[]){this[Symbol.toStringTag]=Symbol("OrderedSet"),this.set=new Set,this.list=[],this.addAll(t)}get size(){return this.set.size}clear(){this.set.clear(),this.list.splice(0,this.list.length)}addAll(t){return t.forEach(t=>this.add(t)),this}add(t){return this.set.has(t)?this:(this.set.add(t),this.list.push(t),this)}has(t){return this.set.has(t)}delete(t){const e=this.set.delete(t);if(!e)return!1;const r=this.list.indexOf(t);return console.assert(r>=0),this.list.splice(r,1),!0}deleteAll(t){return t.reduce((t,e)=>this.delete(e)&&t,!0)}forEach(t,e){this.list.forEach(function(e){t.call(this,e,e,this)},e)}[Symbol.iterator](){return this.list[Symbol.iterator]()}}},function(t,e,r){"use strict";var n=r(43);e.a=function(t,e,r){if(null==r&&(r=n.a),i=t.length){if((e=+e)<=0||i<2)return+r(t[0],0,t);if(e>=1)return+r(t[i-1],i-1,t);var i,s=(i-1)*e,a=Math.floor(s),o=+r(t[a],a,t);return o+(+r(t[a+1],a+1,t)-o)*(s-a)}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.d(e,"b",function(){return n});var n="$";function i(){}function s(t,e){var r=new i;if(t instanceof i)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var n,s=-1,a=t.length;if(null==e)for(;++s<a;)r.set(s,t[s]);else for(;++s<a;)r.set(e(n=t[s],s,t),n)}else if(t)for(var o in t)r.set(o,t[o]);return r}i.prototype=s.prototype={constructor:i,has:function(t){return n+t in this},get:function(t){return this[n+t]},set:function(t,e){return this[n+t]=e,this},remove:function(t){var e=n+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===n&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===n&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===n&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===n&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===n&&++t;return t},empty:function(){for(var t in this)if(t[0]===n)return!1;return!0},each:function(t){for(var e in this)e[0]===n&&t(this[e],e.slice(1),this)}},e.a=s},function(t,e,r){"use strict";var n=r(21),i=r(131),s=r(134),a=r(135),o=r(60),c=r(136),u=r(137),l=r(133);e.a=function(t,e){var r,h=typeof e;return null==e||"boolean"===h?Object(l.a)(e):("number"===h?o.a:"string"===h?(r=Object(n.a)(e))?(e=r,i.a):u.a:e instanceof n.a?i.a:e instanceof Date?a.a:Array.isArray(e)?s.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?c.a:o.a)(t,e)}},function(t,e,r){"use strict";e.a=i,r.d(e,"d",function(){return s}),r.d(e,"c",function(){return a}),e.e=v,e.h=O,e.g=T,e.b=N,e.f=w;var n=r(81);function i(){}var s=.7,a=1/s,o="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,h=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgba\\("+[o,o,o,c]+"\\)$"),g=new RegExp("^rgba\\("+[u,u,u,c]+"\\)$"),m=new RegExp("^hsl\\("+[c,u,u]+"\\)$"),b=new RegExp("^hsla\\("+[c,u,u,c]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(t){var e;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?new N((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=h.exec(t))?y(parseInt(e[1],16)):(e=d.exec(t))?new N(e[1],e[2],e[3],1):(e=f.exec(t))?new N(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?_(e[1],e[2],e[3],e[4]):(e=g.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=b.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):E.hasOwnProperty(t)?y(E[t]):"transparent"===t?new N(NaN,NaN,NaN,0):null}function y(t){return new N(t>>16&255,t>>8&255,255&t,1)}function _(t,e,r,n){return n<=0&&(t=e=r=NaN),new N(t,e,r,n)}function O(t){return t instanceof i||(t=v(t)),t?new N((t=t.rgb()).r,t.g,t.b,t.opacity):new N}function T(t,e,r,n){return 1===arguments.length?O(t):new N(t,e,r,null==n?1:n)}function N(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function C(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new R(t,e,r,n)}function w(t,e,r,n){return 1===arguments.length?function(t){if(t instanceof R)return new R(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=v(t)),!t)return new R;if(t instanceof R)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,c=a-s,u=(a+s)/2;return c?(o=e===a?(r-n)/c+6*(r<n):r===a?(n-e)/c+2:(e-r)/c+4,c/=u<.5?a+s:2-a-s,o*=60):c=u>0&&u<1?0:o,new R(o,c,u,t.opacity)}(t):new R(t,e,r,null==n?1:n)}function R(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function x(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}Object(n.a)(i,v,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(n.a)(N,T,Object(n.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(n.a)(R,w,Object(n.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new R(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new R(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new N(x(t>=240?t-240:t+120,i,n),x(t,i,n),x(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,r){"use strict";e.b=function(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r},e.a=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t}},function(t,e,r){"use strict";function n(t,e,r,n,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*r+(1+3*t+3*s-3*a)*n+a*i)/6}e.a=n,e.b=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),s=t[i],a=t[i+1],o=i>0?t[i-1]:2*s-a,c=i<e-1?t[i+2]:2*a-s;return n((r-i/e)*e,o,s,a,c)}}},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";e.a=function(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}},function(t,e,r){"use strict";r(15);var n=r(241);r.d(e,"c",function(){return n.a}),r.d(e,"n",function(){return n.a});var i=r(242);r.d(e,"g",function(){return i.a}),r.d(e,"r",function(){return i.a});var s=r(243);r.d(e,"d",function(){return s.a});var a=r(244);r.d(e,"b",function(){return a.a});var o=r(245);r.d(e,"a",function(){return o.a});var c=r(246);r.d(e,"j",function(){return c.b}),r.d(e,"h",function(){return c.b}),r.d(e,"e",function(){return c.a}),r.d(e,"i",function(){return c.c});var u=r(247);r.d(e,"f",function(){return u.a});var l=r(248);r.d(e,"k",function(){return l.a});var h=r(249);r.d(e,"o",function(){return h.a});var d=r(250);r.d(e,"m",function(){return d.a});var f=r(251);r.d(e,"l",function(){return f.a});var p=r(252);r.d(e,"u",function(){return p.b}),r.d(e,"s",function(){return p.b}),r.d(e,"p",function(){return p.a}),r.d(e,"t",function(){return p.c});var g=r(253);r.d(e,"q",function(){return g.a});var m=r(254);r.d(e,"v",function(){return m.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s}),r.d(e,"c",function(){return a}),r.d(e,"d",function(){return o});var n,i,s,a,o,c,u=r(145);c={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},n=Object(u.a)(c),i=n.format,s=n.parse,a=n.utcFormat,o=n.utcParse},function(t,e,r){"use strict";var n=r(29),i=r(10);e.a=class extends n.a{constructor(t,e){super(t,e),this.setDefaultRenderer("upset")}compare(t,e){const r=this.getValue(t),n=this.getValue(e);if(null==r)return null==n?0:i.a;if(null==n)return-1*i.a;const s=r.filter(t=>t).length,a=n.filter(t=>t).length;return s-a}}},function(t,e,r){"use strict";var n=r(16),i=r(41);e.a=class extends i.a{constructor(t,e){super(t,e),this.lookup=new Map,this.categories=Object(n.f)(e),this.missingCategory=e.missingCategory?Object(n.g)(e.missingCategory,NaN):null,this.categories.forEach(t=>this.lookup.set(t.name,t))}parseValue(t){if(!t)return this.missingCategory;const e=String(t);return this.lookup.has(e)?this.lookup.get(e):this.missingCategory}getCategories(t){return super.getValue(t).map(({key:t,value:e})=>({key:t,value:this.parseValue(e)}))}getValue(t){return this.getCategories(t).map(({key:t,value:e})=>({key:t,value:e?e.name:null}))}getLabels(t){return this.getCategories(t).map(({key:t,value:e})=>({key:t,value:e?e.label:""}))}}},function(t,e,r){"use strict";var n=r(29),i=r(16);e.a=class extends n.a{constructor(t,e){super(t,e),this.lookup=new Map,this.categories=Object(i.f)(e),this.missingCategory=e.missingCategory?Object(i.g)(e.missingCategory,NaN):null,this.categories.forEach(t=>this.lookup.set(t.name,t))}getCategories(t){return super.getValues(t).map(t=>{if(!t)return this.missingCategory;const e=String(t);return this.lookup.has(e)?this.lookup.get(e):this.missingCategory})}getSet(t){const e=new Set(this.getCategories(t));return e.delete(this.missingCategory),e}getValues(t){return this.getCategories(t).map(t=>t?t.name:null)}getLabels(t){return this.getCategories(t).map(t=>t?t.label:"")}}},function(t,e,r){"use strict";var n=r(3),i=r(48),s=r(1),a=r(10),o=r(11);let c=class extends o.a{constructor(t,e){super(t,e),this.format=Object(i.a)(e.dateFormat||"%x"),this.parse=e.dateParse?Object(i.b)(e.dateParse):Object(i.b)(e.dateFormat||"%x"),this.setDefaultRenderer("default")}getValue(t){const e=super.getValue(t);return Object(a.b)(e)?null:e instanceof Date?e:this.parse(String(e))}getLabel(t){const e=this.getValue(t);return e instanceof Date?this.format(e):""}compare(t,e){const r=this.getValue(t),n=this.getValue(e);return r===n?0:r instanceof Date?n instanceof Date?r.getTime()-n.getTime():-1*a.a:n instanceof Date?a.a:0}};c=n.a([Object(s.a)("date")],c),e.a=c},function(t,e,r){"use strict";var n=r(48),i=r(41),s=r(10);e.a=class extends i.a{constructor(t,e){super(t,e),this.format=Object(n.a)(e.dateFormat||"%x"),this.parse=e.dateParse?Object(n.b)(e.dateParse):Object(n.b)(e.dateFormat||"%x"),this.setDefaultRenderer("default")}parseValue(t){return Object(s.b)(t)?null:t instanceof Date?t:this.parse(String(t))}getValue(t){return super.getValue(t).map(({key:t,value:e})=>({key:t,value:this.parseValue(e)}))}getLabels(t){return this.getValue(t).map(({key:t,value:e})=>({key:t,value:e instanceof Date?this.format(e):""}))}}},function(t,e,r){"use strict";e.a=function(t="Nested"){return{type:"nested",label:t}};var n=r(93);e.b=class extends n.a{compare(t,e){const r=this.children;for(const n of r){const r=n.compare(t,e);if(0!==r)return r}return 0}getLabel(t){return this.children.map(e=>e.getLabel(t)).join(";")}getValue(t){return this.children.map(e=>e.getValue(t)).join(";")}}},function(t,e,r){"use strict";var n=r(3),i=r(27),s=r(1),a=r(0),o=r(25),c=r(4),u=r(51);let l=h=class extends o.a{constructor(t,e){super(t,e),this.collapsed=!1;const r=this;this.adaptChange=function(t,e){r.adaptWidthChange(t,e)}}createEventList(){return super.createEventList().concat([h.EVENT_COLLAPSE_CHANGED,h.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(t){this.collapsed!==t&&this.fire([u.b.EVENT_COLLAPSE_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.collapsed,this.collapsed=t)}getCollapsed(){return this.collapsed}dump(t){const e=super.dump(t);return e.collapsed=this.collapsed,e}restore(t,e){this.collapsed=!0===t.collapsed,super.restore(t,e)}flatten(t,e,r=0,n=0){return u.b.prototype.flatten.call(this,t,e,r,n)}insert(t,e){return t.on(`${a.a.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?t.getWidth():this.getWidth()+t.getWidth()),super.insert(t,e)}adaptWidthChange(t,e){if(Object(i.f)(t,e,.5))return;const r=this.getWidth(),n=r+(e-t);this.fire([h.EVENT_MULTI_LEVEL_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY],r,n),super.setWidth(n)}removeImpl(t){return t.on(`${a.a.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-t.getWidth()),super.removeImpl(t)}setWidth(t){const e=this.getWidth(),r=t/e;this._children.forEach(t=>{t.setWidthImpl(t.getWidth()*r)}),Object(i.f)(e,t,.5)||this.fire([h.EVENT_MULTI_LEVEL_CHANGED,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY],e,t),super.setWidth(t)}getRenderer(){return this.getCollapsed()?h.EVENT_COLLAPSE_CHANGED:super.getRenderer()}isMissing(t){return!!this.getCollapsed()&&this._children.some(e=>(Object(c.h)(e)||Object(o.b)(e))&&e.isMissing(t))}};var h;l.EVENT_COLLAPSE_CHANGED=u.b.EVENT_COLLAPSE_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED=u.b.EVENT_MULTI_LEVEL_CHANGED,l=h=n.a([Object(s.g)("collapse")],l),e.a=l},function(t,e,r){"use strict";var n=r(3),i=r(8),s=r(1),a=r(0),o=r(17),c=r(4),u=r(41),l=r(24),h=r(10),d=r(19);let f=p=class extends u.a{constructor(t,e){super(t,e),this.currentFilter=Object(c.k)(),this.mapping=Object(l.e)(e),this.original=this.mapping.clone(),this.sort=e.sort||c.b.median,this.setDefaultRenderer("mapbars")}compare(t,e){return Object(c.d)(this,t,e)}getBoxPlotData(t){const e=this.getRawValue(t);return null==e?null:new i.a(e.map(t=>t.value),this.mapping)}getRange(){return this.mapping.getRange(c.a)}getRawBoxPlotData(t){const e=this.getRawValue(t);return null==e?null:new i.a(e.map(t=>t.value))}getNumber(t){return Object(c.e)(this,t,"normalized")}getRawNumber(t){return Object(c.e)(this,t,"raw")}getValue(t){const e=this.getRawValue(t);return e.map(({key:t,value:e})=>({key:t,value:Object(h.b)(e)?NaN:this.mapping.apply(e)}))}getRawValue(t){const e=super.getValue(t);return null==e?[]:e}getLabels(t){const e=this.getValue(t);return e.map(({key:t,value:e})=>({key:t,value:Object(c.a)(e)}))}getSortMethod(){return this.sort}setSortMethod(t){this.sort!==t&&(this.fire([a.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=t),this.isSortedByMe().asc||this.sortByMe())}dump(t){const e=super.dump(t);return e.sortMethod=this.getSortMethod(),e.filter=Object(o.c)(this.currentFilter)?null:this.currentFilter,e.map=this.mapping.dump(),e}restore(t,e){super.restore(t,e),t.sortMethod&&(this.sort=t.sortMethod),t.filter&&(this.currentFilter=Object(o.g)(t.filter)),t.map?this.mapping=Object(l.c)(t.map):t.domain&&(this.mapping=new l.a(t.domain,"linear",t.range||[0,1]))}createEventList(){return super.createEventList().concat([p.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(t){this.mapping.eq(t)||this.fire([p.EVENT_MAPPING_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=t)}isFiltered(){return d.a.prototype.isFiltered.call(this)}getFilter(){return d.a.prototype.getFilter.call(this)}setFilter(t={min:-1/0,max:1/0,filterMissing:!1}){d.a.prototype.setFilter.call(this,t)}filter(t){return d.a.prototype.filter.call(this,t)}};var p;f.EVENT_MAPPING_CHANGED=d.a.EVENT_MAPPING_CHANGED,f=p=n.a([Object(s.g)("filterMapped","sortNumbers")],f),e.a=f},function(t,e,r){"use strict";e.a=function(t="Reduce"){return{type:"reduce",label:t}};var n=r(3),i=r(13),s=r(1),a=r(0),o=r(31),c=r(4);let u=l=class extends o.a{constructor(t,e){super(t,e),this.reduce=e.reduce||c.b.max,this.setDefaultRenderer("interleaving"),this.setDefaultGroupRenderer("interleaving"),this.setDefaultSummaryRenderer("interleaving")}get label(){const t=super.label;return"Reduce"!==t?t:`${this.reduce[0].toUpperCase()}${this.reduce.slice(1)}(${this.children.map(t=>t.label).join(", ")})`}getColor(t){const e=this._children;if(0===e.length||this.reduce===c.b.q1||this.reduce===c.b.q3||this.reduce===c.b.mean)return this.color;const r=this.compute(t),n=e.find(e=>e.getValue(t)===r);return n?n.color:this.color}compute(t){const e=this._children.map(e=>e.getValue(t)).filter(t=>!isNaN(t));if(0===e.length)return NaN;switch(this.reduce){case c.b.mean:return e.reduce((t,e)=>t+e,0)/e.length;case c.b.max:return Math.max(...e);case c.b.min:return Math.min(...e);case c.b.median:return Object(i.h)(e);case c.b.q1:return Object(i.j)(e.sort((t,e)=>t-e),.25);case c.b.q3:return Object(i.j)(e.sort((t,e)=>t-e),.75)}}createEventList(){return super.createEventList().concat([l.EVENT_REDUCE_CHANGED])}getReduce(){return this.reduce}setReduce(t){this.reduce!==t&&this.fire([l.EVENT_REDUCE_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.reduce,this.reduce=t)}dump(t){const e=super.dump(t);return e.reduce=this.reduce,e}restore(t,e){this.reduce=t.reduce||this.reduce,super.restore(t,e)}get canJustAddNumbers(){return!0}};var l;u.EVENT_REDUCE_CHANGED="reduceChanged",u=l=n.a([Object(s.g)("reduce")],u),e.b=u},function(t,e,r){"use strict";e.a=function(t="script"){return{type:"script",label:t,script:c}};var n=r(3),i=r(1),s=r(0),a=r(31),o=r(4);const c="let s = 0;\ncol.forEach((c) => s += c.v);\nreturn s / col.length";class u{constructor(t,e,r){this.c=t,this.v=e,this.raw=r}get type(){return this.c.desc.type}get name(){return this.c.getMetaData().label}get id(){return this.c.id}}class l{constructor(t,e){this.children=t,this.allFactory=e,this.lookup=new Map,this._all=null,t.forEach(t=>{this.lookup.set(`ID@${t.id}`,t),this.lookup.set(`NAME@${t.name}`,t)})}byName(t){return this.lookup.get(`NAME@${t}`)}byID(t){return this.lookup.get(`ID@${t}`)}byIndex(t){return this.children[t]}forEach(t){return this.children.forEach(t)}get length(){return this.children.length}get all(){return null==this._all&&(this._all=this.allFactory?this.allFactory():null),this._all}}let h=d=class extends a.a{constructor(t,e){super(t,e),this.script=d.DEFAULT_SCRIPT,this.f=null,this.script=e.script||this.script}createEventList(){return super.createEventList().concat([d.EVENT_SCRIPT_CHANGED])}setScript(t){this.script!==t&&(this.f=null,this.fire([d.EVENT_SCRIPT_CHANGED,s.a.EVENT_DIRTY_VALUES,s.a.EVENT_DIRTY],this.script,this.script=t))}getScript(){return this.script}dump(t){const e=super.dump(t);return e.script=this.script,e}restore(t,e){this.script=t.script||this.script,super.restore(t,e)}compute(t){null==this.f&&(this.f=new Function("children","values","raws","col","row","index",function(t){let e=t.trim();return e.includes("return")||(e=`return (${e});`),`\n  const max = function(arr) { return Math.max.apply(Math, arr); };\n  const min = function(arr) { return Math.min.apply(Math, arr); };\n  const extent = function(arr) { return [min(arr), max(arr)]; };\n  const clamp = function(v, minValue, maxValue) { return v < minValue ? minValue : (v > maxValue ? maxValue : v); };\n  const normalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return (v - minMax) / (max - minMax);\n  };\n  const denormalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return v * (max - minMax) + minMax;\n  };\n  const linear = function(v, source, target) {\n    target = target || [0, 1];\n    return denormalize(normalize(v, source), target);\n  };\n  const v = (function custom() {\n    ${e}\n  })();\n\n  return typeof v === 'number' ? v : NaN`}(this.script)));const e=this._children,r=this._children.map(e=>e.getValue(t)),n=this._children.map(e=>Object(o.h)(e)?e.getRawNumber(t):null),i=new l(e.map((t,e)=>new u(t,r[e],n[e])),()=>{const e=this.findMyRanker().flatColumns;return new l(e.map(e=>new u(e,e.getValue(t),Object(o.h)(e)?e.getRawNumber(t):null)))});return this.f.call(this,e,r,n,i,t.v,t.i)}};var d;h.EVENT_SCRIPT_CHANGED="scriptChanged",h.DEFAULT_SCRIPT=c,h=d=n.a([Object(i.g)("script")],h),e.b=h},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(23),a=r(16),o=r(10),c=r(11);let u=class extends c.a{constructor(t,e){super(t,e),this.lookup=new Map,this.currentFilter=null,this.separator=new RegExp(e.separator||";"),this.categories=Object(a.f)(e),this.categories.forEach(t=>this.lookup.set(t.name,t)),this.setDefaultRenderer("upset"),this.setDefaultGroupRenderer("upset")}get labels(){return this.categories.map(t=>t.label)}get dataLength(){return this.categories.length}getValue(t){return this.getCategories(t).map(t=>t.name)}getLabel(t){return`(${this.getCategories(t).map(t=>t.label).join(",")})`}normalize(t){return"string"==typeof t?t.split(this.separator).map(t=>t.trim()):Array.isArray(t)?t.map(t=>String(t).trim()):t instanceof Set?Array.from(t).map(String):[]}getSet(t){const e=this.normalize(super.getValue(t)),r=new Set;return e.forEach(t=>{const e=this.lookup.get(t);e&&r.add(e)}),r}getCategories(t){return Array.from(this.getSet(t)).sort((t,e)=>t.value===e.value?t.label.localeCompare(e.label):t.value-e.value)}isMissing(t){const e=this.getSet(t);return 0===e.size}getValues(t){const e=new Set(this.getSet(t));return this.categories.map(t=>e.has(t))}getLabels(t){return this.getValues(t).map(String)}getMap(t){return this.getCategories(t).map(t=>({key:t.label,value:!0}))}getMapLabel(t){return this.getCategories(t).map(t=>({key:t.label,value:"true"}))}dump(t){const e=super.dump(t);return e.filter=this.currentFilter,e}restore(t,e){if(super.restore(t,e),!("filter"in t))return void(this.currentFilter=null);const r=t.filter;"string"==typeof r||Array.isArray(r)?this.currentFilter={filter:r,filterMissing:!1}:this.currentFilter=r}isFiltered(){return null!=this.currentFilter}filter(t){if(!this.currentFilter)return!0;for(const e of this.getSet(t))if(Object(a.c)(this.currentFilter,e))return!0;return!1}getFilter(){return s.a.prototype.getFilter.call(this)}setFilter(t){return s.a.prototype.setFilter.call(this,t)}compare(t,e){const r=this.getSet(t),n=this.getSet(e);if(0===r.size)return 0===n.size?0:o.a;if(0===n.size)return-o.a;if(r.size!==n.size)return r.size-n.size;for(const t of this.categories){if(r.has(t))return-1;if(n.has(t))return 1}return 0}};u=n.a([Object(i.g)("filterCategorical"),Object(i.a)("categorical")],u),e.a=u},function(t,e,r){"use strict";var n=r(3),i=r(1),s=r(29),a=r(17),o=r(18);let c=class extends s.a{constructor(t,e){super(t,e),this.setDefaultWidth(200),this.alignment=e.alignment||o.a.left,this.escape=!1!==e.escape,this.pattern=e.pattern||"",this.patternTemplates=e.patternTemplates||[]}setPattern(t){o.b.prototype.setPattern.call(this,t)}getPattern(){return this.pattern}createEventList(){return super.createEventList().concat([o.b.EVENT_PATTERN_CHANGED])}getValues(t){return super.getValues(t).map((e,r)=>this.pattern?(this.patternFunction||(this.patternFunction=Object(a.f)(this.pattern,"item","index")),this.patternFunction.call(this,e,t.v,r)):null==e?"":String(e))}dump(t){const e=super.dump(t);return this.pattern!==this.desc.pattern&&(e.pattern=this.pattern),e}restore(t,e){t.pattern&&(this.pattern=t.pattern),super.restore(t,e)}};c=n.a([Object(i.g)("search","editPattern")],c),e.a=c},function(t,e,r){"use strict";e.b=function(t,e){return e[t.getRenderer()]||S},e.a=function(t,e){return e[t.getGroupRenderer()]||S},e.c=function(t,e){return e[t.getSummaryRenderer()]||S},e.e=I,e.d=function(t,e){return I(t,e,y.a.GROUP)},e.f=function(t,e){return I(t,e,y.a.SUMMARY)};var n=r(267),i=r(268),s=r(270),a=r(271),o=r(272),c=r(273),u=r(100),l=r(152),h=r(274),d=r(275),f=r(276),p=r(151),g=r(277),m=r(278),b=r(279),E=r(154),v=r(317),y=r(9),_=r(318),O=r(320),T=r(321),N=r(322),C=r(323),w=r(109),R=r(324),x=r(325),A=r(326),D=r(150),M=r(165),L=r(153),j=r(327);const S=new p.a,V={actions:new n.a,aggregate:new i.a,annotate:new s.a,boolean:new o.a,boxplot:new c.a,brightness:new u.a,catdistributionbar:new d.a,categorical:new l.a,circle:new f.a,default:S,dot:new g.a,group:new m.a,heatmap:new b.a,catheatmap:new h.a,histogram:new E.a,image:new v.a,interleaving:new _.a,link:new O.a,linkMap:new T.a,loading:new N.a,nested:new w.b(!1),number:new a.a,mapbars:new C.a,rank:new R.a,selection:new x.a,sparkline:new A.a,stack:new w.b,string:new D.a,table:new M.a,upset:new L.a,verticalbar:new j.a};function I(t,e,r=y.a.CELL){return Object.keys(e).filter(n=>{return e[n].canRender(t,r)}).map(t=>{const n=e[t];return{type:t,label:r===y.a.CELL?n.title:r===y.a.GROUP?n.groupTitle||n.title:n.summaryTitle||n.groupTitle||n.title}})}e.g=V},function(t,e,r){"use strict";e.b=d;var n=r(21),i=r(2),s=r(0),a=r(4),o=r(12),c=r(35),u=r(9),l=r(6),h=r(5);function d(t,e,r,i){(null==t||isNaN(t))&&(t=1);const a=Object(n.d)(Object(c.a)(r,e,i)||s.a.DEFAULT_COLOR);return a.l=1-t,a.toString()}e.a=class{constructor(){this.title="Brightness"}canRender(t,e){return Object(i._28)(t)&&e===u.a.CELL&&!Object(a.j)(t)}create(t,e,r,n){const i=e.colWidth(t);return{template:`<div title="">\n        <div style="background-color: ${t.color}"></div><div> </div>\n      </div>`,update:(e,r)=>{const i=Object(l.b)(e,t,r);e.title=t.getLabel(r),e.firstElementChild.style.backgroundColor=i?null:d(t.getNumber(r),r,t,n),Object(h.g)(e.lastElementChild,e.title)},render:(e,r)=>{Object(l.a)(e,t,r,i)||(e.fillStyle=d(t.getNumber(r),r,t,n),e.fillRect(0,0,i,o.c))}}}createGroup(){return h.e}createSummary(){return h.e}}},function(t,e,r){"use strict";e.b=function(t,e,r){const n=Array.from(t.children);n.length>e.length?n.slice(e.length).forEach(t=>t.remove()):e.length>n.length&&t.insertAdjacentHTML("beforeend",r.repeat(e.length-n.length))};var n=r(8),i=r(2),s=r(6);class a{static choose(t,e){const r=e.map(e=>t.getNumbers(e)),s=t.dataLength,a=[];for(let e=0;e<s;++e){const s=r.map(t=>t[e]).filter(t=>!Object(i._26)(t));if(s){const e=new n.a(s);a.push(e[t.getSortMethod()])}else a.push(NaN)}return a}create(t,e,r,n){const i=e.colWidth(t),{templateRow:a,render:o,update:c}=this.createContext(t,e,n);return{template:`<div>${a}</div>`,update:(e,r)=>{Object(s.b)(e,t,r)||c(e,t.getNumbers(r),r)},render:(e,r)=>{Object(s.a)(e,t,r,i)||o(e,t.getNumbers(r),r)}}}createGroup(t,e,r,n){const{templateRow:i,update:s}=this.createContext(t,e,n);return{template:`<div>${i}</div>`,update:(e,r,n)=>{const i=a.choose(t,n);s(e,i,n[0])}}}}e.a=a},function(t,e,r){"use strict";var n=r(103),i=r(104);e.a=function(t){var e=Object(n.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(r,t)}})(e)}},function(t,e,r){"use strict";var n=r(104);e.a=function(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n.a.hasOwnProperty(e)?{space:n.a[e],local:t}:t}},function(t,e,r){"use strict";r.d(e,"b",function(){return n});var n="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,r){"use strict";var n=r(106);e.a=function(){for(var t,e=n.c;t=e.sourceEvent;)e=t;return e}},function(t,e,r){"use strict";r.d(e,"c",function(){return i}),e.a=function(t,e,r,n){var s=i;t.sourceEvent=i,i=t;try{return e.apply(r,n)}finally{i=s}};var n={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(n={mouseenter:"mouseover",mouseleave:"mouseout"}));function s(t,e,r){return t=a(t,e,r),function(e){var r=e.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,r){return function(n){var s=i;i=n;try{t.call(this,this.__data__,e,r)}finally{i=s}}}function o(t){return function(){var e=this.__on;if(e){for(var r,n=0,i=-1,s=e.length;n<s;++n)r=e[n],t.type&&r.type!==t.type||r.name!==t.name?e[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?e.length=i:delete this.__on}}}function c(t,e,r){var i=n.hasOwnProperty(t.type)?s:a;return function(n,s,a){var o,c=this.__on,u=i(e,s,a);if(c)for(var l=0,h=c.length;l<h;++l)if((o=c[l]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=u,o.capture=r),void(o.value=e);this.addEventListener(t.type,u,r),o={type:t.type,name:t.name,value:e,listener:u,capture:r},c?c.push(o):this.__on=[o]}}e.b=function(t,e,r){var n,i,s=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}),a=s.length;if(!(arguments.length<2)){for(u=e?c:o,null==r&&(r=!1),n=0;n<a;++n)this.each(u(s[n],e,r));return this}var u=this.node().__on;if(u)for(var l,h=0,d=u.length;h<d;++h)for(n=0,l=u[h];n<a;++n)if((i=s[n]).type===l.type&&i.name===l.name)return l.value}},function(t,e,r){"use strict";function n(){}e.a=function(t){return null==t?n:function(){return this.querySelector(t)}}},function(t,e,r){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,r){"use strict";e.c=d,e.a=f;var n=r(8),i=r(2),s=r(17),a=r(4),o=r(12),c=r(319),u=r(9),l=r(6),h=r(5);function d(t){return`lu-stacked-${t.id}`}function f(t,e,r,n,i){const s=o.d;let a=0;return{cols:t.children.map(o=>{const c=a,l=o.getWidth();a+=l,a+=r?0:s;const h=n===u.a.CELL?e.renderer(o,i):null,d=n===u.a.GROUP?e.groupRenderer(o,i):null,f=n===u.a.GROUP?e.summaryRenderer(o,!1,i):null;let p="",g="";switch(n){case u.a.CELL:p=h.template,g=t.getRenderer();break;case u.a.GROUP:p=d.template,g=t.getGroupRenderer();break;case u.a.SUMMARY:p=f.template,g=t.getSummaryRenderer()}return{column:o,shift:c,width:l,template:p,rendererId:g,renderer:h,groupRenderer:d,summaryRenderer:f}}),stacked:r,padding:s}}e.b=class extends c.a{constructor(t=!0){super(),this.stacked=t,this.title=this.stacked?"Stacked Bar":"Nested"}canRender(t,e){return Object(i._27)(t)&&e!==u.a.SUMMARY}create(t,e,r,i){const{cols:s,stacked:a,padding:o}=f(t,e,this.stacked,u.a.CELL,i),c=e.option("useGridLayout",!1),p=e.colWidth(t);return{template:`<div class='${c?d(t):""}${c&&!a?" lu-grid-space":""}'>${s.map(t=>t.template).join("")}</div>`,update:(e,r,i,u)=>{if(Object(l.b)(e,t,r))return;Object(h.d)(e,s);const d=Array.from(e.children),f=t.getWidth();let p=0;s.forEach((t,e)=>{const s=t.column.getWidth()/f,l=d[e];l.style.transform=a?`translate(-${Object(n.g)(p/s*100,4)}%,0)`:null,c?l.style.gridColumnStart=(e+1).toString():(l.style.width=`${Object(n.g)(100*s,2)}%`,l.style.marginRight=a?null:`${o}px`),t.renderer.update(l,r,i,u),a&&(p+=(1-t.column.getValue(r))*s)})},render:(e,r,n,i)=>{if(Object(l.a)(e,t,r,p))return;let o=0;s.forEach(t=>{const s=t.shift-o;e.translate(s,0),t.renderer.render(e,r,n,i),e.translate(-s,0),a&&(o+=t.width*(1-t.column.getValue(r)))})}}}createGroup(t,e,r,i){if(this.stacked&&Object(a.h)(t))return super.createGroup(t,e,r,i);const{cols:s,padding:o}=f(t,e,!1,u.a.GROUP,i),c=e.option("useGridLayout",!1);return{template:`<div class='${c?d(t):""}${c?" lu-grid-space":""}'>${s.map(t=>t.template).join("")}</div>`,update:(e,r,i)=>{Object(h.d)(e,s);const a=Array.from(e.children),u=t.getWidth();s.forEach((t,e)=>{const s=t.column.getWidth()/u,l=a[e];c?l.style.gridColumnStart=(e+1).toString():(l.style.width=`${Object(n.g)(100*s,2)}%`,l.style.marginRight=`${o}px`),t.groupRenderer.update(l,r,i)})}}}aggregatedIndex(t,e){return console.assert(Object(a.h)(e)),Object(s.e)(t,e)}}},function(t,e,r){"use strict";var n=r(14),i=r(2),s=r(1),a=r(32),o=r(26),c=r(171),u=r(328);class l{constructor(t,e,r={}){this.ctx=t,this.options={additionalDescs:[Object(i._10)("Weighted Sum"),Object(i._8)("Scripted Formula"),Object(i._5)("Nested"),Object(i._7)(),Object(i._2)()],chooser:!0,placeholder:"Add Column...",formatItem:(t,e)=>(e.dataset.typeCat=t instanceof u.a?t.category.name:t.children[0].category.name,t instanceof u.a&&(e.dataset.type=t.desc.type),t.text),collapseable:!0},this.descs=new Map,Object.assign(this.options,r),this.node=e.createElement("aside"),this.node.classList.add("lu-side-panel"),this.search=new c.a(this.options),this.data=t.provider,this.init(),this.update(t)}init(){(this.node.innerHTML='\n      <aside class="lu-stats"></aside>\n      <div><main></main></div>\n    ',this.options.collapseable)&&(this.node.insertAdjacentHTML("beforeend",'<div class="lu-collapser" title="Collapse Panel"></div>'),this.node.lastElementChild.onclick=(()=>{this.node.classList.toggle("lu-collapsed")}),this.collapsed="collapsed"===this.options.collapseable);this.initChooser(),this.changeDataStorage(null,this.data)}initChooser(){this.options.chooser&&(this.node.insertAdjacentHTML("afterbegin","<header>\n        <form></form>\n      </header>"),this.node.querySelector("form").appendChild(this.search.node),this.search.on(c.a.EVENT_SELECT,t=>{const e=this.data.create(t.desc);e&&this.data.getLastRanking().push(e)}))}changeDataStorage(t,e){const r=this;t&&t.on(Object(n.b)(".panel",o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING,o.a.EVENT_ADD_DESC,o.a.EVENT_CLEAR_DESC,o.a.EVENT_ORDER_CHANGED,o.a.EVENT_SELECTION_CHANGED),null),this.data=e,this.descs.forEach(t=>t.destroyVis()),this.descs.clear(),e.getColumns().concat(this.options.additionalDescs).forEach(t=>{this.descs.set(t,new u.a(t,Object(s.d)(t,e.columnTypes)))});const i=(t,i)=>{const s=i?1:-1;t.flatColumns.forEach(t=>{this.descs.has(t.desc)&&(this.descs.get(t.desc).used+=s)}),i?(t.on(Object(n.b)(".panel",a.a.EVENT_GROUP_CRITERIA_CHANGED,a.a.EVENT_SORT_CRITERIAS_CHANGED),()=>{t===e.getRankings()[0]&&this.updateList()}),t.on(Object(n.b)(".panel",o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN),function(t){const e=t.desc,n="addColumn"===this.type;r.descs.has(e)&&(r.descs.get(e).used+=n?1:-1,r.updateList())})):t.on(Object(n.b)(".panel",a.a.EVENT_GROUP_CRITERIA_CHANGED,a.a.EVENT_SORT_CRITERIAS_CHANGED,a.a.EVENT_ADD_COLUMN,a.a.EVENT_REMOVE_COLUMN),null)};e.getRankings().forEach(t=>i(t,!0)),e.on(`${o.a.EVENT_ADD_DESC}.panel`,t=>{const n=new u.a(t,Object(s.d)(t,e.columnTypes));r.descs.set(t,n),this.updateChooser()}),e.on(`${o.a.EVENT_CLEAR_DESC}.panel`,()=>{r.descs.clear(),this.updateChooser()}),e.on(Object(n.b)(".panel",o.a.EVENT_SELECTION_CHANGED,o.a.EVENT_ORDER_CHANGED),()=>{this.updateStats()}),e.on(Object(n.b)(".panel",o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING),function(t){i(t,"addRanking"===this.type),r.updateList()}),this.updateStats()}get collapsed(){return this.node.classList.contains("lu-collapsed")}set collapsed(t){this.node.classList.toggle("lu-collapsed",t),t||(this.updateChooser(),this.updateList(),this.updateStats())}update(t){const e=this.data;this.ctx=t,t.provider!==e&&this.changeDataStorage(e,t.provider),this.updateChooser(),this.updateList(),this.updateStats()}updateStats(){if(this.collapsed)return;const t=this.node.querySelector("aside.lu-stats"),e=this.data.getSelection(),r=this.data.getRankings()[0],n=r?r.getGroups().reduce((t,e)=>t+e.order.length,0):0;t.innerHTML=`Showing <strong>${n}</strong> of ${this.data.getTotalNumberOfRows()} items${e.length>0?`; ${e.length} <span>selected</span>`:""}`}remove(){this.node.remove(),this.data&&(this.data.getRankings().forEach(t=>{t.on(Object(n.b)(".panel",a.a.EVENT_GROUP_CRITERIA_CHANGED,a.a.EVENT_SORT_CRITERIAS_CHANGED,a.a.EVENT_ADD_COLUMN,a.a.EVENT_REMOVE_COLUMN),null)}),this.data.on(Object(n.b)(".panel",o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING,o.a.EVENT_ADD_DESC),null))}columnOrder(){const t=this.data.getRankings()[0];if(!t)return[];const e=t.getGroupCriteria(),r=new Set(e.map(t=>t.desc));return t.getSortCriterias().forEach(({col:t})=>{r.has(t.desc)||(e.push(t),r.add(t.desc))}),t.flatColumns.forEach(t=>{r.has(t.desc)||(e.push(t),r.add(t.desc))}),e}prepareListData(){const t=this.columnOrder(),e=new Map;t.forEach(t=>e.set(t.desc,t)),this.data.getRankings().forEach(t=>{t.flatColumns.forEach(t=>{const r=t.desc;e.has(r)||Object(i._32)(t)||e.set(r,t)})});const r=Array.from(e.values());return r.sort((e,r)=>{const n=t.indexOf(e),i=t.indexOf(r);return n<0?i<0?0:1:i<0?-1:n-i}),r}updateList(){if(this.collapsed)return;const t=this.node.querySelector("main"),e=this.prepareListData();if(0===e.length)return t.innerHTML="",void this.descs.forEach(t=>t.destroyVis());t.innerHTML="",e.forEach(e=>{const r=this.descs.get(e.desc);r&&(r.visColumn!==e?(r.destroyVis(),t.appendChild(r.createVis(e,this.ctx,t.ownerDocument))):t.appendChild(r.updateVis(this.ctx)))})}static groupByType(t){const e=new Map;return t.forEach(t=>{e.has(t.category)?e.get(t.category).push(t):e.set(t.category,[t])}),Array.from(e).map(([t,e])=>({key:t.label,order:t.order,values:e.sort((t,e)=>t.text.localeCompare(e.text))})).sort((t,e)=>t.order-e.order)}updateChooser(){if(!this.options.chooser||this.collapsed)return;const t=l.groupByType(Array.from(this.descs.values()));this.search.data=t.map(t=>({text:t.key,children:t.values}))}}e.a=l},function(t,e,r){"use strict";var n=r(36),i=r(351),s=r(8),a=r(14),o=r(2),c=r(32),u=r(26),l=r(99),h=r(177),d=r(181);class f extends a.a{constructor(t,e,r){super(),this.data=t,this.histCache=new Map,this.rankings=[],this.slopeGraphs=[],this.updateAbles=[],this.zoomFactor=1,this.options=r,this.node=e.ownerDocument.createElement("main"),this.node.id=this.options.idPrefix,this.node.classList.toggle("lu-whole-hover",r.wholeHover),e.appendChild(this.node);const n=t=>{const e=this.histCache.get(t.id);return null==e||e instanceof Promise?null:e};this.ctx={idPrefix:this.options.idPrefix,document:e.ownerDocument,provider:t,toolbar:this.options.toolbar,option:Object(s.e)(Object.assign({useGridLayout:!0},this.options)),statsOf:n,renderer:(t,e)=>{return Object(l.b)(t,this.options.renderers).create(t,this.ctx,n(t),e)},groupRenderer:(t,e)=>{return Object(l.a)(t,this.options.renderers).createGroup(t,this.ctx,n(t),e)},summaryRenderer:(t,e,r)=>{return Object(l.c)(t,this.options.renderers).createSummary(t,this.ctx,e,r)},totalNumberOfRows:0,createRenderer(t,e){const n=this.renderer(t,e),i=this.groupRenderer(t,e),s=r.summary?this.summaryRenderer(t,!1,e):null;return{single:n,group:i,summary:s,singleId:t.getRenderer(),groupId:t.getGroupRenderer(),summaryId:t.getSummaryRenderer()}},getPossibleRenderer:t=>({item:Object(l.e)(t,this.options.renderers),group:Object(l.d)(t,this.options.renderers),summary:Object(l.f)(t,this.options.renderers)}),colWidth:t=>t.isHidden()?0:t.getWidth()},this.table=new i.a(this.node,`#${r.idPrefix}`),this.style.addRule("lineup_groupPadding",`\n       #${r.idPrefix} > main > article > [data-agg=group],\n       #${r.idPrefix} > main > article > [data-meta~=last] {\n        margin-bottom: ${r.groupPadding}px;\n       }`),this.style.addRule("lineup_rowPadding",`\n       #${r.idPrefix} > main > article > div {\n         padding-top: ${r.rowPadding}px;\n       }`),this.style.addRule("lineup_rowPadding2",`\n       #${r.idPrefix} > main > article > div[data-lod=low]:not(:hover) {\n         padding-top: 0;\n       }`),this.initProvider(t)}get style(){return this.table.style}zoomOut(){this.zoomFactor=Math.max(this.zoomFactor-.1,.5),this.updateZoomFactor(),this.update()}zoomIn(){this.zoomFactor=Math.min(this.zoomFactor+.1,2),this.updateZoomFactor(),this.update()}updateZoomFactor(){const t=this.node.querySelector("main");t.style.fontSize=`${100*this.zoomFactor}%`}pushUpdateAble(t){this.updateAbles.push(t)}createEventList(){return super.createEventList().concat([f.EVENT_HOVER_CHANGED])}setDataProvider(t){this.takeDownProvider(),this.data=t,this.ctx.provider=t,this.initProvider(t)}takeDownProvider(){this.data.on(`${u.a.EVENT_SELECTION_CHANGED}.body`,null),this.data.on(`${u.a.EVENT_ADD_RANKING}.body`,null),this.data.on(`${u.a.EVENT_REMOVE_RANKING}.body`,null),this.data.on(`${u.a.EVENT_GROUP_AGGREGATION_CHANGED}.body`,null),this.rankings.forEach(t=>this.table.remove(t)),this.rankings.splice(0,this.rankings.length),this.slopeGraphs.forEach(t=>this.table.remove(t)),this.slopeGraphs.splice(0,this.slopeGraphs.length)}initProvider(t){t.on(`${u.a.EVENT_SELECTION_CHANGED}.body`,()=>this.updateSelection(t.getSelection())),t.on(`${u.a.EVENT_ADD_RANKING}.body`,t=>{this.addRanking(t)}),t.on(`${u.a.EVENT_REMOVE_RANKING}.body`,t=>{this.removeRanking(t)}),t.on(`${u.a.EVENT_GROUP_AGGREGATION_CHANGED}.body`,t=>{this.update(this.rankings.filter(e=>e.ranking===t))}),this.data.getRankings().forEach(t=>this.addRanking(t))}updateSelection(t){const e=new Set(t);this.rankings.forEach(t=>t.updateSelection(e)),this.slopeGraphs.forEach(t=>t.updateSelection(e))}updateHist(t,e){if(!this.options.summary)return;const r=t?[t]:this.rankings;r.forEach(t=>{const r=t.ranking,n=r.getOrder(),i=e?[e]:r.flatColumns,s=null==n?null:this.data.stats(n);i.filter(t=>Object(o._28)(t)&&!t.isHidden()).forEach(t=>{this.histCache.set(t.id,null==s?null:s.stats(t))}),i.filter(t=>Object(o._18)(t)&&!t.isHidden()).forEach(t=>{this.histCache.set(t.id,null==s?null:s.hist(t))}),t.updateHeaders()}),this.updateAbles.forEach(t=>t(this.ctx))}addRanking(t){if(this.rankings.length>0){const e=this.table.pushSeparator((e,r)=>new d.b(e,r,`${t.id}S`,this.ctx));this.slopeGraphs.push(e)}const e=this.table.pushTable((e,r,n,i)=>new h.a(t,e,r,n,i,this.ctx,{animation:this.options.animation,customRowUpdate:this.options.customRowUpdate||(()=>void 0),levelOfDetail:this.options.levelOfDetail||(()=>"high")}));e.on(h.a.EVENT_WIDTH_CHANGED,()=>this.table.widthChanged()),e.on(h.a.EVENT_UPDATE_DATA,()=>this.update([e])),e.on(h.a.EVENT_UPDATE_HIST,t=>this.updateHist(e,t)),t.on(Object(a.b)(".renderer",c.a.EVENT_ORDER_CHANGED),()=>this.updateHist(e)),this.rankings.push(e),this.update([e])}removeRanking(t){const e=this.rankings.findIndex(e=>e.ranking===t);if(e<0)return;const r=this.rankings.splice(e,1)[0],n=this.slopeGraphs.splice(0===e?e:e-1,1)[0];this.table.remove(r),n&&this.table.remove(n)}update(t=this.rankings){if(0===(t=t.filter(t=>!t.hidden)).length)return;const e=t.map(t=>t.ranking.getOrder()),r=this.data.fetch(e);this.ctx.totalNumberOfRows=Math.max(...r.map(t=>t.length));const i=r.map(t=>t.map(t=>t));0===this.histCache.size&&this.updateHist();const a=t=>Object(s.g)(t,2),c=a(this.zoomFactor*this.options.rowPadding),u=a(this.zoomFactor*this.options.groupPadding),l=(t,e)=>{if(this.options.dynamicHeight){const r=this.options.dynamicHeight(e,t);if(r)return{defaultHeight:a(this.zoomFactor*r.defaultHeight),height:t=>a(this.zoomFactor*r.height(t)),padding:t=>a(this.zoomFactor*r.padding(t))}}const r=a(this.zoomFactor*this.options.rowHeight),n=a(this.zoomFactor*this.options.groupHeight);return{defaultHeight:r,height:t=>Object(o._22)(t)?n:r,padding:c}};t.forEach((t,e)=>{const r=t.groupData(i[e]),{height:s,defaultHeight:a,padding:c}=l(t.ranking,r),h=Object(n.b)(r.map(s),a,t=>{const e="number"==typeof c?c:c(r[t]||null);return t>=0&&r[t]&&(Object(o._22)(r[t])||"last"===r[t].meta||"first last"===r[t].meta)?u+e:e});t.render(r,h)}),this.updateSlopeGraphs(t),this.table.widthChanged()}updateSlopeGraphs(t=this.rankings){const e=new Set(t.map(t=>this.rankings.indexOf(t)));this.slopeGraphs.forEach((t,r)=>{if(t.hidden)return;const n=r,i=r+1;if(!e.has(n)&&!e.has(i))return;const s=this.rankings[n],a=this.rankings[i];t.rebuild(s.currentData,s.context,a.currentData,a.context)})}fakeHover(t){this.rankings.forEach(e=>e.fakeHover(t))}destroy(){this.takeDownProvider(),this.table.destroy(),this.node.remove()}}e.a=f,f.EVENT_HOVER_CHANGED="hoverChanged"},function(t,e,r){"use strict";e.b=function(t,e){t.style.gridColumnStart=e.id,t.dataset.id=e.id};var n=r(176);class i extends n.a{constructor(t,e){super(t),this.id=e;const r=t.querySelector("header"),n=t.querySelector("main");n.addEventListener("scroll",()=>{r.scrollLeft=n.scrollLeft})}static columnWidths(t,e="px"){function r(t,e){return`repeat(${t}, ${e})`}const n=r;let i=0,s=0,a="";return t.forEach(({width:t})=>{i!==t?(s>0&&(a+=1===s?`${i}${e} `:`${n(s,`${i}${e}`)} `),s=1,i=t):s++}),s>0&&(a+=1===s?`${i}${e}`:`${n(s,`${i}${e}`)}`),a}static gridColumn(t,e="px"){const r=i.columnWidths(t,e);return`grid-template-columns: ${r};\n      grid-template-areas: "${t.map(t=>t.id).join(" ")}";`}update(t,e,r,n,s="px"){const a=void 0!==n?this.tableIds(n,!0):{header:`${this.id} > header > article`,body:`${this.id} > main > article`};if(this.updateRule(`__heightsRule${a.body}`,`${a.body} > div {\n      height: ${t}px;\n    }`),0===e.length)return void this.deleteRule(`__widthRule${a.body}`);const o=i.gridColumn(e,s);this.updateRule(`__widthRule${a.body}`,`${a.body} > div, ${a.header} { ${o} }`),this.updateFrozen(e,a,r,s)}remove(t){const e=this.tableIds(t,!0);this.deleteRule(`__heightsRule${e.body}`),this.deleteRule(`__widthRule${e.body}`);const r=`__frozen${e.body}_`,n=this.ruleNames.reduce((t,e)=>t+(e.startsWith(r)?1:0),0);for(let t=0;t<n;++t)this.deleteRule(`${r}${t}`)}tableIds(t,e=!1){const r=this.id.startsWith("#")?this.id.slice(1):this.id;return{header:`${e?"#":""}${r}_H${t}`,body:`${e?"#":""}${r}_B${t}`}}updateFrozen(t,e,r,n){const i=`__frozen${e.body}_`,s=this.ruleNames.reduce((t,e)=>t+(e.startsWith(i)?1:0),0),a=t.filter(t=>t.frozen);if(a.length<=0){for(let t=0;t<s;++t)this.deleteRule(`${i}${t}`);return}let o=a[0].width;a.slice(1).forEach((t,r)=>{const s=`${e.body} > div > .frozen[data-id="${t.id}"], ${e.header} .frozen[data-id="${t.id}"] {\n        left: ${o}${n};\n      }`;o+=t.width,this.updateRule(`${i}${r}`,s)});for(let t=a.length-1;t<s;++t)this.deleteRule(`${i}${t}`)}}e.a=i},function(t,e,r){"use strict";var n=r(38),i=r(114),s=Object(i.a)(n.a),a=s.right;s.left;e.a=a},function(t,e,r){"use strict";var n=r(38);e.a=function(t){var e;return 1===t.length&&(e=t,t=function(t,r){return Object(n.a)(e(t),r)}),{left:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var s=n+i>>>1;t(e[s],r)<0?n=s+1:i=s}return n},right:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var s=n+i>>>1;t(e[s],r)>0?i=s:n=s+1}return n}}}},function(t,e,r){"use strict";e.a=n;function n(t,e){return[t,e]}},function(t,e,r){"use strict";var n=r(117);e.a=function(t,e){var r=Object(n.a)(t,e);return r?Math.sqrt(r):r}},function(t,e,r){"use strict";var n=r(43);e.a=function(t,e){var r,i,s=t.length,a=0,o=-1,c=0,u=0;if(null==e)for(;++o<s;)isNaN(r=Object(n.a)(t[o]))||(u+=(i=r-c)*(r-(c+=i/++a)));else for(;++o<s;)isNaN(r=Object(n.a)(e(t[o],o,t)))||(u+=(i=r-c)*(r-(c+=i/++a)));if(a>1)return u/(a-1)}},function(t,e,r){"use strict";e.a=function(t,e){var r,n,i,s=t.length,a=-1;if(null==e){for(;++a<s;)if(null!=(r=t[a])&&r>=r)for(n=i=r;++a<s;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else for(;++a<s;)if(null!=(r=e(t[a],a,t))&&r>=r)for(n=i=r;++a<s;)null!=(r=e(t[a],a,t))&&(n>r&&(n=r),i<r&&(i=r));return[n,i]}},function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return s});var n=Array.prototype,i=n.slice,s=n.map},function(t,e,r){"use strict";e.a=function(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((e-t)/r)),s=new Array(i);++n<i;)s[n]=t+n*r;return s}},function(t,e,r){"use strict";e.b=a,e.c=function(t,e,r){var a=Math.abs(e-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/o;c>=n?o*=10:c>=i?o*=5:c>=s&&(o*=2);return e<t?-o:o};var n=Math.sqrt(50),i=Math.sqrt(10),s=Math.sqrt(2);function a(t,e,r){var a=(e-t)/Math.max(0,r),o=Math.floor(Math.log(a)/Math.LN10),c=a/Math.pow(10,o);return o>=0?(c>=n?10:c>=i?5:c>=s?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(c>=n?10:c>=i?5:c>=s?2:1)}e.a=function(t,e,r){var n,i,s,o,c=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];if((n=e<t)&&(i=t,t=e,e=i),0===(o=a(t,e,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(i=Math.ceil(e-t+1));++c<i;)s[c]=(t+c)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(i=Math.ceil(t-e+1));++c<i;)s[c]=(t-c)/o;return n&&s.reverse(),s}},function(t,e,r){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,r){"use strict";e.a=function(t,e){var r,n,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(r=t[s])&&r>=r)for(n=r;++s<i;)null!=(r=t[s])&&n>r&&(n=r)}else for(;++s<i;)if(null!=(r=e(t[s],s,t))&&r>=r)for(n=r;++s<i;)null!=(r=e(t[s],s,t))&&n>r&&(n=r);return n}},function(t,e,r){"use strict";var n=r(123);function i(t){return t.length}e.a=function(t){if(!(a=t.length))return[];for(var e=-1,r=Object(n.a)(t,i),s=new Array(r);++e<r;)for(var a,o=-1,c=s[e]=new Array(a);++o<a;)c[o]=t[o][e];return s}},function(t,e){var r,n,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!l){var t=o(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||l||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(205);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";e.b=function(t){return(e,r)=>{if(e in t)return t[e];if(e.indexOf(".")>0){const r=e.substring(0,e.indexOf("."));if(e=e.substring(e.indexOf(".")+1),r in t&&e in t[r])return t[r][e]}return r}},e.a=function(t,e){if(t.length!==e.length)return!1;return t.every((t,r)=>t===e[r])},e.c=function(t){return t.replace(/[\s!#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"_")}},function(t,e,r){"use strict";r(206),r(213);var n=r(45);r.d(e,"a",function(){return n.a});var i=r(236);r.d(e,"b",function(){return i.a});r(129);var s=r(237);r.d(e,"c",function(){return s.a}),r.d(e,"d",function(){return s.b});r(238),r(239),r(240),r(144),r(256);var a=r(257);r.d(e,"e",function(){return a.a});r(258),r(259);var o=r(260);r.d(e,"f",function(){return o.a});r(261),r(262),r(263),r(264)},function(t,e,r){"use strict";e.a=function t(e){var r=Object(n.a)(),a=[],o=s;e=null==e?[]:i.b.call(e);function c(t){var n=t+"",i=r.get(n);if(!i){if(o!==s)return o;r.set(n,i=a.push(t))}return e[(i-1)%e.length]}c.domain=function(t){if(!arguments.length)return a.slice();a=[],r=Object(n.a)();for(var e,i,s=-1,o=t.length;++s<o;)r.has(i=(e=t[s])+"")||r.set(i,a.push(e));return c};c.range=function(t){return arguments.length?(e=i.b.call(t),c):e.slice()};c.unknown=function(t){return arguments.length?(o=t,c):o};c.copy=function(){return t().domain(a).range(e).unknown(o)};return c};var n=r(207),i=r(28),s={name:"implicit"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i});var n=Math.PI/180,i=180/Math.PI},function(t,e,r){"use strict";var n=r(21),i=r(82),s=r(132),a=r(47);function o(t){return function(e){var r,i,s=e.length,a=new Array(s),o=new Array(s),c=new Array(s);for(r=0;r<s;++r)i=Object(n.f)(e[r]),a[r]=i.r||0,o[r]=i.g||0,c[r]=i.b||0;return a=t(a),o=t(o),c=t(c),i.opacity=1,function(t){return i.r=a(t),i.g=o(t),i.b=c(t),i+""}}}e.a=function t(e){var r=Object(a.b)(e);function i(t,e){var i=r((t=Object(n.f)(t)).r,(e=Object(n.f)(e)).r),s=r(t.g,e.g),o=r(t.b,e.b),c=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=s(e),t.b=o(e),t.opacity=c(e),t+""}}return i.gamma=t,i}(1);o(i.b),o(s.a)},function(t,e,r){"use strict";var n=r(82);e.a=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),s=t[(i+e-1)%e],a=t[i%e],o=t[(i+1)%e],c=t[(i+2)%e];return Object(n.a)((r-i/e)*e,s,a,o,c)}}},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";var n=r(79);e.a=function(t,e){var r,i=e?e.length:0,s=t?Math.min(i,t.length):0,a=new Array(s),o=new Array(i);for(r=0;r<s;++r)a[r]=Object(n.a)(t[r],e[r]);for(;r<i;++r)o[r]=e[r];return function(t){for(r=0;r<s;++r)o[r]=a[r](t);return o}}},function(t,e,r){"use strict";e.a=function(t,e){var r=new Date;return e-=t=+t,function(n){return r.setTime(t+e*n),r}}},function(t,e,r){"use strict";var n=r(79);e.a=function(t,e){var r,i={},s={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(r in e)r in t?i[r]=Object(n.a)(t[r],e[r]):s[r]=e[r];return function(t){for(r in i)s[r]=i[r](t);return s}}},function(t,e,r){"use strict";var n=r(60),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(i.source,"g");e.a=function(t,e){var r,a,o,c,u,l=i.lastIndex=s.lastIndex=0,h=-1,d=[],f=[];for(t+="",e+="";(r=i.exec(t))&&(a=s.exec(e));)(o=a.index)>l&&(o=e.slice(l,o),d[h]?d[h]+=o:d[++h]=o),(r=r[0])===(a=a[0])?d[h]?d[h]+=a:d[++h]=a:(d[++h]=null,f.push({i:h,x:Object(n.a)(r,a)})),l=s.lastIndex;return l<e.length&&(o=e.slice(l),d[h]?d[h]+=o:d[++h]=o),d.length<2?f[0]?(u=f[0].x,function(t){return u(t)+""}):(c=e,function(){return c}):(e=f.length,function(t){for(var r,n=0;n<e;++n)d[(r=f[n]).i]=r.x(t);return d.join("")})}},function(t,e,r){"use strict";e.a=function(t){return+t}},function(t,e,r){"use strict";var n=r(62),i=r(228),s=r(229),a=r(140),o=r(141),c=r(142),u=r(232),l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e=t.grouping&&t.thousands?Object(i.a)(t.grouping,t.thousands):u.a,r=t.currency,h=t.decimal,d=t.numerals?Object(s.a)(t.numerals):u.a,f=t.percent||"%";function p(t){var n=(t=Object(a.a)(t)).fill,i=t.align,s=t.sign,u=t.symbol,p=t.zero,g=t.width,m=t.comma,b=t.precision,E=t.type,v="$"===u?r[0]:"#"===u&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",y="$"===u?r[1]:/[%p]/.test(E)?f:"",_=o.a[E],O=!E||/[defgprs%]/.test(E);function T(t){var r,a,o,u=v,f=y;if("c"===E)f=_(t)+f,t="";else{var T=(t=+t)<0;if(t=_(Math.abs(t),b),T&&0==+t&&(T=!1),u=(T?"("===s?s:"-":"-"===s||"("===s?"":s)+u,f=f+("s"===E?l[8+c.b/3]:"")+(T&&"("===s?")":""),O)for(r=-1,a=t.length;++r<a;)if(48>(o=t.charCodeAt(r))||o>57){f=(46===o?h+t.slice(r+1):t.slice(r))+f,t=t.slice(0,r);break}}m&&!p&&(t=e(t,1/0));var N=u.length+t.length+f.length,C=N<g?new Array(g-N+1).join(n):"";switch(m&&p&&(t=e(C+t,C.length?g-f.length:1/0),C=""),i){case"<":t=u+t+f+C;break;case"=":t=u+C+t+f;break;case"^":t=C.slice(0,N=C.length>>1)+u+t+f+C.slice(N);break;default:t=C+u+t+f}return d(t)}return b=null==b?E?6:12:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),T.toString=function(){return t+""},T}return{format:p,formatPrefix:function(t,e){var r=p(((t=Object(a.a)(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Object(n.a)(e)/3))),s=Math.pow(10,-i),o=l[8+i/3];return function(t){return r(s*t)+o}}}}},function(t,e,r){"use strict";e.a=s;var n=r(141),i=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function s(t){return new a(t)}function a(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e,r=e[1]||" ",s=e[2]||">",a=e[3]||"-",o=e[4]||"",c=!!e[5],u=e[6]&&+e[6],l=!!e[7],h=e[8]&&+e[8].slice(1),d=e[9]||"";"n"===d?(l=!0,d="g"):n.a[d]||(d=""),(c||"0"===r&&"="===s)&&(c=!0,r="0",s="="),this.fill=r,this.align=s,this.sign=a,this.symbol=o,this.zero=c,this.width=u,this.comma=l,this.precision=h,this.type=d}s.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,e,r){"use strict";var n=r(230),i=r(142),s=r(231);e.a={"":n.a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Object(s.a)(100*t,e)},r:s.a,s:i.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,e,r){"use strict";r.d(e,"b",function(){return n});var n,i=r(84);e.a=function(t,e){var r=Object(i.a)(t,e);if(!r)return t+"";var s=r[0],a=r[1],o=a-(n=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=s.length;return o===c?s:o>c?s+new Array(o-c+1).join("0"):o>0?s.slice(0,o)+"."+s.slice(o):"0."+new Array(1-o).join("0")+Object(i.a)(t,Math.max(0,e+o-1))[0]}},function(t,e,r){"use strict";e.a=function(t,e){var r,n=0,i=(t=t.slice()).length-1,s=t[n],a=t[i];return a<s&&(r=n,n=i,i=r,r=s,s=a,a=r),t[n]=e.floor(s),t[i]=e.ceil(a),t}},function(t,e,r){"use strict";e.a=b;var n=r(13),i=r(46),s=(r(85),r(48),r(28)),a=r(61),o=r(143),c=1e3,u=60*c,l=60*u,h=24*l,d=7*h,f=30*h,p=365*h;function g(t){return new Date(t)}function m(t){return t instanceof Date?+t:+new Date(+t)}function b(t,e,r,E,v,y,_,O,T){var N=Object(a.b)(a.c,i.c),C=N.invert,w=N.domain,R=T(".%L"),x=T(":%S"),A=T("%I:%M"),D=T("%I %p"),M=T("%a %d"),L=T("%b %d"),j=T("%B"),S=T("%Y"),V=[[_,1,c],[_,5,5*c],[_,15,15*c],[_,30,30*c],[y,1,u],[y,5,5*u],[y,15,15*u],[y,30,30*u],[v,1,l],[v,3,3*l],[v,6,6*l],[v,12,12*l],[E,1,h],[E,2,2*h],[r,1,d],[e,1,f],[e,3,3*f],[t,1,p]];function I(n){return(_(n)<n?R:y(n)<n?x:v(n)<n?A:E(n)<n?D:e(n)<n?r(n)<n?M:L:t(n)<n?j:S)(n)}function k(e,r,i,s){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-r)/e,o=Object(n.c)(function(t){return t[2]}).right(V,a);o===V.length?(s=Object(n.m)(r/p,i/p,e),e=t):o?(s=(o=V[a/V[o-1][2]<V[o][2]/a?o-1:o])[1],e=o[0]):(s=Math.max(Object(n.m)(r,i,e),1),e=O)}return null==s?e:e.every(s)}return N.invert=function(t){return new Date(C(t))},N.domain=function(t){return arguments.length?w(s.a.call(t,m)):w().map(g)},N.ticks=function(t,e){var r,n=w(),i=n[0],s=n[n.length-1],a=s<i;return a&&(r=i,i=s,s=r),r=(r=k(t,i,s,e))?r.range(i,s+1):[],a?r.reverse():r},N.tickFormat=function(t,e){return null==e?I:T(e)},N.nice=function(t,e){var r=w();return(t=k(t,r[0],r[r.length-1],e))?w(Object(o.a)(r,t)):N},N.copy=function(){return Object(a.a)(N,b(t,e,r,E,v,y,_,O,T))},N}},function(t,e,r){"use strict";e.a=function(t){var e=t.dateTime,r=t.date,c=t.time,u=t.periods,l=t.days,h=t.shortDays,d=t.months,bt=t.shortMonths,Et=f(u),vt=p(u),yt=f(l),_t=p(l),Ot=f(h),Tt=p(h),Nt=f(d),Ct=p(d),wt=f(bt),Rt=p(bt),xt={a:function(t){return h[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return bt[t.getMonth()]},B:function(t){return d[t.getMonth()]},c:null,d:S,e:S,f:$,H:V,I,j:k,L:H,m:G,M:P,p:function(t){return u[+(t.getHours()>=12)]},Q:gt,s:mt,S:F,u:U,U:Y,V:B,w:z,W:q,x:null,X:null,y:W,Y:K,Z:X,"%":pt},At={a:function(t){return h[t.getUTCDay()]},A:function(t){return l[t.getUTCDay()]},b:function(t){return bt[t.getUTCMonth()]},B:function(t){return d[t.getUTCMonth()]},c:null,d:J,e:J,f:rt,H:Z,I:Q,j:tt,L:et,m:nt,M:it,p:function(t){return u[+(t.getUTCHours()>=12)]},Q:gt,s:mt,S:st,u:at,U:ot,V:ct,w:ut,W:lt,x:null,X:null,y:ht,Y:dt,Z:ft,"%":pt},Dt={a:function(t,e,r){var n=Ot.exec(e.slice(r));return n?(t.w=Tt[n[0].toLowerCase()],r+n[0].length):-1},A:function(t,e,r){var n=yt.exec(e.slice(r));return n?(t.w=_t[n[0].toLowerCase()],r+n[0].length):-1},b:function(t,e,r){var n=wt.exec(e.slice(r));return n?(t.m=Rt[n[0].toLowerCase()],r+n[0].length):-1},B:function(t,e,r){var n=Nt.exec(e.slice(r));return n?(t.m=Ct[n[0].toLowerCase()],r+n[0].length):-1},c:function(t,r,n){return jt(t,e,r,n)},d:N,e:N,f:D,H:w,I:w,j:C,L:A,m:T,M:R,p:function(t,e,r){var n=Et.exec(e.slice(r));return n?(t.p=vt[n[0].toLowerCase()],r+n[0].length):-1},Q:L,s:j,S:x,u:m,U:b,V:E,w:g,W:v,x:function(t,e,n){return jt(t,r,e,n)},X:function(t,e,r){return jt(t,c,e,r)},y:_,Y:y,Z:O,"%":M};function Mt(t,e){return function(r){var n,i,s,a=[],c=-1,u=0,l=t.length;for(r instanceof Date||(r=new Date(+r));++c<l;)37===t.charCodeAt(c)&&(a.push(t.slice(u,c)),null!=(i=o[n=t.charAt(++c)])?n=t.charAt(++c):i="e"===n?" ":"0",(s=e[n])&&(n=s(r,i)),a.push(n),u=c+1);return a.push(t.slice(u,c)),a.join("")}}function Lt(t,e){return function(r){var i,o,c=a(1900),u=jt(c,t,r+="",0);if(u!=r.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(i=s(a(c.y)),o=i.getUTCDay(),i=o>4||0===o?n.p.ceil(i):Object(n.p)(i),i=n.l.offset(i,7*(c.V-1)),c.y=i.getUTCFullYear(),c.m=i.getUTCMonth(),c.d=i.getUTCDate()+(c.w+6)%7):(i=e(a(c.y)),o=i.getDay(),i=o>4||0===o?n.e.ceil(i):Object(n.e)(i),i=n.a.offset(i,7*(c.V-1)),c.y=i.getFullYear(),c.m=i.getMonth(),c.d=i.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),o="Z"in c?s(a(c.y)).getUTCDay():e(a(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(o+5)%7:c.w+7*c.U-(o+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,s(c)):e(c)}}function jt(t,e,r,n){for(var i,s,a=0,c=e.length,u=r.length;a<c;){if(n>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(s=Dt[i in o?e.charAt(a++):i])||(n=s(t,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return xt.x=Mt(r,xt),xt.X=Mt(c,xt),xt.c=Mt(e,xt),At.x=Mt(r,At),At.X=Mt(c,At),At.c=Mt(e,At),{format:function(t){var e=Mt(t+="",xt);return e.toString=function(){return t},e},parse:function(t){var e=Lt(t+="",i);return e.toString=function(){return t},e},utcFormat:function(t){var e=Mt(t+="",At);return e.toString=function(){return t},e},utcParse:function(t){var e=Lt(t,s);return e.toString=function(){return t},e}}};var n=r(85);function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var o={"-":"",_:" ",0:"0"},c=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function h(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function d(t){return t.replace(l,"\\$&")}function f(t){return new RegExp("^(?:"+t.map(d).join("|")+")","i")}function p(t){for(var e={},r=-1,n=t.length;++r<n;)e[t[r].toLowerCase()]=r;return e}function g(t,e,r){var n=c.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function m(t,e,r){var n=c.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function b(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function E(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function v(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function y(t,e,r){var n=c.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function _(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function T(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function N(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function C(t,e,r){var n=c.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function w(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function R(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function x(t,e,r){var n=c.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function A(t,e,r){var n=c.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function D(t,e,r){var n=c.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function M(t,e,r){var n=u.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function L(t,e,r){var n=c.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function j(t,e,r){var n=c.exec(e.slice(r));return n?(t.Q=1e3*+n[0],r+n[0].length):-1}function S(t,e){return h(t.getDate(),e,2)}function V(t,e){return h(t.getHours(),e,2)}function I(t,e){return h(t.getHours()%12||12,e,2)}function k(t,e){return h(1+n.a.count(Object(n.k)(t),t),e,3)}function H(t,e){return h(t.getMilliseconds(),e,3)}function $(t,e){return H(t,e)+"000"}function G(t,e){return h(t.getMonth()+1,e,2)}function P(t,e){return h(t.getMinutes(),e,2)}function F(t,e){return h(t.getSeconds(),e,2)}function U(t){var e=t.getDay();return 0===e?7:e}function Y(t,e){return h(n.h.count(Object(n.k)(t),t),e,2)}function B(t,e){var r=t.getDay();return t=r>=4||0===r?Object(n.i)(t):n.i.ceil(t),h(n.i.count(Object(n.k)(t),t)+(4===Object(n.k)(t).getDay()),e,2)}function z(t){return t.getDay()}function q(t,e){return h(n.e.count(Object(n.k)(t),t),e,2)}function W(t,e){return h(t.getFullYear()%100,e,2)}function K(t,e){return h(t.getFullYear()%1e4,e,4)}function X(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+h(e/60|0,"0",2)+h(e%60,"0",2)}function J(t,e){return h(t.getUTCDate(),e,2)}function Z(t,e){return h(t.getUTCHours(),e,2)}function Q(t,e){return h(t.getUTCHours()%12||12,e,2)}function tt(t,e){return h(1+n.l.count(Object(n.v)(t),t),e,3)}function et(t,e){return h(t.getUTCMilliseconds(),e,3)}function rt(t,e){return et(t,e)+"000"}function nt(t,e){return h(t.getUTCMonth()+1,e,2)}function it(t,e){return h(t.getUTCMinutes(),e,2)}function st(t,e){return h(t.getUTCSeconds(),e,2)}function at(t){var e=t.getUTCDay();return 0===e?7:e}function ot(t,e){return h(n.s.count(Object(n.v)(t),t),e,2)}function ct(t,e){var r=t.getUTCDay();return t=r>=4||0===r?Object(n.t)(t):n.t.ceil(t),h(n.t.count(Object(n.v)(t),t)+(4===Object(n.v)(t).getUTCDay()),e,2)}function ut(t){return t.getUTCDay()}function lt(t,e){return h(n.p.count(Object(n.v)(t),t),e,2)}function ht(t,e){return h(t.getUTCFullYear()%100,e,2)}function dt(t,e){return h(t.getUTCFullYear()%1e4,e,4)}function ft(){return"+0000"}function pt(){return"%"}function gt(t){return+t}function mt(t){return Math.floor(+t/1e3)}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(86),i="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(n.c)(i)},function(t,e,r){"use strict";var n=r(0);e.a=class extends n.a{constructor(t,e){super(t,e)}getLabel(){return""}getValue(){return""}compare(){return 0}}},function(t,e,r){"use strict";var n=r(2),i=r(32),s=r(26);function a(t,e,r){const n=r.column;return"string"==typeof(a=n)&&a.indexOf(".")>=0?(i=n,s=t.v,i.split(".").reduce((t,e)=>void 0===t?t:/\d+/.test(e)?t[+e]:t[e],s)):t.v[n];var i,s,a}e.a=class extends s.a{constructor(t=[],e={}){super(e),this.columns=t,this.rankingIndex=0,this.ranks=new Map,t.forEach(t=>{t.accessor=t.accessor||a,t.label=t.label||t.column})}rankAccessor(t,e,r,n){const i=this.ranks.get(n.id)||[];let s=0;for(const e of i){const r=e.order.indexOf(t.i);if(r>=0)return s+r+1;s+=e.order.length}return-1}getMaxNestedSortingCriteria(){return 1}getMaxGroupColumns(){return 1}cloneRanking(t){const e=this.nextRankingId(),r=new i.a(e,this.getMaxNestedSortingCriteria(),this.getMaxGroupColumns());return t&&(this.ranks.set(e,this.ranks.get(t.id)),t.children.forEach(t=>{this.push(r,t.desc)})),r}cleanUpRanking(t){this.ranks.delete(t.id)}sort(t){const e=this.sortImpl(t);return Array.isArray(e)?(this.ranks.set(t.id,e),e):e.then(e=>(this.ranks.set(t.id,e),e))}pushDesc(t){const e=t;e.accessor=e.accessor||a,e.label=t.label||e.column,this.columns.push(t),this.fire(s.a.EVENT_ADD_DESC,e)}clearColumns(){this.clearRankings(),this.columns.splice(0,this.columns.length),this.fire(s.a.EVENT_CLEAR_DESC)}getColumns(){return this.columns.slice()}findDesc(t){return this.columns.filter(e=>e.column===t)[0]}toDescRef(t){return void 0!==t.column?`${t.type}@${t.column}`:t}deriveDefault(t=!0){const e=this.pushRanking();return t&&(this.getMaxGroupColumns()>0&&e.push(this.create(Object(n.Z)())),e.push(this.create(Object(n._6)())),this.multiSelections&&e.push(this.create(Object(n._9)()))),this.getColumns().forEach(t=>{const r=this.create(t);r&&!Object(n._32)(r)&&e.push(r)}),e}fromDescRef(t){if("string"==typeof t)return this.columns.find(e=>`${e.type}@${e.column}`===t);const e=this.columns.find(e=>t.column===e.column&&t.label===e.label&&t.type===e.type);return e||t}restore(t){super.restore(t),this.rankingIndex=1+Math.max(...this.getRankings().map(t=>+t.id.substring(4)))}nextRankingId(){return`rank${this.rankingIndex++}`}}},function(t,e,r){"use strict";e.b=function(t,e={}){const r=Object.assign({categoricalThreshold:.7,columns:[]},e),n=[];if(0===t.length)return n;const i=t[0];if(Array.isArray(i))return i.map((e,n)=>o(`Col${n}`,e,n,t,r));return(r.columns.length>0?r.columns:Object.keys(i)).map(e=>o(e,i[e],e,t,r))},e.a=function(t){const e=Object(a.a)();return t.forEach(t=>{switch(t.type){case"number":t.color=e()||s.a.DEFAULT_COLOR}}),t},e.c=function(t,e,r={}){const n=Object.assign({separator:"\t",newline:"\n",header:!0,quote:!1,quoteChar:'"',filter:t=>!Object(i._32)(t),verboseColumnHeaders:!1},r),s=new RegExp(`[${n.quoteChar}]`,"g");function a(t,e){return!(n.quote||t.indexOf("\n")>=0)||e&&Object(i._28)(e)?t:`${n.quoteChar}${t.replace(s,n.quoteChar+n.quoteChar)}${n.quoteChar}`}const o=t.flatColumns.filter(t=>n.filter(t)),c=t.getOrder(),u=[];n.header&&u.push(o.map(t=>a(`${t.label}${n.verboseColumnHeaders&&t.description?`\n${t.description}`:""}`)).join(n.separator));return e.forEach((t,e)=>{u.push(o.map(r=>a(r.getLabel({v:t,i:c[e]}),r)).join(n.separator))}),u.join(n.newline)};var n=r(13),i=r(2),s=r(0),a=r(17);function o(t,e,r,i,s){const a={type:"string",label:t,column:r};if("number"==typeof e)return a.type="number",a.domain=Object(n.d)(i,t=>t[r]),a;if(e&&e instanceof Date)return a.type="date",a;if("boolean"==typeof e)return a.type="boolean",a;if("string"==typeof e){const t=new Set(i.map(t=>t[r]));return t.size<i.length*s.categoricalThreshold&&(a.type="categorical",a.categories=Array.from(t).sort()),a}if(Array.isArray(e)){a.type="strings";const t=e[0];if("number"==typeof t)return a.type="numbers",a.domain=Object(n.d)([].concat(...i.map(t=>t[r]))),a;if(t&&e instanceof Date)return a.type="dates",a;if("boolean"==typeof e)return a.type="booleans",a;if("string"==typeof e){const t=new Set([].concat(...i.map(t=>t[r])));return t.size<i.length*s.categoricalThreshold&&(a.type="categoricals",a.categories=Array.from(t).sort()),a}}return console.log("cannot infer type of column:",r),a}},function(t,e,r){"use strict";var n=r(18),i=r(34),s=r(6),a=r(5);class o{constructor(){this.title="Default"}canRender(t){return t instanceof n.b}create(t){const e=t.alignment||"left";return{template:`<div${"left"!==e?` class="lu-${e}"`:""}> </div>`,update:(e,r)=>{Object(s.b)(e,t,r),t.escape?Object(a.g)(e,t.getLabel(r)):e.innerHTML=t.getLabel(r)},render:a.f}}static exampleText(t,e){const r=[];for(const n of e){if(t.isMissing(n))continue;const e=t.getLabel(n);if(r.push(e),r.length>=5)break}return`${r.join(", ")}${r.length<e.length?", &hellip;":""}`}createGroup(t){return{template:"<div> </div>",update:(e,r,n)=>{e.innerHTML=`${o.exampleText(t,n)}`}}}static interactiveSummary(t,e){const r=e,i=e.querySelector('input[type="checkbox"].lu_filter_missing'),s=e.querySelector('input[type="text"]'),a=e.querySelector('input[type="checkbox"]:first-of-type'),o=()=>{if(s.disabled=i.checked,a.disabled=i.checked,i.checked)return void t.setFilter(n.b.FILTER_MISSING);const e=s.value.trim();i.disabled=e.length>0,e.length<=0?t.setFilter(null):t.setFilter(a.checked?new RegExp(s.value):s.value)};return i.onchange=o,s.onchange=o,a.onchange=o,r.onsubmit=(t=>(t.preventDefault(),t.stopPropagation(),o(),!1)),e=>{let r=(t=e).getFilter()||"";const o=r===n.b.FILTER_MISSING;o&&(r=""),i.checked=o,s.value=r instanceof RegExp?r.source:r,a.checked=r instanceof RegExp,i.disabled=s.value.trim().length>0,s.disabled=i.checked,a.disabled=i.checked}}createSummary(t,e,r){if(!r)return{template:"<div></div>",update:e=>{const r=t.getFilter()||"";e.textContent=function(t){if(null==t||""===t||t===n.b.FILTER_MISSING)return"";if(t instanceof RegExp)return t.source;return String(t)}(r)}};let s=t.getFilter()||"";const a=s===n.b.FILTER_MISSING;let c;return a&&(s=""),{template:`<form><input type="text" placeholder="containing..." autofocus value="${s instanceof RegExp?s.source:s}">\n          <label><input type="checkbox" ${s instanceof RegExp?'checked="checked"':""}>RegExp</label>\n          ${Object(i.a)(a)}</form>`,update:e=>{c||(c=o.interactiveSummary(t,e)),c(t)}}}}e.a=o},function(t,e,r){"use strict";var n=r(6),i=r(5);e.a=class{constructor(){this.title="String",this.groupTitle="None",this.summaryTitle="None"}canRender(t,e){return!0}create(t){return{template:"<div> </div>",update:(e,r)=>{Object(n.b)(e,t,r),Object(i.g)(e,t.getLabel(r))},render:i.f}}createGroup(t){return i.e}createSummary(){return i.e}}},function(t,e,r){"use strict";e.b=p;var n=r(33),i=r(27),s=r(2),a=r(23),o=r(16),c=r(52),u=r(12),l=r(34),h=r(6),d=r(5);function f(t,e){const r=t.categories.map(t=>`<div title="${t.label}: 0" data-cat="${t.name}" ${e?`data-title="${t.label}"`:""}><div style="height: 0; background-color: ${t.color}"></div></div>`).join("");return{template:`<div${t.dataLength>n.a?'class="lu-dense"':""}>${r}`,update:(e,r,n)=>{Array.from(e.querySelectorAll("[data-cat]")).forEach((e,i)=>{const{y:s}=n[i];e.title=`${t.categories[i].label}: ${s}`,e.firstElementChild.style.height=`${Math.round(100*s/r)}%`})}}}function p(t,e){const r=Array.from(e.querySelectorAll("[data-cat]"));r.forEach((e,r)=>{const n=t.categories[r];e.onclick=(i=>{i.preventDefault(),i.stopPropagation();const s=t.getFilter();if(null==s||!Array.isArray(s.filter)){const n=t.categories.slice();return e.dataset.filtered="filtered",n.splice(r,1),void t.setFilter({filterMissing:!!s&&s.filterMissing,filter:n.map(t=>t.name)})}const a=s.filter.slice(),o=a.indexOf(n.name);o>=0?(e.dataset.filtered="filtered",a.splice(o,1)):(delete e.dataset.filtered,a.push(n.name)),t.setFilter({filterMissing:s.filterMissing,filter:a})})});const n=e.querySelector("input");return n&&(n.onchange=(()=>{const e=n.checked,r=t.getFilter();null==r?t.setFilter(e?{filterMissing:e,filter:t.categories.map(t=>t.name)}:null):t.setFilter({filterMissing:e,filter:r.filter})})),(e,i)=>{const s=(t=i).categories,a=t.getFilter();r.forEach((t,e)=>{Object(o.c)(a,s[e])?delete t.dataset.filtered:t.dataset.filtered="filtered"}),n&&(n.checked=null!=a&&a.filterMissing,Object(l.c)(n.parentElement,e))}}e.a=class{constructor(){this.title="Color",this.groupTitle="Histogram"}canRender(t){return Object(s._18)(t)}create(t,e){const r=e.colWidth(t);return{template:"<div>\n        <div></div><div></div>\n      </div>",update:(e,r)=>{Object(h.b)(e,t,r);const n=t.getCategory(r);e.firstElementChild.style.backgroundColor=n?n.color:null,Object(d.g)(e.lastElementChild,t.getLabel(r))},render:(e,n)=>{if(Object(h.a)(e,t,n,r))return;const i=t.getCategory(n);e.fillStyle=i?i.color:"",e.fillRect(0,0,r,u.c)}}}createGroup(t,e,r){const{template:n,update:s}=f(t,!1);return{template:`${n}</div>`,update:(e,n,a)=>{const{maxBin:o,hist:c}=Object(i.b)(a,e=>t.getCategory(e),t.categories),u=Math.max(o,r?r.maxBin:0);s(e,u,c)}}}createSummary(t,e,r){return t instanceof a.a||t instanceof c.a?function(t,e){const{template:r,update:n}=f(t,e||Object(d.h)(t));let i;return{template:`${r}${e?Object(l.b)(!1,0):""}</div>`,update:(e,r)=>{i||(i=p(t,e)),i(r?r.missing:0,t),e.classList.toggle("lu-missing",!r),r&&n(e,r.maxBin,r.hist)}}}(t,r):function(t,e){const{template:r,update:n}=f(t,e);return{template:`${r}</div>`,update:(t,e)=>{t.classList.toggle("lu-missing",!e),e&&n(t,e.maxBin,e.hist)}}}(t,r)}}},function(t,e,r){"use strict";e.b=u;var n=r(16),i=r(12),s=r(9),a=r(6),o=r(5);class c{constructor(){this.title="Matrix"}canRender(t,e){return Object(n.e)(t)&&e!==s.a.SUMMARY}static calculateSetPath(t,e){const r=[];t.forEach((t,e)=>t?r.push(e):-1);const n=r[0]*e+e/2,i=r[r.length-1]*e+e/2;return{left:n,right:i}}static createDOMContext(t){const e=t.categories;let r="";for(const t of e)r+=`<div title="${t.label}"></div>`;return{templateRow:r,render:(t,e)=>{Array.from(t.children).slice(1).forEach((t,r)=>{const n=e[r];t.classList.toggle("enabled",n)});const r=t.firstElementChild,n=e.findIndex(t=>t),i=e.length-1-e.reverse().findIndex(t=>t);n<0||n===i?r.style.display="none":(r.style.display=null,r.style.left=`${Math.round(100*(n+.5)/e.length)}%`,r.style.width=`${Math.round(100*(i-n)/e.length)}%`)}}}create(t,e){const{templateRow:r,render:n}=c.createDOMContext(t),s=e.colWidth(t),o=s/t.dataLength;return{template:`<div><div></div>${r}</div>`,update:(e,r)=>{Object(a.b)(e,t,r)||n(e,t.getValues(r))},render:(e,r)=>{if(Object(a.a)(e,t,r,s))return;const n=t.getValues(r),u=n.some(t=>t);if(e.save(),e.fillStyle=i.h.circle,e.strokeStyle=i.h.stroke,u){const{left:t,right:r}=c.calculateSetPath(n,o);e.beginPath(),e.moveTo(t,i.c/2),e.lineTo(r,i.c/2),e.stroke()}n.forEach((t,r)=>{const n=r*o;e.beginPath(),e.globalAlpha=t?1:i.h.inactive,e.fillRect(n,0,o,i.c),e.fill()}),e.restore()}}}createGroup(t){const{templateRow:e,render:r}=c.createDOMContext(t);return{template:`<div><div></div>${e}</div>`,update:(e,n,i)=>{const s=u(t,i);r(e,s)}}}createSummary(){return o.e}}function u(t,e){const r=new Set;return e.forEach(e=>{t.getSet(e).forEach(t=>r.add(t))}),t.categories.map(t=>r.has(t))}e.a=c},function(t,e,r){"use strict";e.b=b;var n=r(155),i=r(54),s=r(33),a=r(27),o=r(2),c=r(4),u=r(24),l=r(316),h=r(34),d=r(35),f=r(9),p=r(6),g=r(5);function m(t,e,r,n){const i=t?t.hist.length:e;let s;if(Object(c.j)(n)){const t=[].concat(...r.map(t=>n.getNumbers(t)));s=Object(a.c)(t,t=>t,o._26,[0,1],i)}else s=Object(a.c)(r,t=>n.getNumber(t),t=>n.isMissing(t),[0,1],i);return{bins:i,max:Math.max(s.maxBin,t?t.maxBin:0),hist:s.hist}}function b(t,e,r){const n=Object(a.d)(t);let i="";for(let t=0;t<n;++t)i+=`<div title="Bin ${t}: 0" data-x=""><div style="height: 0" ></div></div>`;return{template:`<div${n>s.a?' class="lu-dense':""}>${i}`,render:(t,n)=>{const{bins:i,max:a,hist:o}=n;let u=Array.from(t.querySelectorAll("[data-x]"));if(u.length>i)u.splice(i,u.length-i).forEach(t=>t.remove());else if(u.length<i){for(let e=u.length;e<i;++e)t.insertAdjacentHTML("afterbegin",`<div title="Bin ${e}: 0" data-x=""><div style="height: 0" ></div></div>`);u=Array.from(t.querySelectorAll("[data-x]"))}t.classList.toggle("lu-dense",i>s.a),u.forEach((t,n)=>{const{x0:i,x1:s,length:u}=o[n],l=t.firstElementChild;t.title=`${Object(c.a)(i)} - ${Object(c.a)(s)} (${u})`,t.dataset.x=Object(c.a)(i),l.style.height=`${Math.round(100*u/a)}%`,l.style.backgroundColor=Object(d.a)(e,null,r)})},guessedBins:n}}function E(t){const e=t.getFilter(),r=t.getMapping().domain,n=isFinite(e.min)?e.min:r[0],i=isFinite(e.max)?e.max:r[1];return{filterMissing:e.filterMissing,domain:r,percent:t=>Math.round(100*(t-r[0])/(r[1]-r[0])),unpercent:t=>t/100*(r[1]-r[0])+r[0],filterMin:n,filterMax:i}}e.a=class{constructor(){this.title="Histogram"}canRender(t,e){return Object(c.h)(t)&&e!==f.a.CELL||Object(c.j)(t)&&e===f.a.CELL}create(t,e,r,n){const{template:i,render:s,guessedBins:a}=b(e.totalNumberOfRows,t,n);return{template:`${i}</div>`,update:(e,n)=>{Object(p.b)(e,t,n)||s(e,m(r,a,[n],t))},render:g.f}}createGroup(t,e,r,n){const{template:i,render:s,guessedBins:a}=b(e.totalNumberOfRows,t,n);return{template:`${i}</div>`,update:(e,n,i)=>{s(e,m(r,a,i,t))}}}createSummary(t,e,r,s){const o=b(e.totalNumberOfRows,t,s),c=!r||!Object(u.d)(t);return c?function(t,e,r){if(Object(u.d)(t)){const r=t.getRange();e+=`<span>${r[0]}</span><span>${r[1]}</span>`}return{template:`${e}</div>`,update:(e,n)=>{if(Object(u.d)(t)){const r=t.getRange();Array.from(e.querySelectorAll("span")).forEach((t,e)=>t.textContent=r[e])}e.classList.toggle("lu-missing",!n),n&&r(e,{bins:n.hist.length,max:n.maxBin,hist:n.hist})}}}(t,o.template,o.render):function(t,e,r){const s=E(t);let o;return{template:`${e+=`\n      <div data-handle="min-hint" style="width: ${s.percent(s.filterMin)}%"></div>\n      <div data-handle="max-hint" style="width: ${100-s.percent(s.filterMax)}%"></div>\n      <div data-handle="min" data-value="${Object(a.e)(s.filterMin,2)}" style="left: ${s.percent(s.filterMin)}%" title="min filter, drag or shift click to change"></div>\n      <div data-handle='max' data-value="${Object(a.e)(s.filterMax,2)}" style="right: ${100-s.percent(s.filterMax)}%" title="max filter, drag or shift click to change"></div>\n      ${Object(h.b)(s.filterMissing,0)}\n    `}</div>`,update:(e,s)=>{o||(o=function(t,e){const r=t.querySelector("[data-handle=min]"),s=t.querySelector("[data-handle=max]"),o=t.querySelector("[data-handle=min-hint]"),c=t.querySelector("[data-handle=max-hint]"),u=t.querySelector("input"),d=()=>{const t=E(e),n=t.unpercent(parseFloat(r.style.left)),i=t.unpercent(100-parseFloat(s.style.right));e.setFilter({filterMissing:u.checked,min:Math.abs(n-t.domain[0])<.001?NaN:n,max:Math.abs(i-t.domain[1])<.001?NaN:i})};return r.onclick=(t=>{if(!t.shiftKey)return;t.preventDefault(),t.stopPropagation();const n=E(e),i=n.unpercent(parseFloat(r.style.left));new l.a(r,t=>{o.style.width=`${n.percent(t)}%`,r.dataset.value=Object(a.e)(t,2).toString(),r.style.left=`${n.percent(t)}%`,d()},{value:i,min:n.domain[0],max:n.domain[1]}).open()}),s.onclick=(t=>{if(!t.shiftKey)return;t.preventDefault(),t.stopPropagation();const r=E(e),n=r.unpercent(100-parseFloat(s.style.right));new l.a(s,t=>{c.style.width=`${100-r.percent(t)}%`,s.dataset.value=Object(a.e)(t,2).toString(),s.style.right=`${100-r.percent(t)}%`,d()},{value:n,min:r.domain[0],max:r.domain[1]}).open()}),u.onchange=(()=>d()),Object(i.e)([r,s]).call(Object(n.a)().filter(()=>0===i.b.button&&!i.b.shiftKey).on("start",function(){this.classList.add("lu-dragging")}).on("drag",function(){const r=i.b,n=t.clientWidth,s=Math.max(0,Math.min(r.x,n)),u=Math.round(100*s/n),l=e.getMapping().domain;if(this.dataset.value=Object(a.e)((t=>t/100*(l[1]-l[0])+l[0])(u),2).toString(),"min"===this.dataset.handle)return this.style.left=`${u}%`,void(o.style.width=`${u}%`);this.style.right=`${100-u}%`,c.style.width=`${100-u}%`}).on("end",function(){this.classList.remove("lu-dragging"),d()})),(t,n)=>{const i=E(e=n);o.style.width=`${i.percent(i.filterMin)}%`,c.style.width=`${100-i.percent(i.filterMax)}%`,r.dataset.value=Object(a.e)(i.filterMin,2).toString(),s.dataset.value=Object(a.e)(i.filterMax,2).toString(),r.style.left=`${i.percent(i.filterMin)}%`,s.style.right=`${100-i.percent(i.filterMax)}%`,u.checked=i.filterMissing,Object(h.c)(u.parentElement,t)}}(e,t)),o(s?s.missing:0,t),e.classList.toggle("lu-missing",!s),s&&r(e,{bins:s.hist.length,max:s.maxBin,hist:s.hist})}}}(t,o.template,o.render)}}},function(t,e,r){"use strict";var n=r(280);r.d(e,"a",function(){return n.a});r(161)},function(t,e,r){"use strict";var n=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var s=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;n=function(t){return function(){return s.call(this,t)}}}}e.a=n},function(t,e,r){"use strict";function n(){return[]}e.a=function(t){return null==t?n:function(){return this.querySelectorAll(t)}}},function(t,e,r){"use strict";e.a=s;var n=r(159),i=r(20);function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new i.a(this._enter||this._groups.map(n.a),this._parents)},s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,r){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,r){"use strict";var n=r(108);e.a=function(t,e,r){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}:function(t,e,r){return function(){this.style.setProperty(t,e,r)}})(t,e,null==r?"":r)):(i=this.node(),s=t,i.style.getPropertyValue(s)||Object(n.a)(i).getComputedStyle(i,null).getPropertyValue(s));var i,s}},function(t,e,r){"use strict";e.b=function(t,e){var r=t.document.documentElement,s=Object(n.d)(t).on("dragstart.drag",null);e&&(s.on("click.drag",i.a,!0),setTimeout(function(){s.on("click.drag",null)},0));"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)};var n=r(54),i=r(162);e.a=function(t){var e=t.document.documentElement,r=Object(n.d)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?r.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,r){"use strict";e.b=function(){n.b.stopImmediatePropagation()};var n=r(54);e.a=function(){n.b.preventDefault(),n.b.stopImmediatePropagation()}},function(t,e,r){"use strict";(function(t){for(var r="undefined"!=typeof window&&"undefined"!=typeof document,n=["Edge","Trident","Firefox"],i=0,s=0;s<n.length;s+=1)if(r&&navigator.userAgent.indexOf(n[s])>=0){i=1;break}var a=r&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function c(t,e){if(1!==t.nodeType)return[];var r=getComputedStyle(t,null);return e?r[e]:r}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=c(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/(auto|scroll)/.test(r+i+n)?t:l(u(t))}function h(t){var e=t&&t.offsetParent,r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===c(e,"position")?h(e):e:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function f(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?t:e,i=r?e:t,s=document.createRange();s.setStart(n,0),s.setEnd(i,0);var a,o,c=s.commonAncestorContainer;if(t!==c&&e!==c||n.contains(i))return"BODY"===(o=(a=c).nodeName)||"HTML"!==o&&h(a.firstElementChild)!==a?h(c):c;var u=d(t);return u.host?f(u.host,e):f(t,d(e).host)}function p(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function g(t,e){var r="x"===e?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(t["border"+r+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}var m=void 0,b=function(){return void 0===m&&(m=-1!==navigator.appVersion.indexOf("MSIE 10")),m};function E(t,e,r,n){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],b()?r["offset"+t]+n["margin"+("Height"===t?"Top":"Left")]+n["margin"+("Height"===t?"Bottom":"Right")]:0)}function v(){var t=document.body,e=document.documentElement,r=b()&&getComputedStyle(e);return{height:E("Height",t,e,r),width:E("Width",t,e,r)}}var y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),O=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function N(t){return T({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};if(b())try{e=t.getBoundingClientRect();var r=p(t,"top"),n=p(t,"left");e.top+=r,e.left+=n,e.bottom+=r,e.right+=n}catch(t){}else e=t.getBoundingClientRect();var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?v():{},a=s.width||t.clientWidth||i.right-i.left,o=s.height||t.clientHeight||i.bottom-i.top,u=t.offsetWidth-a,l=t.offsetHeight-o;if(u||l){var h=c(t);u-=g(h,"x"),l-=g(h,"y"),i.width-=u,i.height-=l}return N(i)}function w(t,e){var r=b(),n="HTML"===e.nodeName,i=C(t),s=C(e),a=l(t),o=c(e),u=parseFloat(o.borderTopWidth,10),h=parseFloat(o.borderLeftWidth,10),d=N({top:i.top-s.top-u,left:i.left-s.left-h,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&n){var f=parseFloat(o.marginTop,10),g=parseFloat(o.marginLeft,10);d.top-=u-f,d.bottom-=u-f,d.left-=h-g,d.right-=h-g,d.marginTop=f,d.marginLeft=g}return(r?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(e,"top"),i=p(e,"left"),s=r?-1:1;return t.top+=n*s,t.bottom+=n*s,t.left+=i*s,t.right+=i*s,t}(d,e)),d}function R(t,e,r,n){var i,s,a,o,h,d,g,m={top:0,left:0},b=f(t,e);if("viewport"===n)s=(i=b).ownerDocument.documentElement,a=w(i,s),o=Math.max(s.clientWidth,window.innerWidth||0),h=Math.max(s.clientHeight,window.innerHeight||0),d=p(s),g=p(s,"left"),m=N({top:d-a.top+a.marginTop,left:g-a.left+a.marginLeft,width:o,height:h});else{var E=void 0;"scrollParent"===n?"BODY"===(E=l(u(e))).nodeName&&(E=t.ownerDocument.documentElement):E="window"===n?t.ownerDocument.documentElement:n;var y=w(E,b);if("HTML"!==E.nodeName||function t(e){var r=e.nodeName;return"BODY"!==r&&"HTML"!==r&&("fixed"===c(e,"position")||t(u(e)))}(b))m=y;else{var _=v(),O=_.height,T=_.width;m.top+=y.top-y.marginTop,m.bottom=O+y.top,m.left+=y.left-y.marginLeft,m.right=T+y.left}}return m.left+=r,m.top+=r,m.right-=r,m.bottom-=r,m}function x(t,e,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=R(r,n,s,i),o={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(o).map(function(t){return T({key:t},o[t],{area:(e=o[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=c.filter(function(t){var e=t.width,n=t.height;return e>=r.clientWidth&&n>=r.clientHeight}),l=u.length>0?u[0].key:c[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function A(t,e,r){return w(r,f(e,r))}function D(t){var e=getComputedStyle(t),r=parseFloat(e.marginTop)+parseFloat(e.marginBottom),n=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+n,height:t.offsetHeight+r}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,r){r=r.split("-")[0];var n=D(t),i={width:n.width,height:n.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",o=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return i[a]=e[a]+e[c]/2-n[c]/2,i[o]=r===o?e[o]-n[u]:e[M(o)],i}function j(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function S(t,e,r){return(void 0===r?t:t.slice(0,function(t,e,r){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===r});var n=j(t,function(t){return t[e]===r});return t.indexOf(n)}(t,"name",r))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&o(r)&&(e.offsets.popper=N(e.offsets.popper),e.offsets.reference=N(e.offsets.reference),e=r(e,t))}),e}function V(t,e){return t.some(function(t){var r=t.name;return t.enabled&&r===e})}function I(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length-1;n++){var i=e[n],s=i?""+i+r:t;if(void 0!==document.body.style[s])return s}return null}function k(t){var e=t.ownerDocument;return e?e.defaultView:window}function H(t,e,r,n){r.updateBound=n,k(t).addEventListener("resize",r.updateBound,{passive:!0});var i=l(t);return function t(e,r,n,i){var s="BODY"===e.nodeName,a=s?e.ownerDocument.defaultView:e;a.addEventListener(r,n,{passive:!0}),s||t(l(a.parentNode),r,n,i),i.push(a)}(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function $(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,k(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function G(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function P(t,e){Object.keys(e).forEach(function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&G(e[r])&&(n="px"),t.style[r]=e[r]+n})}function F(t,e,r){var n=j(t,function(t){return t.name===e}),i=!!n&&t.some(function(t){return t.name===r&&t.enabled&&t.order<n.order});if(!i){var s="`"+e+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=U.slice(3);function B(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Y.indexOf(t),n=Y.slice(r+1).concat(Y.slice(0,r));return e?n.reverse():n}var z={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function q(t,e,r,n){var i=[0,0],s=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),o=a.indexOf(j(a,function(t){return-1!==t.search(/,|\s/)}));a[o]&&-1===a[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==o?[a.slice(0,o).concat([a[o].split(c)[0]]),[a[o].split(c)[1]].concat(a.slice(o+1))]:[a];return(u=u.map(function(t,n){var i=(1===n?!s:s)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,r,n){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],a=i[2];if(!s)return t;if(0===a.indexOf("%")){var o=void 0;switch(a){case"%p":o=r;break;case"%":case"%r":default:o=n}return N(o)[e]/100*s}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(t,i,e,r)})})).forEach(function(t,e){t.forEach(function(r,n){G(r)&&(i[e]+=r*("-"===t[n-1]?-1:1))})}),i}var W={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,r=e.split("-")[0],n=e.split("-")[1];if(n){var i=t.offsets,s=i.reference,a=i.popper,o=-1!==["bottom","top"].indexOf(r),c=o?"left":"top",u=o?"width":"height",l={start:O({},c,s[c]),end:O({},c,s[c]+s[u]-a[u])};t.offsets.popper=T({},a,l[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var r=e.offset,n=t.placement,i=t.offsets,s=i.popper,a=i.reference,o=n.split("-")[0],c=void 0;return c=G(+r)?[+r,0]:q(r,s,a,o),"left"===o?(s.top+=c[0],s.left-=c[1]):"right"===o?(s.top+=c[0],s.left+=c[1]):"top"===o?(s.left+=c[0],s.top-=c[1]):"bottom"===o&&(s.left+=c[0],s.top+=c[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var r=e.boundariesElement||h(t.instance.popper);t.instance.reference===r&&(r=h(r));var n=R(t.instance.popper,t.instance.reference,e.padding,r);e.boundaries=n;var i=e.priority,s=t.offsets.popper,a={primary:function(t){var r=s[t];return s[t]<n[t]&&!e.escapeWithReference&&(r=Math.max(s[t],n[t])),O({},t,r)},secondary:function(t){var r="right"===t?"left":"top",i=s[r];return s[t]>n[t]&&!e.escapeWithReference&&(i=Math.min(s[r],n[t]-("right"===t?s.width:s.height))),O({},r,i)}};return i.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";s=T({},s,a[e](t))}),t.offsets.popper=s,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,r=e.popper,n=e.reference,i=t.placement.split("-")[0],s=Math.floor,a=-1!==["top","bottom"].indexOf(i),o=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return r[o]<s(n[c])&&(t.offsets.popper[c]=s(n[c])-r[u]),r[c]>s(n[o])&&(t.offsets.popper[c]=s(n[o])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var r;if(!F(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,a=s.popper,o=s.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",h=u?"Top":"Left",d=h.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",g=D(n)[l];o[p]-g<a[d]&&(t.offsets.popper[d]-=a[d]-(o[p]-g)),o[d]+g>a[p]&&(t.offsets.popper[d]+=o[d]+g-a[p]),t.offsets.popper=N(t.offsets.popper);var m=o[d]+o[l]/2-g/2,b=c(t.instance.popper),E=parseFloat(b["margin"+h],10),v=parseFloat(b["border"+h+"Width"],10),y=m-t.offsets.popper[d]-E-v;return y=Math.max(Math.min(a[l]-g,y),0),t.arrowElement=n,t.offsets.arrow=(O(r={},d,Math.round(y)),O(r,f,""),r),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(V(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var r=R(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),n=t.placement.split("-")[0],i=M(n),s=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case z.FLIP:a=[n,i];break;case z.CLOCKWISE:a=B(n);break;case z.COUNTERCLOCKWISE:a=B(n,!0);break;default:a=e.behavior}return a.forEach(function(o,c){if(n!==o||a.length===c+1)return t;n=t.placement.split("-")[0],i=M(n);var u,l=t.offsets.popper,h=t.offsets.reference,d=Math.floor,f="left"===n&&d(l.right)>d(h.left)||"right"===n&&d(l.left)<d(h.right)||"top"===n&&d(l.bottom)>d(h.top)||"bottom"===n&&d(l.top)<d(h.bottom),p=d(l.left)<d(r.left),g=d(l.right)>d(r.right),m=d(l.top)<d(r.top),b=d(l.bottom)>d(r.bottom),E="left"===n&&p||"right"===n&&g||"top"===n&&m||"bottom"===n&&b,v=-1!==["top","bottom"].indexOf(n),y=!!e.flipVariations&&(v&&"start"===s&&p||v&&"end"===s&&g||!v&&"start"===s&&m||!v&&"end"===s&&b);(f||E||y)&&(t.flipped=!0,(f||E)&&(n=a[c+1]),y&&(s="end"===(u=s)?"start":"start"===u?"end":u),t.placement=n+(s?"-"+s:""),t.offsets.popper=T({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=S(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,r=e.split("-")[0],n=t.offsets,i=n.popper,s=n.reference,a=-1!==["left","right"].indexOf(r),o=-1===["top","left"].indexOf(r);return i[a?"left":"top"]=s[r]-(o?i[a?"width":"height"]:0),t.placement=M(e),t.offsets.popper=N(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!F(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=j(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var r=e.x,n=e.y,i=t.offsets.popper,s=j(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==s?s:e.gpuAcceleration,o=C(h(t.instance.popper)),c={position:i.position},u={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},l="bottom"===r?"top":"bottom",d="right"===n?"left":"right",f=I("transform"),p=void 0,g=void 0;if(g="bottom"===l?-o.height+u.bottom:u.top,p="right"===d?-o.width+u.right:u.left,a&&f)c[f]="translate3d("+p+"px, "+g+"px, 0)",c[l]=0,c[d]=0,c.willChange="transform";else{var m="bottom"===l?-1:1,b="right"===d?-1:1;c[l]=g*m,c[d]=p*b,c.willChange=l+", "+d}var E={"x-placement":t.placement};return t.attributes=T({},E,t.attributes),t.styles=T({},c,t.styles),t.arrowStyles=T({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,r;return P(t.instance.popper,t.styles),e=t.instance.popper,r=t.attributes,Object.keys(r).forEach(function(t){!1!==r[t]?e.setAttribute(t,r[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&P(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,r,n,i){var s=A(0,e,t),a=x(r.placement,s,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",a),P(e,{position:"absolute"}),r},gpuAcceleration:void 0}}},K=function(){function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=a(this.update.bind(this)),this.options=T({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(T({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=T({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return T({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return _(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=A(this.state,this.popper,this.reference),t.placement=x(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=S(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[I("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return $.call(this)}}]),t}();K.Utils=("undefined"!=typeof window?window:t).PopperUtils,K.placements=U,K.Defaults=W,e.a=K}).call(e,r(77))},function(t,e,r){"use strict";e.b=s,e.a=function(t,e,r){0===n.length&&t.node.ownerDocument.addEventListener("keyup",a);if(r){t.node.addEventListener("mouseleave",()=>{if(n[n.length-1]!==t)return;i(t)})}e&&(t.node.addEventListener("click",t=>{t.stopPropagation()}),t.node.ownerDocument.body.addEventListener("click",o));n.push(t)};const n=[];function i(t){const e=n.indexOf(t);e>-1&&t&&(n.splice(e,1),t.destroy()),0===n.length&&t.node.ownerDocument.removeEventListener("keyup",a)}function s(){0!==n.length&&n.splice(0,n.length).reverse().forEach(t=>{t.node.ownerDocument.removeEventListener("keyup",a),t.destroy()})}function a(t){27===t.which&&n.length>0&&i(n[n.length-1])}function o(t){s(),t.currentTarget.removeEventListener("click",o)}},function(t,e,r){"use strict";e.b=c;var n=r(2),i=r(64),s=r(6),a=r(5);class o{constructor(){this.title="Table"}canRender(t){return Object(i.b)(t)}create(t){return Object(i.a)(t)&&t.dataLength?this.createFixed(t):{template:"<div></div>",update:(e,r)=>{Object(s.b)(e,t,r)||(e.innerHTML=t.getMapLabel(r).map(({key:t,value:e})=>`<div>${t}</div><div>${e}</div>`).join(""))},render:a.f}}static template(t){const e=t.labels;return`<div>${e.map(t=>`<div>${t}</div><div data-v></div>`).join("\n")}</div>`}createFixed(t){return{template:o.template(t),update:(e,r)=>{if(Object(s.b)(e,t,r))return;const n=t.getLabels(r);Object(a.b)(e,"[data-v]",(t,e)=>{t.innerHTML=n[e]})},render:a.f}}static example(t){return`${t.slice(0,5).map(t=>t.value).join(", ")}${5<t.length?", &hellip;":""}`}createGroup(t){return Object(i.a)(t)&&t.dataLength?this.createFixedGroup(t):{template:"<div></div>",update:(e,r,n)=>{const i=c(n.filter(e=>!t.isMissing(e)).map(e=>t.getMapLabel(e)));e.innerHTML=i.map(({key:t,values:e})=>`<div>${t}</div><div>${o.example(e)}</div>`).join("")}}}createFixedGroup(t){return{template:o.template(t),update:(e,r,i)=>{const s=i.filter(e=>!t.isMissing(e)).map(e=>t.getLabels(e));Object(a.b)(e,"[data-v]",(t,e)=>{const r=[];for(const t of s){const i=t[e];if(!Object(n._26)(i)&&(r.push(i),r.length>=5))break}t.innerHTML=`${r.join(", ")}${5<s.length?", &hellip;":""}`})}}}createSummary(){return{template:"<div><div>Key</div><div>Value</div></div>",update:a.f}}}function c(t){const e=new Map;return t.forEach(t=>t.forEach(t=>{e.has(t.key)?e.get(t.key).push(t):e.set(t.key,[t])})),Array.from(e).sort((t,e)=>t[0].localeCompare(e[0])).map(([t,e])=>({key:t,values:e}))}e.a=o},function(t,e,r){"use strict";var n=r(167);r.d(e,"i",function(){return n.b}),r.d(e,"j",function(){return n.a});var i=r(111);r.d(e,"d",function(){return i.a});var s=r(177);r.d(e,"c",function(){return s.a});var a=r(181);r.d(e,"h",function(){return a.b}),r.d(e,"b",function(){return a.a});var o=r(363);r.d(e,"a",function(){return o.a});var c=r(364);r.d(e,"f",function(){return c.a}),r.d(e,"g",function(){return c.b});var u=r(172);r.d(e,"k",function(){return u.b});var l=r(71);r.d(e,"e",function(){return l.a})},function(t,e,r){"use strict";var n=r(168);r.d(e,"b",function(){return n.a});var i=r(173);r.d(e,"a",function(){return i.a})},function(t,e,r){"use strict";var n=r(33),i=r(169),s=r(170),a=r(110),o=r(350),c=r(173);e.a=class extends s.a{constructor(t,e,r={}){super(t,e),this.options=Object(n.d)(),Object(i.a)(this.options,r,{violationChanged:(t,e)=>this.setViolation(e)}),this.node.classList.add("lu-taggle","lu"),this.renderer=new c.a(this.node,e,this.options),this.panel=new a.a(this.renderer.ctx,this.node.ownerDocument,{collapseable:!this.options.panelCollapsed||"collapsed"}),this.renderer.pushUpdateAble(t=>this.panel.update(t)),this.node.insertBefore(this.panel.node,this.node.firstChild),this.panel.node.insertAdjacentHTML("afterbegin",'<div class="lu-rule-button-chooser">\n          <span>Overview</span>\n          <div></div>\n        </div>');{const t=Object(o.a)(this.options);this.spaceFilling=this.node.querySelector(".lu-rule-button-chooser"),this.spaceFilling.addEventListener("click",()=>{const e=this.spaceFilling.classList.toggle("chosen");this.renderer.switchRule(e?t:null)})}this.forward(this.renderer,`${s.a.EVENT_HOVER_CHANGED}.main`)}setViolation(t){t=t||"",this.spaceFilling.classList.toggle("violated",Boolean(t)),this.spaceFilling.lastElementChild.innerHTML=t.replace(/\n/g,"<br>")}destroy(){this.renderer.destroy(),super.destroy()}update(){this.renderer.update()}setDataProvider(t,e){super.setDataProvider(t,e),this.renderer.setDataProvider(t),this.update(),this.panel.update(this.renderer.ctx)}}},function(t,e,r){"use strict";e.a=function t(...e){let r=null;for(const i of e){const e=Object.keys(i);if(null!=r)for(const s of e){const e=i[s];Object.prototype.toString.call(e)===n&&Object.getPrototypeOf(e)===Object.prototype?(void 0===r[s]&&(r[s]={}),r[s]=t(r[s],e)):Array.isArray(e)?(void 0===r[s]&&(r[s]=[]),r[s]=e.concat(r[s])):r[s]=e}else r=i}return r};const n="[object Object]"},function(t,e,r){"use strict";var n=r(14),i=r(26);class s extends n.a{constructor(t,e){super(),this.node=t,this.data=e,this.forward(this.data,`${i.a.EVENT_SELECTION_CHANGED}.main`)}createEventList(){return super.createEventList().concat([s.EVENT_HOVER_CHANGED,s.EVENT_SELECTION_CHANGED])}destroy(){this.node.remove()}dump(){return this.data.dump()}setDataProvider(t,e){this.data&&this.unforward(this.data,`${i.a.EVENT_SELECTION_CHANGED}.taggle`),this.data=t,e&&this.data.restore(e),this.forward(this.data,`${i.a.EVENT_SELECTION_CHANGED}.taggle`)}sortBy(t,e=!1){const r=this.data.find(t);return r&&r.sortByMe(e),null!=r}}e.a=s,s.EVENT_HOVER_CHANGED="hoverChanged",s.EVENT_SELECTION_CHANGED=i.a.EVENT_SELECTION_CHANGED},function(t,e,r){"use strict";var n=r(14);class i extends n.a{constructor(t={}){super(),this.options={formatItem:t=>t.text,doc:document,placeholder:"Select..."},this.values=[],Object.assign(this.options,t),this.node=this.options.doc.createElement("div"),this.node.classList.add("lu-search"),this.node.innerHTML=`<input type="search" placeholder="${this.options.placeholder}"><ul></ul>`,this.search=this.node.querySelector("input"),this.body=this.node.querySelector("ul"),this.search.onfocus=(()=>this.focus()),this.search.onblur=(()=>this.blur()),this.search.oninput=(()=>this.filter()),this.search.onkeydown=(t=>this.handleKey(t))}get data(){return this.values}set data(t){this.values=t,this.body.innerHTML="",this.buildDialog(this.body,this.values)}buildDialog(t,e){e.forEach(e=>{if(void 0!==e.id){t.insertAdjacentHTML("beforeend",'<li class="lu-search-item"><span></span></li>');const r=t.lastElementChild;r.onmousedown=(t=>{t.preventDefault()}),r.onclick=(()=>this.select(e)),r.onmouseenter=(()=>this.highlighted=r),r.onmouseleave=(()=>this.highlighted=null)}else{t.insertAdjacentHTML("beforeend",'<li class="lu-search-group"><span></span><ul></ul></li>');const r=t.lastElementChild.lastElementChild;this.buildDialog(r,e.children)}const r=t.lastElementChild.firstElementChild;r.innerHTML=this.options.formatItem(e,r)})}handleKey(t){const e=27,r=13,n=38,i=40;switch(t.which){case e:this.search.blur();break;case r:const s=this.highlighted;s&&s.click();break;case n:this.highlightPrevious();break;case i:this.highlightNext()}}select(t){this.search.value="",this.search.blur(),this.filterResults(this.body,""),this.fire(i.EVENT_SELECT,t)}focus(){this.body.style.width=`${this.search.offsetWidth}px`,this.highlighted=this.body.firstElementChild||null,this.node.classList.add("lu-search-open")}get highlighted(){return this.body.querySelector(".lu-search-highlighted")||null}set highlighted(t){const e=this.highlighted;e!==t&&(e&&e.classList.remove("lu-search-highlighted"),t&&t.classList.add("lu-search-highlighted"))}highlightNext(){const t=this.highlighted;if(!t||t.classList.contains("hidden"))return void(this.highlighted=this.body.querySelector(".lu-search-item:not(.hidden)")||null);const e=Array.from(this.body.querySelectorAll(".lu-search-item:not(.hidden)")),r=e.indexOf(t);this.highlighted=e[r+1]||null}highlightPrevious(){const t=this.highlighted,e=Array.from(this.body.querySelectorAll(".lu-search-item:not(.hidden)"));if(!t||t.classList.contains("hidden"))return void(this.highlighted=e[e.length-1]||null);const r=e.indexOf(t);this.highlighted=e[r-1]||null}blur(){this.search.value="",this.node.classList.remove("lu-search-open")}filter(){const t=this.filterResults(this.body,this.search.value.toLowerCase());this.body.classList.toggle("lu-search-empty",t)}filterResults(t,e){if(""===e)return Array.from(t.querySelectorAll(".hidden")).forEach(t=>t.classList.remove("hidden")),!1;const r=Array.from(t.children);return r.forEach(t=>{let r=!t.firstElementChild.innerHTML.toLowerCase().includes(e);if(t.classList.contains("lu-search-group")){const n=t.lastElementChild,i=this.filterResults(n,e);r=r&&i}t.classList.toggle("hidden",r)}),r.every(t=>t.classList.contains("hidden"))}createEventList(){return super.createEventList().concat([i.EVENT_SELECT])}}e.a=i,i.EVENT_SELECT="select"},function(t,e,r){"use strict";e.a=function(t,e){if(L.has(t.desc.type))return L.get(t.desc.type);const r=e.toolbar,i=new Set;i.add(D),i.add(A);{const r=e.getPossibleRenderer(t);(r.item.length>2||r.group.length>2||r.summary.length>2)&&i.add(R)}Object(n.f)(t)||(i.add(C),i.add(w),i.add(x));Object(n.e)(t).forEach(e=>{r.hasOwnProperty(e)?i.add(r[e]):console.warn("cannot find: ",t.desc.type,e)});const s=Array.from(i).sort((t,e)=>t.options.order===e.options.order?t.title.localeCompare(e.title):(t.options.order||50)-(e.options.order||50));return L.set(t.desc.type,s),s};var n=r(1),i=r(331),s=r(332),a=r(333),o=r(334),c=r(335),u=r(336),l=r(337),h=r(338),d=r(339),f=r(340),p=r(342),g=r(343),m=r(344),b=r(345),E=r(73),v=r(346),y=r(347),_=r(348),O=r(349);function T(t,e,r={}){return{title:t,onClick:e,options:r}}function N(t,e,r=(()=>[]),n={}){return{title:t,onClick:(t,n,i)=>{new e(t,n.currentTarget,...r(i)).open()},options:n}}const C={title:"Sort",onClick:t=>{t.toggleMySorting()},options:{shortcut:!0,order:1}},w={title:"Rename + Color &hellip;",onClick:(t,e)=>{new a.a(t,e.currentTarget).open()},options:{order:3}},R={title:"Visualization &hellip;",onClick:(t,e,r)=>{new i.a(t,e.currentTarget,r).open()},options:{}},x={title:"Clone",onClick:(t,e,r)=>{r.provider.takeSnapshot(t)},options:{order:80}},A={title:"More &hellip;",onClick:(t,e,r)=>{new s.a(t,e.currentTarget,r).open()},options:{shortcut:!0,order:3}},D={title:"Remove",onClick:(t,e,r)=>{"rank"===t.desc.type?(r.provider.removeRanking(t.findMyRanker()),r.provider.ensureOneRanking()):t.removeMe()},options:{order:90}},M={stratify:T("Stratify",t=>t.groupByMe(),{shortcut:!0,order:2}),collapse:T("Compress",(t,e)=>{const r=t;r.setCollapsed(!r.getCollapsed()),e.currentTarget.title=r.getCollapsed()?"Expand":"Compress"}),sort:C,more:A,clone:x,remove:D,rename:w,vis:R,search:N("Search &hellip;",m.a,t=>[t.provider]),sortNumbers:N("Sort by &hellip;",E.a),sortDates:N("Sort by &hellip;",b.a),sortNumbersGroup:N("Sort Group by &hellip;",E.a),sortGroup:N("Sort Group by &hellip;",v.a,()=>[],{shortcut:!0,order:1}),stratifyThreshold:N("Stratify by Threshold &hellip;",y.a,()=>[],{shortcut:!0,order:2}),filterMapped:N("Filter &hellip;",f.a,t=>[t]),filterString:N("Filter &hellip;",_.a),filterCategorical:N("Filter &hellip;",c.a),filterOrdinal:N("Filter &hellip;",u.a),filterBoolean:N("Filter &hellip;",o.a),script:N("Edit Combine Script &hellip;",g.a),reduce:N("Reduce by &hellip;",p.a),cutoff:N("Set Cut Off &hellip;",h.a,t=>[t.idPrefix]),editPattern:N("Edit Pattern &hellip;",d.a,t=>[t.idPrefix]),editWeights:N("Edit Weights &hellip;",O.a),compositeContained:N("Contained Columns &hellip;",l.a,t=>[t]),splitCombined:T("Split Combined Column",t=>{t.children.reverse().forEach(e=>t.insertAfterMe(e)),t.removeMe()})};e.b=M;const L=new Map},function(t,e,r){"use strict";var n=r(14),i=r(42),s=r(2),a=r(26),o=r(111);class c extends n.a{constructor(t,e,r){super(),this.data=e,this.isDynamicLeafHeight=!1,this.rule=null,this.levelOfDetail=null,this.resizeListener=(()=>Object(i.a)(()=>this.update(),100)),this.options={violationChanged:()=>void 0,rowPadding:2},this.renderer=new o.a(e,t,Object.assign({},r,{dynamicHeight:(t,e)=>{const n=this.dynamicHeight(t);return n||(r.dynamicHeight?r.dynamicHeight(t,e):null)},levelOfDetail:t=>this.levelOfDetail?this.levelOfDetail(t):"high"})),this.renderer.style.addRule("taggle_lod_rule",`\n      #${r.idPrefix} [data-lod=low][data-agg=detail]:hover {\n        /* show regular height for hovered rows in low + medium LOD */\n        height: ${r.rowHeight}px !important;\n      }\n    `),this.data.on(`${a.a.EVENT_SELECTION_CHANGED}.rule`,()=>{this.isDynamicLeafHeight&&this.update()}),this.forward(this.renderer,`${c.EVENT_HOVER_CHANGED}.main`),window.addEventListener("resize",this.resizeListener)}get ctx(){return this.renderer.ctx}pushUpdateAble(t){this.renderer.pushUpdateAble(t)}dynamicHeight(t){if(!this.rule)return this.levelOfDetail=null,null;const e=this.renderer?this.renderer.node.querySelector("main").clientHeight:100,r=this.rule.apply(t,e,new Set(this.data.getSelection()));this.isDynamicLeafHeight="function"==typeof r.item,this.options.violationChanged(this.rule,r.violation||"");const n=t=>Object(s._22)(t)?"number"==typeof r.group?r.group:r.group(t):"number"==typeof r.item?r.item:r.item(t);this.levelOfDetail=(e=>{const r=t[e];return this.rule?this.rule.levelOfDetail(r,n(r)):"high"});const i=e=>{return e||(e=t[0]),"high"===(this.rule?this.rule.levelOfDetail(e,n(e)):"high")?this.options.rowPadding:0};return{defaultHeight:"number"==typeof r.item?r.item:NaN,height:n,padding:i}}createEventList(){return super.createEventList().concat([c.EVENT_HOVER_CHANGED])}zoomOut(){this.renderer.zoomOut()}zoomIn(){this.renderer.zoomIn()}switchRule(t){this.rule!==t&&(this.rule=t,this.update())}destroy(){this.renderer.destroy(),window.removeEventListener("resize",this.resizeListener)}update(){this.renderer.update()}setDataProvider(t){this.data&&this.data.on(`${a.a.EVENT_SELECTION_CHANGED}.rule`,null),this.data=t,this.data.on(`${a.a.EVENT_SELECTION_CHANGED}.rule`,()=>{this.isDynamicLeafHeight&&this.update()}),this.renderer.setDataProvider(t),this.update()}}e.a=c,c.EVENT_HOVER_CHANGED="hoverChanged"},function(t,e,r){"use strict";var n,i;r.d(e,"a",function(){return n}),(i=n||(n={}))[i.NONE=0]="NONE",i[i.ALL=1]="ALL",i[i.PARTIAL=2]="PARTIAL"},function(t,e,r){"use strict";var n=r(36),i=r(174);e.a=class{constructor(t,e){return this.adapter=t,this.prefetchTimeout=-1,this.options={prefetchRows:20,cleanUpRows:3,delay:50},Object.assign(this.options,e),this}prefetchDown(){this.prefetchTimeout=-1;const t=this.adapter.context,e=Math.min(this.adapter.visible.last+this.options.prefetchRows,t.numberOfRows-1);this.adapter.visible.last===e&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,e),this.adapter.visible.last=e)}prefetchUp(){if(this.prefetchTimeout=-1,this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)return;const t=this.adapter.context,e=this.adapter.scroller,r=Math.max(e.scrollTop-this.options.prefetchRows*t.defaultRowHeight,0),i=e.clientHeight,{first:s,firstRowPos:a}=Object(n.c)(r,i,t.defaultRowHeight,t.exceptions,t.numberOfRows);if(s===this.adapter.visible.first)return;const o=this.adapter.syncFrozen?this.adapter.syncFrozen(s):0;this.adapter.addAtBeginning(s,this.adapter.visible.first-1,o),this.adapter.visible.first=s,this.adapter.updateOffset(a)}triggerPrefetch(t){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout);const e=this.adapter.visible.last<this.adapter.visible.forcedLast+this.options.prefetchRows,r=this.adapter.visible.first>this.adapter.visible.forcedFirst-this.options.prefetchRows,n=this.adapter.visible.last===this.adapter.context.numberOfRows,i=0===this.adapter.visible.first;if(t&&!e&&!n||!t&&!r&&!i)return;const s=t||i?this.prefetchDown.bind(this):this.prefetchUp.bind(this);this.prefetchTimeout=setTimeout(s,this.options.delay)}cleanUpTop(t){this.prefetchTimeout=-1;const e=Math.max(0,t-this.options.cleanUpRows);if(e<=this.adapter.visible.first)return;const r=this.adapter.syncFrozen?this.adapter.syncFrozen(e):0;this.adapter.removeFromBeginning(this.adapter.visible.first,e-1,r);const n=this.adapter.context;let i=(e-this.adapter.visible.first)*n.defaultRowHeight;if(n.exceptions.length>0)for(let t=this.adapter.visible.first;t<e;++t)n.exceptionsLookup.has(t)&&(i+=n.exceptionsLookup.get(t)-n.defaultRowHeight);this.adapter.visible.first=e,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+i),this.prefetchDown()}cleanUpBottom(t){this.prefetchTimeout=-1;const e=t+this.options.cleanUpRows;this.adapter.visible.last<=e||(this.adapter.removeFromBottom(e+1,this.adapter.visible.last),this.adapter.visible.last=e,this.prefetchUp())}triggerCleanUp(t,e,r){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout),r&&t-this.options.cleanUpRows<=this.adapter.visible.first||!r&&this.adapter.visible.last<=e+this.options.cleanUpRows||(this.prefetchTimeout=setTimeout(r?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,r?t:e))}onScrolled(t,e){e===i.a.NONE?this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,t):this.options.prefetchRows>0&&this.triggerPrefetch(t)}}},function(t,e,r){"use strict";e.a=class{constructor(t){this.rules=new Map,this.node=t.ownerDocument.createElement("style"),t.appendChild(this.node)}destroy(){this.node.remove()}recreate(){this.node.innerHTML=Array.from(this.rules.values()).join("\n")}addRule(t,e){return this.rules.set(t,e),this.recreate(),t}updateRule(t,e){return this.rules.set(t,e),this.recreate(),t}deleteRule(t){const e=this.rules.get(t);e&&(this.rules.delete(t),this.recreate())}get ruleNames(){return Array.from(this.rules.keys())}}},function(t,e,r){"use strict";var n=r(36),i=r(175),s=r(112),a=r(354),o=r(33),c=r(14),u=r(42),l=r(2),h=r(0),d=r(32),f=r(51),p=r(12),g=r(360),m=r(361),b=r(180),E=r(362);const v=.6;class y extends c.a{fire(t,...e){super.fire(t,...e)}createEventList(){return super.createEventList().concat([y.EVENT_WIDTH_CHANGED,y.EVENT_UPDATE_DATA,y.EVENT_UPDATE_HIST])}}y.EVENT_WIDTH_CHANGED="widthChanged",y.EVENT_UPDATE_DATA="updateData",y.EVENT_UPDATE_HIST="updateHist";class _ extends a.a{constructor(t,e,r,s,a,c,f={}){super(e,r,s,a,{mixins:[i.a]}),this.ranking=t,this.ctx=c,this.data=[],this.canvasPool=[],this.events=new y,this.on=this.events.on.bind(this.events),this.roptions={animation:!0,levelOfDetail:()=>"high",customRowUpdate:()=>void 0},this.canvasMouseHandler={timer:-1,enter:t=>{const e=this.canvasMouseHandler;e.timer>0&&self.clearTimeout(e.timer);const r=t.currentTarget;r.addEventListener("mouseleave",e.leave),e.timer=self.setTimeout(()=>this.updateHoveredRow(r,!0),o.b)},leave:t=>{const e=this.canvasMouseHandler;e.timer>0&&(self.clearTimeout(e.timer),e.timer=-1);const r=t.currentTarget;_.isCanvasRenderedRow(r)||setTimeout(()=>this.updateHoveredRow(r,!1)),r.removeEventListener("mouseleave",e.leave)}},Object.assign(this.roptions,f),r.classList.add("lu-row-body");const g=this;this.delayedUpdate=Object(u.a)(function(){this.type===d.a.EVENT_DIRTY_VALUES?this.primaryType!==h.a.EVENT_RENDERER_TYPE_CHANGED&&this.primaryType!==h.a.EVENT_GROUP_RENDERER_TYPE_CHANGED&&this.primaryType!==h.a.EVENT_LABEL_CHANGED&&g.updateBody():g.events.fire(_.EVENT_UPDATE_DATA)},50,(t,e)=>{return t.self.type===d.a.EVENT_ORDER_CHANGED?t:e});const b=Object(u.a)(()=>this.updateAll(),50);t.on(`${d.a.EVENT_ADD_COLUMN}.hist`,(t,e)=>{this.columns.splice(e,0,this.createCol(t,e)),this.reindex(),b()}),t.on(`${d.a.EVENT_REMOVE_COLUMN}.body`,(t,e)=>{_.disableListener(t),this.columns.splice(e,1),this.reindex(),b()}),t.on(`${d.a.EVENT_MOVE_COLUMN}.body`,(t,e,r)=>{const n=this.columns.splice(r,1)[0];console.assert(n.c===t),this.columns.splice(r<e?e-1:e,0,n),this.reindex(),b()}),t.on(`${d.a.EVENT_ORDER_CHANGED}.body`,this.delayedUpdate),this.selection=new E.a(this.ctx,r),this.selection.on(E.a.EVENT_SELECT_RANGE,(t,e,r)=>{this.selection.selectRange(this.data.slice(t,e+1),r)}),this.renderCtx=Object.assign({isGroup:t=>Object(l._22)(this.data[t]),getRow:t=>this.data[t],getGroup:t=>this.data[t]},c),this.columns=t.children.filter(t=>!t.isHidden()).map((t,e)=>this.createCol(t,e)),this.updateCanvasRule(),this._context=Object.assign({columns:this.columns,column:Object(n.b)(this.columns.map(t=>t.width),100,p.d)},Object(n.d)(0,20)),this.columns.forEach(t=>{t instanceof m.a&&t.updateWidthRule(this.style),t.renderers=this.ctx.createRenderer(t.c)})}get id(){return this.ranking.id}onVisibilityChanged(t){super.onVisibilityChanged(t),t&&this.delayedUpdate.call({type:d.a.EVENT_ORDER_CHANGED})}updateHeaders(){return super.updateHeaders()}get currentData(){return this.data}get context(){return this._context}createHeader(t,e){return e.createHeader()}updateHeader(t,e){return e instanceof m.a&&e.updateWidthRule(this.style),e.updateHeader(t)}createCell(t,e,r){return r.createCell(e)}updateCell(t,e,r){return r.updateCell(t,e)}selectCanvas(){return this.canvasPool.length>0?this.canvasPool.pop():this.body.ownerDocument.createElement("canvas")}renderRow(t,e){t.width=this.width,t.height=p.c;const r=t.getContext("2d");r.imageSmoothingEnabled=!1,r.clearRect(0,0,t.width,t.height),r.save(),this.columns.forEach(t=>{t.renderCell(r,e);const n=t.width+p.d+v;r.translate(n,0)}),r.restore()}updateCanvasCell(t,e,r,n){const i=t.getContext("2d");i.clearRect(n-1,0,r.width+2,t.height),i.save(),i.translate(n,0),r.renderCell(i,e),i.restore()}reindex(){this.columns.forEach((t,e)=>{t.index=e})}updateAll(){this.columns.forEach((t,e)=>{t.index=e,t.renderers=this.ctx.createRenderer(t.c)}),this.updateCanvasRule(),this._context=Object.assign({},this._context,{column:Object(n.b)(this.columns.map(t=>t.width),100,p.d)}),super.recreate(),this.events.fire(_.EVENT_WIDTH_CHANGED)}updateCanvasRule(){this.style.updateRule(`__canvas_gap${this.tableId}`,`\n      ${this.style.id}_B${this.tableId} > .lu-row > canvas {\n        grid-column-start: span ${this.columns.length};\n      }`)}updateBody(){this.hidden||super.forEachRow((t,e)=>this.updateRow(t,e))}updateHeaderOf(t){const e=this.header.children[t],r=this._context.columns[t];return e&&r&&this.updateHeader(e,r),e&&r}createRow(t,e){t.classList.add("lu-row"),this.roptions.customRowUpdate(t,e);const r=this.renderCtx.isGroup(e);if(r)return t.dataset.agg="group",void super.createRow(t,e);const{i:n,meta:i}=this.renderCtx.getRow(e);t.dataset.i=n.toString(),t.dataset.agg="detail",i?t.dataset.meta=i:delete t.dataset.meta,this.selection.updateState(t,n),this.selection.add(t);const s=this.roptions.levelOfDetail(e);if("high"===s||i||this.ctx.provider.isSelected(n))return void super.createRow(t,e);t.dataset.lod=s;const a=this.selectCanvas();t.appendChild(a),this.renderRow(a,e),t.addEventListener("mouseenter",this.canvasMouseHandler.enter)}updateRow(t,e,r){this.roptions.customRowUpdate(t,e);const n=this.roptions.levelOfDetail(e),i=r||n,s=t.dataset.lod||"high",a=this.renderCtx.isGroup(e),o="group"===t.dataset.agg;if("high"===n?delete t.dataset.lod:t.dataset.lod=n,t.removeEventListener("mouseenter",this.canvasMouseHandler.enter),a!==o&&(t.innerHTML="",t.dataset.agg=a?"group":"detail",a?(t.dataset.i="",this.selection.remove(t)):this.selection.add(t)),a)return void super.updateRow(t,e);const{i:c,meta:u}=this.renderCtx.getRow(e);t.dataset.i=c.toString(),u?t.dataset.meta=u:delete t.dataset.meta,this.selection.updateState(t,c);const l=Array.from(t.children).find(t=>"canvas"===t.nodeName.toLowerCase());if("high"===i||u||this.ctx.provider.isSelected(c))return l&&(this.canvasPool.push(l),l.remove()),void super.updateRow(t,e);if(t.addEventListener("mouseenter",this.canvasMouseHandler.enter),"high"!==s&&l)return void this.renderRow(l,e);t.innerHTML="",t.dataset.agg="detail";const h=this.selectCanvas();t.appendChild(h),this.renderRow(h,e)}updateHoveredRow(t,e){const r=_.isCanvasRenderedRow(t);if(r!==e)return;const n=parseInt(t.dataset.index,10);this.updateRow(t,n,e?"high":"low")}forEachRow(t,e=!1){const r=(e,r)=>{_.isCanvasRenderedRow(e)||t(e,r)};return super.forEachRow(r,e)}updateSelection(t){super.forEachRow((e,r)=>{this.renderCtx.isGroup(r)?this.updateRow(e,r):this.selection.update(e,t)},!0)}updateColumnWidths(){this._context.column=Object(n.b)(this._context.columns.map(t=>t.width),100,p.d),super.updateColumnWidths();const{columns:t}=this.context;t.forEach(t=>{t instanceof m.a&&t.updateWidthRule(this.style),t.renderers=this.ctx.createRenderer(t.c)}),this.events.fire(_.EVENT_WIDTH_CHANGED)}updateHist(t){this.events.fire(_.EVENT_UPDATE_HIST,t)}updateColumn(t){const e=this.context.columns,r=e[t];if(!r)return!1;let n=0;for(let r=0;r<t;++r)n+=e[r].width+p.d+v;return super.forEachRow((e,i)=>{if(_.isCanvasRenderedRow(e))return void this.updateCanvasCell(e.querySelector("canvas"),i,r,n);const a=e.children[t],o=this.updateCell(a,i,r);a!==o&&o&&(Object(s.b)(o,r),e.replaceChild(o,a))}),!0}destroy(){super.destroy(),this.ranking.flatColumns.forEach(t=>_.disableListener(t))}groupData(t){const e=this.ranking.getGroups(),r=this.ctx.provider,n=(t,e)=>1===e?"first last":0===t?"first":t===e-1?"last":void 0;if(1===e.length)return r.isAggregated(this.ranking,e[0])?[Object.assign({rows:t},e[0])]:t.map((r,i)=>Object.assign({group:e[0],relativeIndex:i,meta:n(i,t.length)},r));let i=0;const s=[];return e.forEach(e=>{const a=e.order.length,o=t.slice(i,i+a);i+=a,r.isAggregated(this.ranking,e)?s.push(Object.assign({rows:o},e)):s.push(...o.map((t,r)=>Object.assign({group:e,relativeIndex:r,meta:n(r,o.length)},t)))}),s}render(t,e){const r=this._context,i=this.data;return this.data=t,this.renderCtx.totalNumberOfRows=t.length,this.columns.forEach((t,e)=>{t.index=e,t.renderers=this.ctx.createRenderer(t.c)}),this._context=Object.assign({columns:this.columns,column:Object(n.b)(this.columns.map(t=>t.width),100,p.d)},e),super.recreate(this.roptions.animation?Object(g.a)(r,i,this.data):void 0)}fakeHover(t){const e=this.body.querySelector("[data-i].lu-hovered");e&&e.classList.remove("lu-hovered");const r=this.body.querySelector(`[data-i="${t}"]`);r&&r.classList.add("lu-hovered")}createCol(t,e){const r=Object(l._27)(t)&&!t.getCollapsed()?new m.a(t,e,this.renderCtx):new b.a(t,e,this.renderCtx);t.on(`${h.a.EVENT_WIDTH_CHANGED}.body`,()=>{this.updateColumnWidths()}),t.on(`${h.a.EVENT_DATA_LOADED}.hist`,()=>this.updateHist(t));const n=Object(u.a)(()=>{this.updateColumn(r.index)||_.disableListener(t)},25);t.on([`${h.a.EVENT_RENDERER_TYPE_CHANGED}.body`,`${h.a.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`],()=>{r.renderers=this.ctx.createRenderer(t),n()});const i=this;return t.on(`${h.a.EVENT_DIRTY_HEADER}.body`,function(){i.updateHeaderOf(r.index)||_.disableListener(t),this.primaryType!==h.a.EVENT_SUMMARY_RENDERER_TYPE_CHANGED&&this.primaryType!==h.a.EVENT_LABEL_CHANGED&&this.primaryType!==h.a.EVENT_METADATA_CHANGED&&setTimeout(()=>i.updateHist(r.c),50)}),t.on(`${h.a.EVENT_SUMMARY_RENDERER_TYPE_CHANGED}.body`,()=>{r.renderers=this.ctx.createRenderer(t),this.updateHeaderOf(r.index)||_.disableListener(t)}),t.on(`${h.a.EVENT_DIRTY_VALUES}.body`,n),Object(l._27)(t)&&!t.getCollapsed()&&(r.updateWidthRule(this.style),t.on(`${f.b.EVENT_MULTI_LEVEL_CHANGED}.body`,()=>{r.updateWidthRule(this.style)}),t.on(`${f.b.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,n)),r}static isCanvasRenderedRow(t){return"low"===t.dataset.lod&&1===t.childElementCount&&"canvas"===t.firstElementChild.nodeName.toLowerCase()}static disableListener(t){t.on(`${h.a.EVENT_WIDTH_CHANGED}.body`,null),t.on(`${h.a.EVENT_DATA_LOADED}.hist`,null),t.on([`${h.a.EVENT_RENDERER_TYPE_CHANGED}.body`,`${h.a.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`,`${h.a.EVENT_SUMMARY_RENDERER_TYPE_CHANGED}.body`,`${h.a.EVENT_LABEL_CHANGED}.body`],null),t.on(`${d.a.EVENT_DIRTY_HEADER}.body`,null),t.on(`${d.a.EVENT_DIRTY_VALUES}.body`,null),Object(l._27)(t)&&(t.on(`${f.b.EVENT_MULTI_LEVEL_CHANGED}.body`,null),t.on(`${f.b.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,null))}}e.a=_,_.EVENT_WIDTH_CHANGED=y.EVENT_WIDTH_CHANGED,_.EVENT_UPDATE_DATA=y.EVENT_UPDATE_DATA,_.EVENT_UPDATE_HIST=y.EVENT_UPDATE_HIST},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),e.c=function({previous:t,mode:e,nodeY:r,current:i},a,o){const c=null==t.height?a:t.height,u=null==i.height?o:i.height;return e===n.UPDATE&&Math.abs(t.y-r)<=s&&Math.abs(c-u)<=s};var n,i;r(179);(i=n||(n={}))[i.UPDATE=0]="UPDATE",i[i.UPDATE_CREATE=1]="UPDATE_CREATE",i[i.UPDATE_REMOVE=2]="UPDATE_REMOVE",i[i.SHOW=3]="SHOW",i[i.HIDE=4]="HIDE";const s=1;const a=[{delay:0,apply({mode:t,previous:e,nodeY:r,current:i,node:s}){s.dataset.animation=n[t].toLowerCase(),s.style.transform=`translate(0, ${e.y-r}px)`,t===n.SHOW?s.style.height=null!==i.height?`${i.height}px`:null:s.style.height=`${e.height}px`,s.style.opacity=t===n.SHOW?"0":t===n.HIDE?"1":null}},{delay:10,apply({mode:t,current:e,nodeY:r,node:i}){i.style.transform=t===n.HIDE||t===n.UPDATE_REMOVE?`translate(0, ${e.y-r}px)`:null,t!==n.HIDE&&(i.style.height=null!==e.height?`${e.height}px`:null),i.style.opacity=t===n.SHOW?"1":t===n.HIDE?"0":null}},{delay:1100,apply({node:t}){delete t.dataset.animation,t.style.opacity=null,t.style.transform=null}}];e.b=a},function(t,e,r){"use strict";e.a=class{constructor(t,e){this.context=t,this.key=e,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach(t=>{this.cache[t.index]=t.y,this.key2index.set(e(t.index),t.index)})}findValidStart(t){for(let e=t-1;e>=0;--e)if(void 0!==this.cache[e])return e;return-1}posByKey(t){if(this.key2index.has(t)){const e=this.key2index.get(t);return{index:e,pos:this.pos(e)}}return this.fillCacheTillKey(t)}pos(t){if(0===this.context.exceptions.length)return t*this.context.defaultRowHeight;const e=this.cache[t];if(void 0!==e)return e;const r=this.findValidStart(t);return r<0?this.fillCache(0,t,0):this.fillCache(r+1,t,this.cache[r]+this.heightOf(r)),this.cache[t]}fillCache(t,e,r,n){if(e<=this.lastFilled){if(!n)return;for(let r=t;r<=e;++r)n(r,this.key(r),this.cache[r]);return}let i=r;for(let r=t;r<=e;++r){this.cache[r]=i;const t=this.key(r);this.key2index.set(t,r),n&&n(r,t,i),i+=this.heightOf(r)}}heightOf(t){const e=this.context.exceptionsLookup;return e.has(t)?e.get(t):this.context.defaultRowHeight}exceptionHeightOf(t,e=!1){const r=this.context.padding(t),n=this.context.exceptionsLookup;return n.has(t)?n.get(t)-r:e?this.context.defaultRowHeight-r:null}padding(t){return this.context.padding(t)}fillCacheTillKey(t){let e=0;for(let r=this.lastFilled;r<this.context.numberOfRows;++r,++this.lastFilled){const n=this.cache[r];if(void 0!==n){e=n+this.heightOf(r);continue}const i=this.key(r);if(this.cache[r]=e,this.key2index.set(i,r),i===t)return{index:r,pos:e};e+=this.heightOf(r)}return{index:-1,pos:-1}}positions(t,e,r,n){this.fillCache(t,e,r,n)}}},function(t,e,r){"use strict";var n=r(55);e.a=class{constructor(t,e,r){this.c=t,this.index=e,this.ctx=r}get width(){return this.c.getWidth()}get id(){return this.c.id}get frozen(){return this.c.frozen}createHeader(){const t=Object(n.b)(this.c,this.ctx);if(t.className=`lu-header${this.c.isFiltered()?" lu-filtered":""}`,t.classList.toggle("frozen",this.c.frozen),this.renderers.summary){t.insertAdjacentHTML("beforeend",this.renderers.summary.template);const e=t.lastElementChild;e.dataset.renderer=this.renderers.summaryId,e.classList.add("lu-summary")}return this.updateHeader(t),t}updateHeader(t){if(t.classList.toggle("lu-filtered",this.c.isFiltered()),Object(n.f)(t,this.c),!this.renderers.summary)return;let e=t.querySelector(".lu-summary");const r=e.dataset.renderer,i=this.renderers.summaryId;r!==i&&(e.remove(),e.innerHTML=this.renderers.summary.template,(e=e.firstElementChild).classList.add("lu-summary"),e.dataset.renderer=i,t.appendChild(e)),this.renderers.summary.update(e,this.ctx.statsOf(this.c))}createCell(t){const e=this.ctx.isGroup(t),r=function(t,e){const r=t.createElement("div");r.innerHTML=e;const n=r.firstElementChild;return r.innerHTML="",n}(this.ctx.document,e?this.renderers.group.template:this.renderers.single.template);return r.dataset.renderer=e?this.renderers.groupId:this.renderers.singleId,r.dataset.group=e?"g":"d",this.updateCell(r,t),r}updateCell(t,e){t.classList.toggle("frozen",this.frozen);const r=this.ctx.isGroup(e),n=t.dataset.renderer,i=r?this.renderers.groupId:this.renderers.singleId,s=t.dataset.group,a=r?"g":"d";if(n===i&&s===a||(t.innerHTML=r?this.renderers.group.template:this.renderers.single.template,(t=t.firstElementChild).dataset.renderer=i,t.dataset.group=a),r){const r=this.ctx.getGroup(e);this.renderers.group.update(t,r,r.rows)}else{const r=this.ctx.getRow(e);this.renderers.single.update(t,r,r.relativeIndex,r.group)}return t}renderCell(t,e){const r=this.ctx.getRow(e);this.renderers.single.render(t,r,r.relativeIndex,r.group)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n,i,s=r(36),a=r(2),o=r(12);class c{constructor(t,e,r){this.left=t,this.right=e,this.dataIndices=r}isSelected(t){return 1===this.dataIndices.length?t.has(this.dataIndices[0]):this.dataIndices.some(e=>t.has(e))}update(t,e){t.setAttribute("class","lu-slope"),t.setAttribute("d",`M0,${this.left}L${e},${this.right}`)}}class u{constructor(t,e,r){this.left=t,this.right=e,this.dataIndices=r}isSelected(t){return this.dataIndices.some(e=>t.has(e))}update(t,e){t.setAttribute("class","lu-group-slope"),t.setAttribute("d",`M0,${this.left[0]}L${e},${this.right[0]}L${e},${this.right[1]}L0,${this.left[1]}Z`)}}(i=n||(n={}))[i.ITEM=0]="ITEM",i[i.BAND=1]="BAND";e.b=class{constructor(t,e,r,i){this.header=t,this.body=e,this.id=r,this.ctx=i,this.leftSlopes=[],this.rightSlopes=[],this.pool=[],this.width=o.g,this._mode=n.ITEM,this.node=t.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),this.node.innerHTML='<g transform="translate(0,0)"></g>',t.classList.add("lu-slopegraph-header"),this.initHeader(t),e.classList.add("lu-slopegraph"),this.body.style.height="1px",e.appendChild(this.node)}init(){this.hide();const t=this.body.parentElement;let e=t.scrollTop;this.scrollListener=(()=>{const r=t.scrollTop;e!==r&&(e=r,this.onScrolledVertically(r,t.clientHeight))}),t.addEventListener("scroll",this.scrollListener)}initHeader(t){t.innerHTML='<i title="Item" class="active"><span aria-hidden="true">Item</span></i>\n        <i title="Band"><span aria-hidden="true">Band</span></i>';const e=Array.from(t.children);e.forEach((t,r)=>{t.onclick=(n=>{n.preventDefault(),n.stopPropagation(),t.classList.contains("active")||(this.mode=r,e.forEach((t,e)=>t.classList.toggle("active",e===r)))})})}get mode(){return this._mode}set mode(t){t!==this._mode&&(this._mode=t,this.current&&this.rebuild(this.current.left,this.current.leftContext,this.current.right,this.current.rightContext))}get hidden(){return this.header.classList.contains("loading")}set hidden(t){this.header.classList.toggle("loading",t),this.body.classList.toggle("loading",t)}hide(){this.hidden=!0}show(){const t=this.hidden;this.hidden=!1,t&&this.revalidate()}destroy(){this.header.remove(),this.body.parentElement.removeEventListener("scroll",this.scrollListener),this.body.remove()}rebuild(t,e,r,n){this.current={left:t,leftContext:e,right:r,rightContext:n};const i=this.prepareRightSlopes(r,n);this.computeSlopes(t,e,i),this.revalidate()}computeSlopes(t,e,r){const i=this.mode,s=new Map,o=(r,n)=>{let i=0,s=0;const o=[];for(let c=r;c<t.length;++c){const r=t[c];if(Object(a._22)(r)||r.group!==n)break;i++,s+=e.exceptionsLookup.get(c)||e.defaultRowHeight,o.push(r)}const c=s-e.padding(r+i-1);return{gr:Object.assign({rows:o},n),padded:c,height:s}};let l=0;this.leftSlopes=t.map((t,h)=>{let d=e.exceptionsLookup.get(h)||e.defaultRowHeight,f=d-e.padding(h);const p=[],g=l;l+=d;let m=0;const b=(t,e,r=1,n=0)=>{p.push(t),e.ref.forEach(e=>this.rightSlopes[e].push(t)),e.offset+=r*e.heightPerRow,m+=r*n};let E;if(Object(a._22)(t))E=t;else{const e=t,a=e.i,u=r.get(a);if(!u)return p;if(i===n.ITEM){const t=new c(g+f/2,u.start+u.offset+u.heightPerRow/2,[a]);return b(t,u),p}if(s.has(e.group))return s.get(e.group);const l=o(h,e.group);E=l.gr,d=l.height,f=l.padded,s.set(e.group,p)}const v=new Set(E.rows.map(t=>t.i)),y=f/E.rows.length;return E.rows.forEach(t=>{if(!v.has(t.i))return;v.delete(t.i);const e=r.get(t.i);if(!e)return;const s=e.rows.filter(t=>v.delete(t));s.push(t.i);const a=s.length;let o;o=1===a?new c(g+m+y/2,e.start+e.offset+e.heightPerRow/2,[t.i]):i===n.ITEM?new c(g+m+y*a/2,e.start+e.offset+e.heightPerRow*a/2,s):new u([g+m,g+m+y*a],[e.start+e.offset,e.start+e.offset+e.heightPerRow*a],s),b(o,e,a,y)}),p})}prepareRightSlopes(t,e){const r=new Map,i=this.mode,s=new Map;let o=0;return this.rightSlopes=t.map((t,c)=>{const u=e.exceptionsLookup.get(c)||e.defaultRowHeight,l=u-e.padding(c),h=o;o+=u;const d=[],f={start:h,offset:0,ref:[c]};if(Object(a._22)(t)){const e=Object.assign(f,{rows:t.rows.map(t=>t.i),heightPerRow:l/t.rows.length,group:t});return t.rows.forEach(t=>r.set(t.i,e)),d}const p=t,g=t.i;let m=Object.assign(f,{rows:[g],heightPerRow:l,group:p.group});return i===n.ITEM?(r.set(g,m),d):(s.has(p.group)?((m=s.get(p.group)).rows.push(g),m.ref.push(c)):(m.heightPerRow=u,s.set(p.group,m)),r.set(g,m),d)}),r}revalidate(){if(!this.current||this.hidden)return;const t=this.body.parentElement;this.onScrolledVertically(t.scrollTop,t.clientHeight)}onScrolledVertically(t,e){if(!this.current)return;const{leftContext:r,rightContext:n}=this.current,i=Object(s.c)(t,e,r.defaultRowHeight,r.exceptions,r.numberOfRows),a=Object(s.c)(t,e,n.defaultRowHeight,n.exceptions,n.numberOfRows),o=Math.min(i.firstRowPos,a.firstRowPos),c=Math.max(i.endPos,a.endPos);this.body.style.transform=`translate(0, ${o.toFixed(0)}px)`,this.body.style.height=`${(c-o).toFixed(0)}px`,this.node.firstElementChild.setAttribute("transform",`translate(0,-${o.toFixed(0)})`),this.choose(i.first,i.last,a.first,a.last)}choose(t,e,r,n){const i=new Set;for(let r=t;r<=e;++r)this.leftSlopes[r].forEach(t=>i.add(t));for(let t=r;t<=n;++t)this.rightSlopes[t].forEach(t=>i.add(t));this.render(i)}render(t){const e=this.node.firstElementChild,r=e.ownerSVGElement.getBoundingClientRect().width,n=this.matchLength(t,e),i=this.ctx.provider,s={has:t=>i.isSelected(t)};let a=0;t.forEach(t=>{const i=n[a++];t.update(i,r),i.__data__=t;const o=t.isSelected(s);i.classList.toggle("lu-selected",o),o&&e.appendChild(i)})}matchLength(t,e){const r=Array.from(e.children);for(let e=t.size;e<r.length;++e){const t=r[e];this.pool.push(t),t.remove()}for(let n=r.length;n<t.size;++n){const t=this.pool.pop();if(t)e.appendChild(t),r.push(t);else{const t=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");t.onclick=(e=>{const r=t.__data__,n=this.ctx.provider,i=r.dataIndices;if(e.ctrlKey)i.forEach(t=>n.toggleSelection(t,!0));else{const t=n.isSelected(i[0]);n.setSelection(t?[]:i)}}),e.appendChild(t),r.push(t)}}return r}updateSelection(t){const e=this.node.firstElementChild,r=Array.from(e.children);r.forEach(r=>{const n=r.__data__.isSelected(t);r.classList.toggle("lu-selected",n),n&&e.appendChild(r)})}}},function(t,e,r){"use strict";var n=r(26);r.d(e,"a",function(){return n.a});var i=r(56);r.d(e,"b",function(){return i.a});var s=r(183);r.d(e,"c",function(){return s.a});var a=r(149);r.d(e,"d",function(){return a.a}),r.d(e,"e",function(){return a.b}),r.d(e,"f",function(){return a.c})},function(t,e,r){"use strict";var n=r(58),i=r(148);e.a=class extends i.a{constructor(t,e=[],r={}){super(e,r),this.server=t,this.options={maxCacheSize:1e3},this.cache=new Map,Object.assign(this.options,r)}getTotalNumberOfRows(){return this.cache.size}sortImpl(t){return this.server.sort(t).then(t=>[Object.assign({order:t},n.a)])}loadFromServer(t){return this.server.view(t).then(e=>e.map((e,r)=>({v:e,dataIndex:t[r]})))}view(t){if(0===t.length)return Promise.resolve([]);const e=this.fetch([t])[0];return Promise.all(e).then(t=>t.map(t=>t.v))}computeMissing(t){const e=new Set,r=e.add.bind(e);return t.forEach(t=>t.forEach(r)),this.cache.forEach((t,r)=>e.delete(r)),this.cache.size,e.size,this.options.maxCacheSize,Array.from(e)}loadInCache(t){if(0===t.length)return;const e=this.loadFromServer(t);t.forEach((r,n)=>{const i=t[n];this.cache.set(i,e.then(t=>({v:t[n],i})))})}fetch(t){const e=this.computeMissing(t);return this.loadInCache(e),t.map(t=>t.map(t=>this.cache.get(t)))}mappingSample(t){return this.server.mappingSample(t.desc.column)}searchAndJump(t,e){this.server.search(t,e.desc.column).then(t=>{this.jumpToNearest(t)})}stats(t){return this.server.stats(t)}}},function(t,e,r){"use strict";e.a=function(t){return new l(t)};var n=r(182),i=r(56),s=r(71),a=r(168),o=r(37),c=r(366),u=r(185);class l extends c.a{constructor(t){super(),this.data=t,this.columns=[],this.providerOptions={columnTypes:{}},this.rankBuilders=[]}singleSelection(){return this.providerOptions.multiSelection=!1,this}filterGlobally(){return this.providerOptions.filterGlobally=!0,this}noCriteriaLimits(){return this.providerOptions.maxGroupColumns=1/0,this.providerOptions.maxNestedSortingCriteria=1/0,this}deriveColumns(...t){return this.columns.push(...Object(n.e)(this.data,{columns:t})),this}deriveColors(){return Object(n.d)(this.columns),this}registerColumnType(t,e){this.providerOptions.columnTypes[t]=e}column(t){return this.columns.push(t instanceof o.b?t.build():t),this}restore(t){return this.rankBuilders.push(e=>e.restore(t)),this}defaultRanking(t=!0){return this.rankBuilders.push(e=>e.deriveDefault(t)),this}ranking(t){return this.rankBuilders.push(t instanceof u.b?t.build.bind(t):t),this}buildData(){const t=new i.a(this.data,this.columns,this.providerOptions);return 0===this.rankBuilders.length&&this.defaultRanking(),this.rankBuilders.forEach(e=>e(t)),t}build(t){return new s.a(t,this.buildData(),this.options)}buildTaggle(t){return new a.a(t,this.buildData(),this.options)}}},function(t,e,r){"use strict";e.a=function(){return new i};var n=r(2);class i{constructor(){this.columns=[],this.sort=[],this.groups=[]}sortBy(t,e=!0){return this.sort.push({column:t,asc:!0===e||"asc"===e}),this}groupBy(...t){return this.groups.push(...t),this}column(t){return this.columns.push(t),this}impose(t,e,r){let i;switch(t){case"boxplot":i=Object(n._1)();break;case"numbers":i=Object(n._3)();break;default:i=Object(n._2)()}return this.columns.push({desc:i,columns:[e,r]}),this}nested(t,...e){return this.columns.push({desc:Object(n._5)(),columns:[t].concat(e)}),this}weightedSum(t,e,r,i,...s){const a=[e,i].concat(s.filter((t,e)=>e%2==1));return this.columns.push({desc:Object(n._10)(),columns:[t,r].concat(s.filter((t,e)=>e%2==0)),post:t=>{t.setWeights(a)}}),this}reduce(t,e,r,...i){return this.columns.push({desc:Object(n._7)(),columns:[e,r].concat(i),post:e=>{e.setReduce(t)}}),this}scripted(t,e,r,...i){return this.columns.push({desc:Object(n._8)(),columns:[e,r].concat(i),post:e=>{e.setScript(t)}}),this}selection(){return this.columns.push({desc:Object(n._9)(),columns:[]}),this}group(){return this.columns.push({desc:Object(n._0)(),columns:[]}),this}aggregate(){return this.columns.push({desc:Object(n.Z)(),columns:[]}),this}rank(){return this.columns.push({desc:Object(n._6)(),columns:[]}),this}supportTypes(){return this.aggregate().rank().selection()}allColumns(){return this.columns.push(i.ALL_MAGIC_FLAG),this}build(t){const e=t.pushRanking(),r=t.getColumns(),n=t=>r.find(e=>e.label===t||e.column===t),s=r=>{const i=n(r);return i?null!=t.push(e,i):(console.warn("invalid column: ",r),!1)};this.columns.forEach(a=>{if(a===i.ALL_MAGIC_FLAG)return void r.forEach(r=>t.push(e,r));if("string"==typeof a)return void s(a);const o=t.create(a.desc);e.push(o),a.columns.forEach(e=>{const r=n(e),i=r?t.create(r):null;i?o.push(i):console.warn("invalid column: ",e)}),a.post&&a.post(o)});const a=e.children;{const r=[];this.groups.forEach(i=>{const s=a.find(t=>t.desc.label===i||t.desc.column===i);if(s)return void r.push(s);const o=n(i);o&&t.push(e,o)||console.warn("invalid group criteria column: ",i)}),r.length>0&&e.setGroupCriteria(r)}{const r=[];this.sort.forEach(({column:i,asc:s})=>{const o=a.find(t=>t.desc.label===i||t.desc.column===i);if(o)return void r.push({col:o,asc:s});const c=n(i);c&&t.push(e,c)||console.warn("invalid sort criteria column: ",i)}),r.length>0&&e.setSortCriteria(r)}return e}}e.b=i,i.ALL_MAGIC_FLAG="__ALL__COLUMNS"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLocalDataProvider=function(t,e,r={}){return new i.a(t,e,r)},e.createLineUp=function(t,e,r={}){return new s.a(t,e,r)},e.createTaggle=function(t,e,r={}){return new a.b(t,e,r)};var n=r(187),i=(r.n(n),r(56)),s=r(71),a=r(167),o=r(182);r.d(e,"DataProvider",function(){return o.a}),r.d(e,"LocalDataProvider",function(){return o.b}),r.d(e,"RemoteDataProvider",function(){return o.c}),r.d(e,"deriveColumnDescriptions",function(){return o.e}),r.d(e,"deriveColors",function(){return o.d}),r.d(e,"exportRanking",function(){return o.f});var c=r(99);r.d(e,"renderers",function(){return c.g}),r.d(e,"chooseRenderer",function(){return c.b}),r.d(e,"chooseGroupRenderer",function(){return c.a}),r.d(e,"chooseSummaryRenderer",function(){return c.c}),r.d(e,"possibleRenderer",function(){return c.e}),r.d(e,"possibleGroupRenderer",function(){return c.d}),r.d(e,"possibleSummaryRenderer",function(){return c.f});var u=r(2);r.d(e,"isSupportType",function(){return u._32}),r.d(e,"Category",function(){return u.k}),r.d(e,"SupportType",function(){return u.U}),r.d(e,"isMissingValue",function(){return u._26}),r.d(e,"isUnknown",function(){return u._33}),r.d(e,"FIRST_IS_NAN",function(){return u.v}),r.d(e,"missingGroup",function(){return u._34}),r.d(e,"ActionColumn",function(){return u.a}),r.d(e,"AggregateGroupColumn",function(){return u.b}),r.d(e,"AnnotateColumn",function(){return u.c}),r.d(e,"ArrayColumn",function(){return u.d}),r.d(e,"BooleanColumn",function(){return u.e}),r.d(e,"BooleansColumn",function(){return u.f}),r.d(e,"BoxPlotColumn",function(){return u.g}),r.d(e,"CategoricalColumn",function(){return u.h}),r.d(e,"CategoricalMapColumn",function(){return u.i}),r.d(e,"CategoricalsColumn",function(){return u.j}),r.d(e,"Column",function(){return u.l}),r.d(e,"CompositeColumn",function(){return u.m}),r.d(e,"CompositeNumberColumn",function(){return u.n}),r.d(e,"DateColumn",function(){return u.p}),r.d(e,"DatesMapColumn",function(){return u.q}),r.d(e,"DummyColumn",function(){return u.r}),r.d(e,"GroupColumn",function(){return u.w}),r.d(e,"HierarchyColumn",function(){return u.x}),r.d(e,"ImpositionBoxPlotColumn",function(){return u.y}),r.d(e,"ImpositionCompositeColumn",function(){return u.z}),r.d(e,"ImpositionCompositesColumn",function(){return u.A}),r.d(e,"MapColumn",function(){return u.B}),r.d(e,"MultiLevelCompositeColumn",function(){return u.C}),r.d(e,"NestedColumn",function(){return u.D}),r.d(e,"NumberColumn",function(){return u.E}),r.d(e,"NumberMapColumn",function(){return u.F}),r.d(e,"NumbersColumn",function(){return u.G}),r.d(e,"OrdinalColumn",function(){return u.H}),r.d(e,"RankColumn",function(){return u.I}),r.d(e,"Ranking",function(){return u.J}),r.d(e,"ReduceColumn",function(){return u.K}),r.d(e,"ScriptColumn",function(){return u.M}),r.d(e,"SelectionColumn",function(){return u.O}),r.d(e,"SetColumn",function(){return u.P}),r.d(e,"StackColumn",function(){return u.Q}),r.d(e,"StringColumn",function(){return u.R}),r.d(e,"StringMapColumn",function(){return u.S}),r.d(e,"StringsColumn",function(){return u.T}),r.d(e,"ValueColumn",function(){return u.V}),r.d(e,"defineColumn",function(){return u._13}),r.d(e,"models",function(){return u._35}),r.d(e,"defaultGroup",function(){return u._12}),r.d(e,"isGroup",function(){return u._22}),r.d(e,"isSetColumn",function(){return u._31}),r.d(e,"toCategory",function(){return u._41}),r.d(e,"compareCategory",function(){return u.X}),r.d(e,"toCategories",function(){return u._40}),r.d(e,"isCategoricalColumn",function(){return u._18}),r.d(e,"isEqualCategoricalFilter",function(){return u._20}),r.d(e,"isCategoryIncluded",function(){return u._19}),r.d(e,"DEFAULT_FORMATTER",function(){return u.o}),r.d(e,"isNumberColumn",function(){return u._28}),r.d(e,"compareBoxPlot",function(){return u.W}),r.d(e,"getBoxPlotNumber",function(){return u._15}),r.d(e,"ESortMethod",function(){return u.u}),r.d(e,"isBoxPlotColumn",function(){return u._17}),r.d(e,"EAdvancedSortMethod",function(){return u.s}),r.d(e,"isNumbersColumn",function(){return u._30}),r.d(e,"numberCompare",function(){return u._37}),r.d(e,"noNumberFilter",function(){return u._36}),r.d(e,"isEqualNumberFilter",function(){return u._21}),r.d(e,"isNumberIncluded",function(){return u._29}),r.d(e,"isMapColumn",function(){return u._25}),r.d(e,"isArrayColumn",function(){return u._16}),r.d(e,"createActionDesc",function(){return u.Y}),r.d(e,"createAggregateDesc",function(){return u.Z}),r.d(e,"isMultiLevelColumn",function(){return u._27}),r.d(e,"createGroupDesc",function(){return u._0}),r.d(e,"resolveInnerNodes",function(){return u._38}),r.d(e,"isHierarchical",function(){return u._23}),r.d(e,"deriveHierarchy",function(){return u._14}),r.d(e,"createImpositionBoxPlotDesc",function(){return u._1}),r.d(e,"createImpositionDesc",function(){return u._2}),r.d(e,"createImpositionsDesc",function(){return u._3}),r.d(e,"isMapAbleColumn",function(){return u._24}),r.d(e,"ScaleMappingFunction",function(){return u.L}),r.d(e,"ScriptMappingFunction",function(){return u.N}),r.d(e,"createMappingFunction",function(){return u._4}),r.d(e,"restoreMapping",function(){return u._39}),r.d(e,"createNestedDesc",function(){return u._5}),r.d(e,"createRankDesc",function(){return u._6}),r.d(e,"createReduceDesc",function(){return u._7}),r.d(e,"createScriptDesc",function(){return u._8}),r.d(e,"createSelectionDesc",function(){return u._9}),r.d(e,"createStackDesc",function(){return u._10}),r.d(e,"EAlignment",function(){return u.t});var l=r(365);r.d(e,"asTaggle",function(){return l.b}),r.d(e,"asLineUp",function(){return l.a}),r.d(e,"builder",function(){return l.j}),r.d(e,"buildRanking",function(){return l.h}),r.d(e,"buildCategoricalColumn",function(){return l.c}),r.d(e,"buildColumn",function(){return l.d}),r.d(e,"buildNumberColumn",function(){return l.g}),r.d(e,"buildStringColumn",function(){return l.i}),r.d(e,"buildDateColumn",function(){return l.e}),r.d(e,"buildHierarchicalColumn",function(){return l.f});var h=r(166);r.d(e,"Taggle",function(){return h.i}),r.d(e,"TaggleRenderer",function(){return h.j}),r.d(e,"EngineRenderer",function(){return h.d}),r.d(e,"EngineRanking",function(){return h.c}),r.d(e,"SlopeGraph",function(){return h.h}),r.d(e,"EMode",function(){return h.b}),r.d(e,"LineUp",function(){return h.e}),r.d(e,"ADialog",function(){return h.a}),r.d(e,"SidePanel",function(){return h.g}),r.d(e,"SearchBox",function(){return h.f}),r.d(e,"toolbarActions",function(){return h.k}),r.d(e,"default",function(){return s.a});e.version="3.0.0-20180108-192146"},function(t,e){},function(t,e,r){"use strict";r(115)},function(t,e,r){"use strict"},function(t,e,r){"use strict";var n=r(119),i=r(113),s=r(191),a=r(118),o=r(192),c=r(120),u=r(121),l=r(122);e.a=function(){var t=o.a,e=a.a,r=l.a;function h(n){var s,a,o=n.length,l=new Array(o);for(s=0;s<o;++s)l[s]=t(n[s],s,n);var h=e(l),d=h[0],f=h[1],p=r(l,d,f);Array.isArray(p)||(p=Object(u.c)(d,f,p),p=Object(c.a)(Math.ceil(d/p)*p,Math.floor(f/p)*p,p));for(var g=p.length;p[0]<=d;)p.shift(),--g;for(;p[g-1]>f;)p.pop(),--g;var m,b=new Array(g+1);for(s=0;s<=g;++s)(m=b[s]=[]).x0=s>0?p[s-1]:d,m.x1=s<g?p[s]:f;for(s=0;s<o;++s)d<=(a=l[s])&&a<=f&&b[Object(i.a)(p,a,0,g)].push(n[s]);return b}return h.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(s.a)(e),h):t},h.domain=function(t){return arguments.length?(e="function"==typeof t?t:Object(s.a)([t[0],t[1]]),h):e},h.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?Object(s.a)(n.b.call(t)):Object(s.a)(t),h):r},h}},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";e.a=function(t){return t}},function(t,e,r){"use strict";r(119),r(38),r(43),r(76)},function(t,e,r){"use strict";r(116)},function(t,e,r){"use strict";e.a=function(t,e){var r,n,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(r=t[s])&&r>=r)for(n=r;++s<i;)null!=(r=t[s])&&r>n&&(n=r)}else for(;++s<i;)if(null!=(r=e(t[s],s,t))&&r>=r)for(n=r;++s<i;)null!=(r=e(t[s],s,t))&&r>n&&(n=r);return n}},function(t,e,r){"use strict";var n=r(43);e.a=function(t,e){var r,i=t.length,s=i,a=-1,o=0;if(null==e)for(;++a<i;)isNaN(r=Object(n.a)(t[a]))?--s:o+=r;else for(;++a<i;)isNaN(r=Object(n.a)(e(t[a],a,t)))?--s:o+=r;if(s)return o/s}},function(t,e,r){"use strict";var n=r(38),i=r(43),s=r(76);e.a=function(t,e){var r,a=t.length,o=-1,c=[];if(null==e)for(;++o<a;)isNaN(r=Object(i.a)(t[o]))||c.push(r);else for(;++o<a;)isNaN(r=Object(i.a)(e(t[o],o,t)))||c.push(r);return Object(s.a)(c.sort(n.a),.5)}},function(t,e,r){"use strict"},function(t,e,r){"use strict"},function(t,e,r){"use strict";r(38)},function(t,e,r){"use strict"},function(t,e,r){"use strict"},function(t,e,r){"use strict";r(124)},function(t,e,r){(function(t,e){var r;!function(r){"use strict";var n,i,s,a,o,c=Object.prototype.hasOwnProperty,u="function"==typeof Symbol,l=u&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",h=u&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";i=n||(n={}),s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,o=!s&&!a,i.create=s?function(){return S(Object.create(null))}:a?function(){return S({__proto__:null})}:function(){return S({})},i.has=o?function(t,e){return c.call(t,e)}:function(t,e){return e in t},i.get=o?function(t,e){return c.call(t,e)?t[e]:void 0}:function(t,e){return t[e]};var d=Object.getPrototypeOf(Function),f="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[h]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,i)},e.prototype.entries=function(){return new r(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[h]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function s(t,e){return[t,e]}}():Map,g=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[h]=function(){return this.keys()},t}():Set,m=new(f||"function"!=typeof WeakMap?function(){var t=16,e=n.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=s(t,!1);return void 0!==e&&n.has(e,this._key)},t.prototype.get=function(t){var e=s(t,!1);return void 0!==e?n.get(e,this._key):void 0},t.prototype.set=function(t,e){var r=s(t,!0);return r[this._key]=e,this},t.prototype.delete=function(t){var e=s(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+o()}while(n.has(e,t));return e[t]=!0,t}function s(t,e){if(!c.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:n.create()})}return t[r]}function a(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function o(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t);return a(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function b(t,e,r){var n=m.get(t);if(T(n)){if(!r)return;n=new p,m.set(t,n)}var i=n.get(e);if(T(i)){if(!r)return;i=new p,n.set(e,i)}return i}function E(t,e,r){var n=b(e,r,!1);return!T(n)&&!!n.has(t)}function v(t,e,r){var n=b(e,r,!1);if(!T(n))return n.get(t)}function y(t,e,r,n){b(r,n,!0).set(t,e)}function _(t,e){var r=[],n=b(t,e,!1);if(T(n))return r;for(var i,s=function(t){var e=M(t,h);if(!A(e))throw new TypeError;var r=e.call(t);if(!C(r))throw new TypeError;return r}(n.keys()),a=0;;){var o=(void 0,!(i=s.next()).done&&i);if(!o)return r.length=a,r;var c=o.value;try{r[a]=c}catch(t){try{L(s)}finally{throw t}}a++}}function O(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function T(t){return void 0===t}function N(t){return null===t}function C(t){return"object"==typeof t?null!==t:"function"==typeof t}function w(t,e){switch(O(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=M(t,l);if(void 0!==n){var i=n.call(t,r);if(C(i))throw new TypeError;return i}return function(t,e){if("string"===e){var r=t.toString;if(A(r)){var n=r.call(t);if(!C(n))return n}var i=t.valueOf;if(A(i)){var n=i.call(t);if(!C(n))return n}}else{var i=t.valueOf;if(A(i)){var n=i.call(t);if(!C(n))return n}var s=t.toString;if(A(s)){var n=s.call(t);if(!C(n))return n}}throw new TypeError}(t,"default"===r?"number":r)}function R(t){var e=w(t,3);return"symbol"==typeof e?e:""+e}function x(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function A(t){return"function"==typeof t}function D(t){return"function"==typeof t}function M(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!A(r))throw new TypeError;return r}}function L(t){var e=t.return;e&&e.call(t)}function j(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===d)return e;if(e!==d)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i?e:i===t?e:i}function S(t){return t.__=void 0,delete t.__,t}r.decorate=function(t,e,r,n){if(T(r)){if(!x(t))throw new TypeError;if(!D(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!T(i)&&!N(i)){if(!D(i))throw new TypeError;e=i}}return e}(t,e)}if(!x(t))throw new TypeError;if(!C(e))throw new TypeError;if(!C(n)&&!T(n)&&!N(n))throw new TypeError;return N(n)&&(n=void 0),function(t,e,r,n){for(var i=t.length-1;i>=0;--i){var s=t[i],a=s(e,r,n);if(!T(a)&&!N(a)){if(!C(a))throw new TypeError;n=a}}return n}(t,e,r=R(r),n)},r.metadata=function(t,e){return function(r,n){if(!C(r))throw new TypeError;if(!T(n)&&!function(t){switch(O(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;y(t,e,r,n)}},r.defineMetadata=function(t,e,r,n){if(!C(r))throw new TypeError;return T(n)||(n=R(n)),y(t,e,r,n)},r.hasMetadata=function(t,e,r){if(!C(e))throw new TypeError;return T(r)||(r=R(r)),function t(e,r,n){var i=E(e,r,n);if(i)return!0;var s=j(r);return!N(s)&&t(e,s,n)}(t,e,r)},r.hasOwnMetadata=function(t,e,r){if(!C(e))throw new TypeError;return T(r)||(r=R(r)),E(t,e,r)},r.getMetadata=function(t,e,r){if(!C(e))throw new TypeError;return T(r)||(r=R(r)),function t(e,r,n){var i=E(e,r,n);if(i)return v(e,r,n);var s=j(r);return N(s)?void 0:t(e,s,n)}(t,e,r)},r.getOwnMetadata=function(t,e,r){if(!C(e))throw new TypeError;return T(r)||(r=R(r)),v(t,e,r)},r.getMetadataKeys=function(t,e){if(!C(t))throw new TypeError;return T(e)||(e=R(e)),function t(e,r){var n=_(e,r),i=j(e);if(null===i)return n;var s=t(i,r);if(s.length<=0)return n;if(n.length<=0)return s;for(var a=new g,o=[],c=0,u=n;c<u.length;c++){var l=u[c],h=a.has(l);h||(a.add(l),o.push(l))}for(var d=0,f=s;d<f.length;d++){var l=f[d],h=a.has(l);h||(a.add(l),o.push(l))}return o}(t,e)},r.getOwnMetadataKeys=function(t,e){if(!C(t))throw new TypeError;return T(e)||(e=R(e)),_(t,e)},r.deleteMetadata=function(t,e,r){if(!C(e))throw new TypeError;T(r)||(r=R(r));var n=b(e,r,!1);if(T(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=m.get(e);return i.delete(r),i.size>0||(m.delete(e),!0)},function(t){if(void 0!==t.Reflect){if(t.Reflect!==r)for(var e in r)c.call(r,e)&&(t.Reflect[e]=r[e])}else t.Reflect=r}(void 0!==e?e:"undefined"!=typeof self?self:Function("return this;")())}(r||(r={}))}).call(e,r(125),r(77))},function(t,e,r){"use strict";var n={value:function(){}};function i(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n)throw new Error("illegal type: "+t);n[t]=[]}return new s(n)}function s(t){this._=t}function a(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function o(t,e,r){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}s.prototype=i.prototype={constructor:s,on:function(t,e){var r,n,i=this._,s=(n=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),c=-1,u=s.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<u;)if(r=(t=s[c]).type)i[r]=o(i[r],t.name,e);else if(null==e)for(r in i)i[r]=o(i[r],t.name,null);return this}for(;++c<u;)if((r=(t=s[c]).type)&&(r=a(i[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new s(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),s=0;s<r;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,r=(n=this._[t]).length;s<r;++s)n[s].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,s=n.length;i<s;++i)n[i].value.apply(e,r)}},e.a=i},function(t,e,r){"use strict";r(13),r(129)},function(t,e,r){"use strict";r(208),r(209);var n=r(78);r.d(e,"a",function(){return n.a});r(210),r(211),r(212)},function(t,e,r){"use strict";r(78)},function(t,e,r){"use strict";var n=r(78);function i(){}var s=n.a.prototype;function a(t,e){var r=new i;if(t instanceof i)t.each(function(t){r.add(t)});else if(t){var n=-1,s=t.length;if(null==e)for(;++n<s;)r.add(t[n]);else for(;++n<s;)r.add(e(t[n],n,t))}return r}i.prototype=a.prototype={constructor:i,has:s.has,add:function(t){return t+="",this[n.b+t]=t,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each}},function(t,e,r){"use strict"},function(t,e,r){"use strict"},function(t,e,r){"use strict"},function(t,e,r){"use strict";r(28),r(45),r(138)},function(t,e,r){"use strict";e.a=p,e.b=y;var n=r(81),i=r(80),s=r(130),a=.95047,o=1,c=1.08883,u=4/29,l=6/29,h=3*l*l,d=l*l*l;function f(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof _){var e=t.h*s.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var r=v(t.r),n=v(t.g),u=v(t.b),l=m((.4124564*r+.3575761*n+.1804375*u)/a),h=m((.2126729*r+.7151522*n+.072175*u)/o);return new g(116*h-16,500*(l-h),200*(h-m((.0193339*r+.119192*n+.9503041*u)/c)),t.opacity)}function p(t,e,r,n){return 1===arguments.length?f(t):new g(t,e,r,null==n?1:n)}function g(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function m(t){return t>d?Math.pow(t,1/3):t/h+u}function b(t){return t>l?t*t*t:h*(t-u)}function E(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function v(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function y(t,e,r,n){return 1===arguments.length?function(t){if(t instanceof _)return new _(t.h,t.c,t.l,t.opacity);t instanceof g||(t=f(t));var e=Math.atan2(t.b,t.a)*s.b;return new _(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new _(t,e,r,null==n?1:n)}function _(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}Object(n.a)(g,p,Object(n.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return t=o*b(t),e=a*b(e),r=c*b(r),new i.b(E(3.2404542*e-1.5371385*t-.4985314*r),E(-.969266*e+1.8760108*t+.041556*r),E(.0556434*e-.2040259*t+1.0572252*r),this.opacity)}})),Object(n.a)(_,y,Object(n.b)(i.a,{brighter:function(t){return new _(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new _(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return f(this).rgb()}}))},function(t,e,r){"use strict";e.a=d;var n=r(81),i=r(80),s=r(130),a=-.29227,o=-.90649,c=1.97294,u=c*o,l=1.78277*c,h=1.78277*a- -.14861*o;function d(t,e,r,n){return 1===arguments.length?function(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,r=t.g/255,n=t.b/255,d=(h*n+u*e-l*r)/(h+u-l),p=n-d,g=(c*(r-d)-a*p)/o,m=Math.sqrt(g*g+p*p)/(c*d*(1-d)),b=m?Math.atan2(g,p)*s.b-120:NaN;return new f(b<0?b+360:b,m,d,t.opacity)}(t):new f(t,e,r,null==n?1:n)}function f(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Object(n.a)(f,d,Object(n.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),u=Math.sin(t);return new i.b(255*(e+r*(-.14861*n+1.78277*u)),255*(e+r*(a*n+o*u)),255*(e+r*(c*n)),this.opacity)}}))},function(t,e,r){"use strict";e.a=function(t,e){return e-=t=+t,function(r){return Math.round(t+e*r)}}},function(t,e,r){"use strict";var n=r(60),i=r(218);function s(t,e,r,i){function s(t){return t.length?t.pop()+" ":""}return function(a,o){var c,u,l,h,d,f,p=[],g=[];return a=t(a),o=t(o),function(t,i,s,a,o,c){if(t!==s||i!==a){var u=o.push("translate(",null,e,null,r);c.push({i:u-4,x:Object(n.a)(t,s)},{i:u-2,x:Object(n.a)(i,a)})}else(s||a)&&o.push("translate("+s+e+a+r)}(a.translateX,a.translateY,o.translateX,o.translateY,p,g),c=a.rotate,u=o.rotate,l=p,c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),g.push({i:l.push(s(l)+"rotate(",null,i)-2,x:Object(n.a)(c,u)})):u&&l.push(s(l)+"rotate("+u+i),h=a.skewX,d=o.skewX,f=p,h!==d?g.push({i:f.push(s(f)+"skewX(",null,i)-2,x:Object(n.a)(h,d)}):d&&f.push(s(f)+"skewX("+d+i),function(t,e,r,i,a,o){if(t!==r||e!==i){var c=a.push(s(a)+"scale(",null,",",null,")");o.push({i:c-4,x:Object(n.a)(t,r)},{i:c-2,x:Object(n.a)(e,i)})}else 1===r&&1===i||a.push(s(a)+"scale("+r+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,p,g),a=o=null,function(t){for(var e,r=-1,n=g.length;++r<n;)p[(e=g[r]).i]=e.x(t);return p.join("")}}}s(i.a,"px, ","px)","deg)"),s(i.b,", ",")",")")},function(t,e,r){"use strict";e.a=function(t){if("none"===t)return o.b;n||(n=document.createElement("DIV"),i=document.documentElement,s=document.defaultView);return n.style.transform=t,t=s.getComputedStyle(i.appendChild(n),null).getPropertyValue("transform"),i.removeChild(n),t=t.slice(7,-1).split(","),Object(o.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return o.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(o.a)(t.a,t.b,t.c,t.d,t.e,t.f)):o.b};var n,i,s,a,o=r(219)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,r,i,s,a){var o,c,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*r+e*i)&&(r-=t*u,i-=e*u),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,u/=c),t*i<e*r&&(t=-t,e=-e,u=-u,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*n,skewX:Math.atan(u)*n,scaleX:o,scaleY:c}}},function(t,e,r){"use strict";Math.SQRT2},function(t,e,r){"use strict";var n=r(21),i=r(47);function s(t){return function(e,r){var s=t((e=Object(n.d)(e)).h,(r=Object(n.d)(r)).h),a=Object(i.a)(e.s,r.s),o=Object(i.a)(e.l,r.l),c=Object(i.a)(e.opacity,r.opacity);return function(t){return e.h=s(t),e.s=a(t),e.l=o(t),e.opacity=c(t),e+""}}}s(i.c),s(i.a)},function(t,e,r){"use strict";r(21),r(47)},function(t,e,r){"use strict";var n=r(21),i=r(47);function s(t){return function(e,r){var s=t((e=Object(n.c)(e)).h,(r=Object(n.c)(r)).h),a=Object(i.a)(e.c,r.c),o=Object(i.a)(e.l,r.l),c=Object(i.a)(e.opacity,r.opacity);return function(t){return e.h=s(t),e.c=a(t),e.l=o(t),e.opacity=c(t),e+""}}}s(i.c),s(i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(21),i=r(47);function s(t){return function e(r){function s(e,s){var a=t((e=Object(n.b)(e)).h,(s=Object(n.b)(s)).h),o=Object(i.a)(e.s,s.s),c=Object(i.a)(e.l,s.l),u=Object(i.a)(e.opacity,s.opacity);return function(t){return e.h=a(t),e.s=o(t),e.l=c(Math.pow(t,r)),e.opacity=u(t),e+""}}return r=+r,s.gamma=e,s}(1)}s(i.c);var a=s(i.a)},function(t,e,r){"use strict"},function(t,e,r){"use strict";var n=r(13),i=r(39);e.a=function(t,e,r){var s,a=t[0],o=t[t.length-1],c=Object(n.m)(a,o,null==e?10:e);switch((r=Object(i.c)(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(a),Math.abs(o));return null!=r.precision||isNaN(s=Object(i.e)(c,u))||(r.precision=s),Object(i.b)(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Object(i.f)(c,Math.max(Math.abs(a),Math.abs(o))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Object(i.d)(c))||(r.precision=s-2*("%"===r.type))}return Object(i.a)(r)}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return s});var n,i,s,a,o=r(139);a={decimal:".",thousands:",",grouping:[3],currency:["$",""]},n=Object(o.a)(a),i=n.format,s=n.formatPrefix},function(t,e,r){"use strict";e.a=function(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}},function(t,e,r){"use strict";e.a=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},function(t,e,r){"use strict";e.a=function(t,e){t=t.toPrecision(e);t:for(var r,n=t.length,i=1,s=-1;i<n;++i)switch(t[i]){case".":s=r=i;break;case"0":0===s&&(s=i),r=i;break;case"e":break t;default:s>0&&(s=0)}return s>0?t.slice(0,s)+t.slice(r+1):t}},function(t,e,r){"use strict";var n=r(84);e.a=function(t,e){var r=Object(n.a)(t,e);if(!r)return t+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}},function(t,e,r){"use strict";e.a=function(t){return t}},function(t,e,r){"use strict";var n=r(62);e.a=function(t){return Math.max(0,-Object(n.a)(Math.abs(t)))}},function(t,e,r){"use strict";var n=r(62);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(n.a)(e)/3)))-Object(n.a)(Math.abs(t)))}},function(t,e,r){"use strict";var n=r(62);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(n.a)(e)-Object(n.a)(t))+1}},function(t,e,r){"use strict";e.a=function t(){var e=Object(o.b)(c,u).domain([1,10]),r=e.domain,s=10,l=d(10),p=h(10);function g(){return l=d(s),p=h(s),r()[0]<0&&(l=f(l),p=f(p)),e}e.base=function(t){return arguments.length?(s=+t,g()):s};e.domain=function(t){return arguments.length?(r(t),g()):r()};e.ticks=function(t){var e,i=r(),a=i[0],o=i[i.length-1];(e=o<a)&&(d=a,a=o,o=d);var c,u,h,d=l(a),f=l(o),g=null==t?10:+t,m=[];if(!(s%1)&&f-d<g){if(d=Math.round(d)-1,f=Math.round(f)+1,a>0){for(;d<f;++d)for(u=1,c=p(d);u<s;++u)if(!((h=c*u)<a)){if(h>o)break;m.push(h)}}else for(;d<f;++d)for(u=s-1,c=p(d);u>=1;--u)if(!((h=c*u)<a)){if(h>o)break;m.push(h)}}else m=Object(n.n)(d,f,Math.min(f-d,g)).map(p);return e?m.reverse():m};e.tickFormat=function(t,r){if(null==r&&(r=10===s?".0e":","),"function"!=typeof r&&(r=Object(i.a)(r)),t===1/0)return r;null==t&&(t=10);var n=Math.max(1,s*t/e.ticks().length);return function(t){var e=t/p(Math.round(l(t)));return e*s<s-.5&&(e*=s),e<=n?r(t):""}};e.nice=function(){return r(Object(a.a)(r(),{floor:function(t){return p(Math.floor(l(t)))},ceil:function(t){return p(Math.ceil(l(t)))}}))};e.copy=function(){return Object(o.a)(e,t().base(s))};return e};var n=r(13),i=r(39),s=r(83),a=r(143),o=r(61);function c(t,e){return(e=Math.log(e/t))?function(r){return Math.log(r/t)/e}:Object(s.a)(e)}function u(t,e){return t<0?function(r){return-Math.pow(-e,r)*Math.pow(-t,1-r)}:function(r){return Math.pow(e,r)*Math.pow(t,1-r)}}function l(t){return isFinite(t)?+("1e"+t):t<0?0:t}function h(t){return 10===t?l:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function d(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function f(t){return function(e){return-t(-e)}}},function(t,e,r){"use strict";e.a=o,e.b=function(){return o().exponent(.5)};var n=r(83),i=r(45),s=r(61);function a(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function o(){var t=1,e=Object(s.b)(function(e,r){return(r=a(r,t)-(e=a(e,t)))?function(n){return(a(n,t)-e)/r}:Object(n.a)(r)},function(e,r){return r=a(r,t)-(e=a(e,t)),function(n){return a(e+r*n,1/t)}}),r=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,r(r())):t},e.copy=function(){return Object(s.a)(e,o().exponent(t))},Object(i.b)(e)}},function(t,e,r){"use strict";r(13),r(28)},function(t,e,r){"use strict";r(13),r(28),r(45)},function(t,e,r){"use strict";r(13),r(28)},function(t,e,r){"use strict";var n=r(15),i=Object(n.a)(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(n.a)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):i:null},e.a=i;i.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setTime(Math.floor(t/i.d)*i.d)},function(t,e){t.setTime(+t+e*i.d)},function(t,e){return(e-t)/i.d},function(t){return t.getUTCSeconds()});e.a=s;s.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setTime(Math.floor(t/i.c)*i.c)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getMinutes()});e.a=s;s.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){var e=t.getTimezoneOffset()*i.c%i.b;e<0&&(e+=i.b),t.setTime(Math.floor((+t-e)/i.b)*i.b+e)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getHours()});e.a=s;s.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a},function(t){return t.getDate()-1});e.a=s;s.range},function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"c",function(){return l});var n=r(15),i=r(22);function s(t){return Object(n.a)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.e})}var a=s(0),o=s(1),c=s(2),u=s(3),l=s(4),h=s(5),d=s(6);a.range,o.range,c.range,u.range,l.range,h.range,d.range},function(t,e,r){"use strict";var n=r(15),i=Object(n.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});e.a=i;i.range},function(t,e,r){"use strict";var n=r(15),i=Object(n.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(n.a)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)}):null},e.a=i;i.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getUTCMinutes()});e.a=s;s.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getUTCHours()});e.a=s;s.range},function(t,e,r){"use strict";var n=r(15),i=r(22),s=Object(n.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/i.a},function(t){return t.getUTCDate()-1});e.a=s;s.range},function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"c",function(){return l});var n=r(15),i=r(22);function s(t){return Object(n.a)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/i.e})}var a=s(0),o=s(1),c=s(2),u=s(3),l=s(4),h=s(5),d=s(6);a.range,o.range,c.range,u.range,l.range,h.range,d.range},function(t,e,r){"use strict";var n=r(15),i=Object(n.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});e.a=i;i.range},function(t,e,r){"use strict";var n=r(15),i=Object(n.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(n.a)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null},e.a=i;i.range},function(t,e,r){"use strict";var n=r(146),i=r(86);+new Date("2000-01-01T00:00:00.000Z")||Object(i.d)(n.a)},function(t,e,r){"use strict";r(144),r(48),r(85)},function(t,e,r){"use strict";var n=r(49);e.a=Object(n.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,r){"use strict";var n=r(49);Object(n.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,e,r){"use strict";var n=r(49);Object(n.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,e,r){"use strict";var n=r(49);e.a=Object(n.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,e,r){"use strict";var n=r(21),i=r(46);Object(i.b)(Object(n.b)(300,.5,0),Object(n.b)(-240,.5,1))},function(t,e,r){"use strict";var n=r(21),i=r(46);Object(i.b)(Object(n.b)(-100,.75,.35),Object(n.b)(80,1.5,.8)),Object(i.b)(Object(n.b)(260,.75,.35),Object(n.b)(80,1.5,.8)),Object(n.b)()},function(t,e,r){"use strict";var n=r(49);function i(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}i(Object(n.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),i(Object(n.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i(Object(n.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),i(Object(n.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,e,r){"use strict";r(45)},function(t,e,r){"use strict";var n,i,s=r(3),a=r(48),o=r(13),c=r(1),u=r(29),l=r(0),h=r(10);(i=n||(n={})).min="min",i.max="max",i.median="median";let d=class extends u.a{constructor(t,e){super(t,e),this.format=Object(a.a)(e.dateFormat||"%x"),this.parse=e.dateParse?Object(a.b)(e.dateParse):Object(a.b)(e.dateFormat||"%x"),this.sort=e.sort||n.median,this.setDefaultRenderer("default")}getValue(t){return super.getValue(t).map(t=>Object(h.b)(t)?null:t instanceof Date?t:this.parse(String(t)))}getLabels(t){return this.getValue(t).map(t=>t instanceof Date?this.format(t):"")}getSortMethod(){return this.sort}setSortMethod(t){this.sort!==t&&(this.fire([l.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=t),this.isSortedByMe().asc||this.sortByMe())}dump(t){const e=super.dump(t);return e.sortMethod=this.getSortMethod(),e}restore(t,e){super.restore(t,e),t.sortMethod&&(this.sort=t.sortMethod)}compare(t,e){const r=this.getValue(t).filter(Boolean),n=this.getValue(e).filter(Boolean);if(r===n)return 0;if(0===r.length)return 0===n.length?0:h.a;if(0===n.length)return-h.a;const i=f(r,this.sort),s=f(n,this.sort);return i-s}};function f(t,e){switch(e){case n.min:return Object(o.i)(t,t=>t.getTime());case n.max:return Object(o.f)(t,t=>t.getTime());case n.median:return Object(o.h)(t,t=>t.getTime())}}d=s.a([Object(c.g)("sortDates")],d),e.a=d},function(t,e,r){"use strict";e.a=function(t){return t&&void 0!==t.name}},function(t,e,r){"use strict";var n=r(57),i=r(9),s=r(5);e.a=class{constructor(){this.title="Default"}canRender(t,e){return t instanceof n.b&&e!==i.a.SUMMARY}create(t){const e=t.actions;return{template:`<div class='actions lu-hover-only'>${e.map(t=>`<span title='${t.name}' class='fa'>${t.icon}</span>`).join("")}</div>`,update:(t,r)=>{Object(s.c)(t,(t,n)=>{t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e[n].action(r)}})},render:s.f}}createGroup(t){const e=t.groupActions;return{template:`<div class='actions lu-hover-only'>${e.map(t=>`<span title='${t.name}' class='fa'>${t.icon}</span>`).join("")}</div>`,update:(t,r,n)=>{Object(s.c)(t,(t,i)=>{t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e[i].action(r,n)}})}}}createSummary(){return s.e}}},function(t,e,r){"use strict";var n=r(44),i=r(12);e.a=class{constructor(){this.title="Default"}canRender(t){return t instanceof n.b}create(t,e){const r=e.colWidth(t);return{template:'<div title="Collapse Group"></div>',update(e,r,n,i){e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.setAggregated(i,!0)}},render:t=>{t.fillStyle=i.a.color,t.fillRect(r-i.a.width,0,i.a.strokeWidth,i.c)}}}createGroup(t){return{template:'<div title="Expand Group"></div>',update(e,r){e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.setAggregated(r,!1)}}}}createSummary(t,e){return{template:'<div title="(Un)Aggregate All" data-icon="caret-down"></div>',update:r=>{const n=t.findMyRanker(),i=Boolean(n&&n.getGroups().every(e=>t.isAggregated(e)));r.dataset.icon=i?"caret-right":"caret-down",r.onclick=(n=>{n.stopPropagation();const i=t.findMyRanker();if(!i||!e)return;const s="caret-down"===r.dataset.icon;r.dataset.icon=s?"caret-right":"caret-down",e.provider.aggregateAllOf(i,s)})}}}}},function(t,e){t.exports="// removed by extract-text-webpack-plugin"},function(t,e,r){"use strict";var n=r(59),i=r(150),s=r(5);e.a=class extends i.a{constructor(){super(...arguments),this.title="Default"}canRender(t){return super.canRender(t)&&t instanceof n.a}create(t){return{template:"<div class='annotations text'>\n        <input class='lu-hover-only'>\n        <span class='text lu-not-hover'></span>\n       </div>",update:(e,r)=>{const n=e.firstElementChild;n.onchange=(()=>{t.setValue(r,n.value)}),n.onclick=(t=>{t.stopPropagation()}),e.lastElementChild.textContent=n.value=t.getLabel(r)},render:s.f}}}},function(t,e,r){"use strict";var n=r(2),i=r(0),s=r(4),a=r(12),o=r(35),c=r(9),u=r(6),l=r(5);e.a=class{constructor(t=!1){this.renderValue=t,this.title="Bar"}canRender(t,e){return e===c.a.CELL&&Object(n._28)(t)&&!Object(s.j)(t)}create(t,e,r,n){const s=e.colWidth(t);return{template:`<div title="">\n          <div style='background-color: ${t.color}'>\n            <span ${this.renderValue?"":'class="lu-hover-only"'}></span>\n          </div>\n        </div>`,update:(e,r)=>{const i=t.getNumber(r),s=Object(u.b)(e,t,r),a=isNaN(i)?0:Math.round(100*i*100)/100,c=t.getLabel(r);e.title=c;const h=e.firstElementChild;h.style.width=s?"100%":`${a}%`,h.style.backgroundColor=s?null:Object(o.a)(t,r,n),Object(l.g)(h.firstElementChild,c)},render:(e,r)=>{if(Object(u.a)(e,t,r,s))return;e.fillStyle=Object(o.a)(t,r,n)||i.a.DEFAULT_COLOR;const c=s*t.getNumber(r);e.fillRect(0,0,isNaN(c)?0:c,a.c)}}}createGroup(){return l.e}createSummary(){return l.e}}},function(t,e,r){"use strict";var n=r(63),i=r(151),s=r(9);e.a=class extends i.a{constructor(){super(...arguments),this.title="Default"}canRender(t,e){return t instanceof n.a&&e===s.a.CELL}create(t){const e=super.create(t);return e.template='<div class="lu-center"> </div>',e}}},function(t,e,r){"use strict";var n=r(8),i=r(2),s=r(40),a=r(4),o=r(19),c=r(12),u=r(35),l=r(9),h=r(6);class d{constructor(){this.title="Box Plot"}canRender(t,e){return Object(a.f)(t)&&e===l.a.CELL||Object(i._28)(t)&&e!==l.a.CELL}create(t,e,r,n){const i=t.getSortMethod(),s=void 0!==t.isSortedByMe().asc,a=e.colWidth(t);return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(e,r)=>{const a=t.getBoxPlotData(r);a&&!Object(h.b)(e,t,r)&&f(e,a,t.getRawBoxPlotData(r),s?i:"",Object(u.a)(t,r,n))},render:(e,r)=>{if(Object(h.a)(e,t,r,a))return;const o=t.getBoxPlotData(r);o&&function(t,e,r,n,i,s){const a=Math.max(e.q1-1.5*(e.q3-e.q1),e.min),o=Math.min(e.q3+1.5*(e.q3-e.q1),e.max);t.fillStyle=n||c.b.box,t.strokeStyle=c.b.stroke,t.beginPath(),t.rect(e.q1,0,e.q3-e.q1,i),t.fill(),t.stroke();const u=i-s,l=i/2;t.beginPath(),t.moveTo(a,l),t.lineTo(e.q1,l),t.moveTo(a,s),t.lineTo(a,u),t.moveTo(e.median,0),t.lineTo(e.median,i),t.moveTo(e.q3,l),t.lineTo(o,l),t.moveTo(o,s),t.lineTo(o,u),t.stroke(),t.fill(),""!==r&&(t.strokeStyle=c.b.sort,t.beginPath(),t.moveTo(e[r],s),t.lineTo(e[r],i-s),t.stroke(),t.fill());if(!e.outlier)return;t.fillStyle=c.b.outlier,e.outlier.forEach(e=>{t.fillRect(Math.max(e-c.f.size/2,0),l-c.f.size/2,c.f.size,c.f.size)})}(e,{min:o.min*a,median:o.median*a,q1:o.q1*a,q3:o.q3*a,max:o.max*a,outlier:o.outlier?o.outlier.map(t=>t*a):void 0},s?i:"",Object(u.a)(t,r,n),c.c,0)}}}static createAggregatedBoxPlot(t,e,r=!1){const i=[].concat(...e.map(e=>r?t.getRawNumbers(e):t.getNumber(e)));return new n.a(i)}createGroup(t,e,r,i){const s=t instanceof o.a&&void 0!==t.isGroupSortedByMe().asc?t.getSortMethod():"";return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(e,r,o)=>{if(o.every(e=>t.isMissing(e)))return void Object(h.b)(e,t,o[0]);let c,l;Object(a.j)(t)?(c=d.createAggregatedBoxPlot(t,o),l=d.createAggregatedBoxPlot(t,o,!0)):(c=new n.a(o.map(e=>t.getNumber(e))),l=new n.a(o.map(e=>t.getRawNumber(e)))),f(e,c,l,s,Object(u.a)(t,null,i))}}}createSummary(t,e,r,n){return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(e,r)=>{if(null==r||0===r.count)return void e.classList.add("lu-missing");e.classList.remove("lu-missing"),f(e,r,r,t instanceof o.a&&void 0!==t.isGroupSortedByMe().asc?t.getSortMethod():"",Object(u.a)(t,null,n))}}}}function f(t,e,r,n,i){t.title=function(t){if(null==t)return"";const e=s.a.DEFAULT_FORMATTER;return`min = ${e(t.min)}\nq1 = ${e(t.q1)}\nmedian = ${e(t.median)}\nq3 = ${e(t.q3)}\nmax = ${e(t.max)}`}(r);const a=t.firstElementChild,o=a.firstElementChild,c=a.lastElementChild,u=Math.max(e.q1-1.5*(e.q3-e.q1),e.min),l=Math.min(e.q3+1.5*(e.q3-e.q1),e.max);a.style.left=`${Math.round(100*u)}%`;const h=l-u;if(a.style.width=`${Math.round(100*h)}%`,o.style.left=`${Math.round((e.q1-u)/h*100)}%`,o.style.width=`${Math.round((e.q3-e.q1)/h*100)}%`,o.style.backgroundColor=i,c.style.left=`${Math.round((e.median-u)/h*100)}%`,!e.outlier||0===e.outlier.length)return a.dataset.sort=n,void(t.children.length>1&&(t.innerHTML="",t.appendChild(a)));const d=Array.from(t.children).slice(1);d.slice(e.outlier.length).forEach(t=>t.remove());for(let r=d.length;r<e.outlier.length;++r){const e=t.ownerDocument.createElement("div");d.push(e),t.appendChild(e)}e.outlier.forEach((t,e)=>{delete d[e].dataset.sort,d[e].style.left=`${Math.round(100*t)}%`}),"min"===n?(a.dataset.sort="",d[0].dataset.sort="min"):"max"===n&&(a.dataset.sort="",d[d.length-1].dataset.sort="max")}e.a=d},function(t,e,r){"use strict";var n=r(16),i=r(12),s=r(6),a=r(153),o=r(5);class c{constructor(){this.title="Heatmap"}canRender(t){return Object(n.e)(t)}static createDOMContext(t){const e=t.categories;let r="";for(const t of e)r+=`<div title="${t.label}" style="background-color: ${t.color}"></div>`;return{templateRow:r,render:(t,e)=>{Array.from(t.children).forEach((t,r)=>{const n=e[r];t.style.visibility=n?null:"hidden"})}}}create(t,e){const{templateRow:r,render:n}=c.createDOMContext(t),a=e.colWidth(t),o=a/t.dataLength,u=t.categories;return{template:`<div>${r}</div>`,update:(e,r)=>{Object(s.b)(e,t,r)||n(e,t.getValues(r))},render:(e,r)=>{if(Object(s.a)(e,t,r,a))return;const n=t.getValues(r);e.save(),u.forEach((t,r)=>{if(!n[r])return;const s=r*o;e.fillStyle=t.color,e.fillRect(s,0,o,i.c)}),e.restore()}}}createGroup(t){const{templateRow:e,render:r}=c.createDOMContext(t);return{template:`<div>${e}</div>`,update:(e,n,i)=>{const s=Object(a.b)(t,i);r(e,s)}}}createSummary(t){const e=t.categories;let r="<div>";const n=Object(o.h)(t);for(const t of e)r+=`<div title="${t.label}"${n?` data-title="${t.label}"`:""} style="background-color: ${t.color}"></div>`;return{template:r+="</div>",update:o.f}}}e.a=c},function(t,e,r){"use strict";var n=r(27),i=r(2),s=r(23),a=r(52),o=r(34),c=r(152),u=r(9),l=r(5);function h(t){const e=t.categories;return{template:`<div>${e.map(t=>`<div style="background-color: ${t.color}" title="${t.label}: 0" data-cat="${t.name}">${t.label}</div>`).join("")}<div title="Missing Values"></div>`,update:(t,r,n)=>{const i=r.reduce((t,{y:e})=>t+e,n);Object(l.c)(t,(t,s)=>{let a,o;s>=r.length?(a=n,o="Missing Values"):(a=r[s].y,o=e[s].label),t.style.flexGrow=`${Math.round(0===i?0:a)}`,t.title=`${o}: ${a}`})}}}e.a=class{constructor(){this.title="Distribution Bar"}canRender(t,e){return Object(i._18)(t)&&e!==u.a.CELL}create(){return l.e}createGroup(t){const{template:e,update:r}=h(t);return{template:`${e}</div>`,update:(e,i,s)=>{const{hist:a,missing:o}=Object(n.b)(s,e=>t.getCategory(e),t.categories);r(e,a,o)}}}createSummary(t,e,r){return t instanceof s.a||t instanceof a.a?function(t,e){const{template:r,update:n}=h(t);let i;return{template:`${r}${e?Object(o.b)(!1,0):""}</div>`,update:(e,r)=>{i||(i=Object(c.b)(t,e)),i(r?r.missing:0,t),e.classList.toggle("lu-missing",!r),r&&n(e,r.hist,r.missing)}}}(t,r):function(t){const{template:e,update:r}=h(t);return{template:`${e}</div>`,update:(t,e)=>{t.classList.toggle("lu-missing",!e),e&&r(t,e.hist,e.missing)}}}(t)}}},function(t,e,r){"use strict";var n=r(2),i=r(4),s=r(35),a=r(9),o=r(6),c=r(5);e.a=class{constructor(){this.title="Proportional Symbol"}canRender(t,e){return Object(n._28)(t)&&e===a.a.CELL&&!Object(i.j)(t)}create(t,e,r,n){return{template:'<div style="background: radial-gradient(circle closest-side, red 100%, transparent 100%)" title="">\n              <div class="lu-hover-only"></div>\n          </div>',update:(e,r)=>{const i=t.getNumber(r),a=Math.round(100*i),u=Object(o.b)(e,t,r);Object(c.a)(e,{},{background:u?null:`radial-gradient(circle closest-side, ${Object(s.a)(t,r,n)} ${a}%, transparent ${a}%)`}),Object(c.g)(e.firstElementChild,t.getLabel(r))},render:c.f}}createGroup(){return c.e}createSummary(){return c.e}}},function(t,e,r){"use strict";var n=r(2),i=r(4),s=r(12),a=r(35),o=r(9),c=r(6),u=r(5);class l{constructor(){this.title="Dot",this.groupTitle="Dots"}canRender(t,e){return Object(n._28)(t)&&e!==o.a.SUMMARY}static getDOMRenderer(t){const e=Object(i.j)(t)?t.dataLength:1;let r="";for(let n=0;n<e;++n)r+=`<div style='background-color: ${t.color}' title=''></div>`;const a=(t,e,r,i)=>{if(t.children.length!==e.length){let n="";for(let t=0;t<e.length;++t)n+=`<div style='background-color: ${i[t]}' title='${r[t]}'></div>`;t.innerHTML=n}Object(u.c)(t,(t,s)=>{const a=e[s];Object(u.a)(t,{title:r[s]},{display:Object(n._26)(a)?"none":null,left:`${Math.round(100*a)}%`,top:e.length>1?`${Math.round(80*Math.random()+10)}%`:null,"background-color":i[s]})})},o=(t,e,r,n)=>{t.save(),t.globalAlpha=s.f.opacity,e.forEach((e,i)=>{t.fillStyle=r[i]||s.f.color,t.fillRect(Math.max(0,e*n-s.f.size/2),0,s.f.size,s.c)}),t.restore()};return{template:`<div>${r}</div>`,update:a,render:o}}create(t,e,r,s){const{template:o,render:u,update:h}=l.getDOMRenderer(t),d=e.colWidth(t);return{template:o,update:(e,r)=>{if(Object(c.b)(e,t,r))return;const o=Object(a.a)(t,r,s),u=t.getValue(r);if(!Object(i.j)(t))return h(e,[u],[t.getLabel(r)],[o]);const l=u.filter(t=>!Object(n._26)(t));return h(e,l,l.map(i.a),l.map(t=>o))},render:(e,r)=>{if(Object(c.a)(e,t,r,d))return;const o=Object(a.a)(t,r,s),l=t.getValue(r);if(!Object(i.j)(t))return u(e,[l],[o],d);const h=l.filter(t=>!Object(n._26)(t));return u(e,h,h.map(t=>o),d)}}}createGroup(t,e,r,s){const{template:o,update:c}=l.getDOMRenderer(t);return{template:o,update:(e,r,o)=>{const u=o.map(e=>t.getValue(e)),l=o.map(e=>Object(a.a)(t,e,s));if(!Object(i.j)(t))return c(e,u,o.map(e=>t.getLabel(e)),l);const h=[].concat(...u.filter(t=>!Object(n._26)(t)));return c(e,h,h.map(i.a),u.map((t,e)=>l[e]))}}}createSummary(){return u.e}}e.a=l},function(t,e,r){"use strict";var n=r(65),i=r(5);e.a=class{constructor(){this.title="Default"}canRender(t){return t instanceof n.b}create(){return{template:"<div><div></div></div>",update(t,e,r,n){t.firstElementChild.innerText=0===r?n.name:""},render:i.f}}createGroup(){return{template:"<div><div></div></div>",update(t,e,r){t.firstElementChild.innerText=`${e.name} (${r.length})`}}}createSummary(){return i.e}}},function(t,e,r){"use strict";var n=r(2),i=r(4),s=r(12),a=r(101),o=r(100),c=r(6),u=r(5);e.a=class extends a.a{constructor(){super(...arguments),this.title="Heatmap"}canRender(t){return Object(i.j)(t)&&Boolean(t.dataLength)}createContext(t,e,r){const a=e.colWidth(t)/t.dataLength,l=t.labels;let h="";for(let e=0;e<t.dataLength;++e)h+='<div style="background-color: white" title=""></div>';return{templateRow:h,update:(e,s,a)=>{Object(u.c)(e,(e,c)=>{const h=s[c];Object(u.a)(e,{title:`${l[c]}: ${Object(i.a)(h)}`,class:Object(n._26)(h)?"lu-missing":""},{"background-color":Object(n._26)(h)?null:Object(o.b)(h,a,t,r)})})},render:(e,i,u)=>{i.forEach((i,l)=>{const h=l*a;Object(n._26)(i)?Object(c.c)(e,a,s.c,h,0):(e.beginPath(),e.fillStyle=Object(o.b)(i,u,t,r),e.fillRect(h,0,a,s.c))})}}}createSummary(t){let e=t.labels.slice();for(;e.length>0&&!Object(u.h)(t,e.length);)e=e.filter((t,e)=>e%2==0);let r="<div>";for(const t of e)r+=`<div title="${t}" data-title="${t}"></div>`;return{template:r+="</div>",update:u.f}}}},function(t,e,r){"use strict";var n=r(126),i=r(54),s=r(161),a=r(162),o=r(314),c=r(315);function u(){return!i.b.button}function l(){return this.parentNode}function h(t){return null==t?{x:i.b.x,y:i.b.y}:t}function d(){return"ontouchstart"in this}e.a=function(){var t,e,r,f,p=u,g=l,m=h,b=d,E={},v=Object(n.a)("start","drag","end"),y=0,_=0;function O(t){t.on("mousedown.drag",T).filter(b).on("touchstart.drag",w).on("touchmove.drag",R).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(){if(!f&&p.apply(this,arguments)){var n=A("mouse",g.apply(this,arguments),i.c,this,arguments);n&&(Object(i.d)(i.b.view).on("mousemove.drag",N,!0).on("mouseup.drag",C,!0),Object(s.a)(i.b.view),Object(a.b)(),r=!1,t=i.b.clientX,e=i.b.clientY,n("start"))}}function N(){if(Object(a.a)(),!r){var n=i.b.clientX-t,s=i.b.clientY-e;r=n*n+s*s>_}E.mouse("drag")}function C(){Object(i.d)(i.b.view).on("mousemove.drag mouseup.drag",null),Object(s.b)(i.b.view,r),Object(a.a)(),E.mouse("end")}function w(){if(p.apply(this,arguments)){var t,e,r=i.b.changedTouches,n=g.apply(this,arguments),s=r.length;for(t=0;t<s;++t)(e=A(r[t].identifier,n,i.f,this,arguments))&&(Object(a.b)(),e("start"))}}function R(){var t,e,r=i.b.changedTouches,n=r.length;for(t=0;t<n;++t)(e=E[r[t].identifier])&&(Object(a.a)(),e("drag"))}function x(){var t,e,r=i.b.changedTouches,n=r.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),t=0;t<n;++t)(e=E[r[t].identifier])&&(Object(a.b)(),e("end"))}function A(t,e,r,n,s){var a,o,u,l=r(e,t),h=v.copy();if(Object(i.a)(new c.a(O,"beforestart",a,t,y,l[0],l[1],0,0,h),function(){return null!=(i.b.subject=a=m.apply(n,s))&&(o=a.x-l[0]||0,u=a.y-l[1]||0,!0)}))return function d(f){var p,g=l;switch(f){case"start":E[t]=d,p=y++;break;case"end":delete E[t],--y;case"drag":l=r(e,t),p=y}Object(i.a)(new c.a(O,f,a,t,p,l[0]+o,l[1]+u,l[0]-g[0],l[1]-g[1],h),h.apply,h,[f,n,s])}}return O.filter=function(t){return arguments.length?(p="function"==typeof t?t:Object(o.a)(!!t),O):p},O.container=function(t){return arguments.length?(g="function"==typeof t?t:Object(o.a)(t),O):g},O.subject=function(t){return arguments.length?(m="function"==typeof t?t:Object(o.a)(t),O):m},O.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Object(o.a)(!!t),O):b},O.on=function(){var t=v.on.apply(v,arguments);return t===v?O:t},O.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,O):Math.sqrt(_)},O}},function(t,e,r){"use strict";var n=0;function i(){this._="@"+(++n).toString(36)}i.prototype=function(){return new i}.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,r){"use strict";var n=r(105),i=r(72);e.a=function(t){var e=Object(n.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,r){"use strict";var n=r(20);e.a=function(t){return"string"==typeof t?new n.a([[document.querySelector(t)]],[document.documentElement]):new n.a([[t]],n.b)}},function(t,e,r){"use strict";var n=r(20),i=r(107);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,r=e.length,s=new Array(r),a=0;a<r;++a)for(var o,c,u=e[a],l=u.length,h=s[a]=new Array(l),d=0;d<l;++d)(o=u[d])&&(c=t.call(o,o.__data__,d,u))&&("__data__"in o&&(c.__data__=o.__data__),h[d]=c);return new n.a(s,this._parents)}},function(t,e,r){"use strict";var n=r(20),i=r(157);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,r=e.length,s=[],a=[],o=0;o<r;++o)for(var c,u=e[o],l=u.length,h=0;h<l;++h)(c=u[h])&&(s.push(t.call(c,c.__data__,h,u)),a.push(c));return new n.a(s,a)}},function(t,e,r){"use strict";var n=r(20),i=r(156);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,r=e.length,s=new Array(r),a=0;a<r;++a)for(var o,c=e[a],u=c.length,l=s[a]=[],h=0;h<u;++h)(o=c[h])&&t.call(o,o.__data__,h,c)&&l.push(o);return new n.a(s,this._parents)}},function(t,e,r){"use strict";var n=r(20),i=r(158),s=r(288),a="$";function o(t,e,r,n,s,a){for(var o,c=0,u=e.length,l=a.length;c<l;++c)(o=e[c])?(o.__data__=a[c],n[c]=o):r[c]=new i.a(t,a[c]);for(;c<u;++c)(o=e[c])&&(s[c]=o)}function c(t,e,r,n,s,o,c){var u,l,h,d={},f=e.length,p=o.length,g=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(g[u]=h=a+c.call(l,l.__data__,u,e),h in d?s[u]=l:d[h]=l);for(u=0;u<p;++u)(l=d[h=a+c.call(t,o[u],u,o)])?(n[u]=l,l.__data__=o[u],d[h]=null):r[u]=new i.a(t,o[u]);for(u=0;u<f;++u)(l=e[u])&&d[g[u]]===l&&(s[u]=l)}e.a=function(t,e){if(!t)return b=new Array(this.size()),f=-1,this.each(function(t){b[++f]=t}),b;var r=e?c:o,i=this._parents,a=this._groups;"function"!=typeof t&&(t=Object(s.a)(t));for(var u=a.length,l=new Array(u),h=new Array(u),d=new Array(u),f=0;f<u;++f){var p=i[f],g=a[f],m=g.length,b=t.call(p,p&&p.__data__,f,i),E=b.length,v=h[f]=new Array(E),y=l[f]=new Array(E);r(p,g,v,y,d[f]=new Array(m),b,e);for(var _,O,T=0,N=0;T<E;++T)if(_=v[T]){for(T>=N&&(N=T+1);!(O=y[N])&&++N<E;);_._next=O||null}}return(l=new n.a(l,i))._enter=h,l._exit=d,l}},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";var n=r(159),i=r(20);e.a=function(){return new i.a(this._exit||this._groups.map(n.a),this._parents)}},function(t,e,r){"use strict";var n=r(20);e.a=function(t){for(var e=this._groups,r=t._groups,i=e.length,s=r.length,a=Math.min(i,s),o=new Array(i),c=0;c<a;++c)for(var u,l=e[c],h=r[c],d=l.length,f=o[c]=new Array(d),p=0;p<d;++p)(u=l[p]||h[p])&&(f[p]=u);for(;c<i;++c)o[c]=e[c];return new n.a(o,this._parents)}},function(t,e,r){"use strict";e.a=function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],s=i.length-1,a=i[s];--s>=0;)(n=i[s])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this}},function(t,e,r){"use strict";var n=r(20);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=i);for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o){for(var c,u=r[o],l=u.length,h=a[o]=new Array(l),d=0;d<l;++d)(c=u[d])&&(h[d]=c);h.sort(e)}return new n.a(a,this._parents).order()}},function(t,e,r){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,r){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,r){"use strict";e.a=function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}},function(t,e,r){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,r){"use strict";e.a=function(){return!this.node()}},function(t,e,r){"use strict";e.a=function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,s=e[r],a=0,o=s.length;a<o;++a)(i=s[a])&&t.call(i,i.__data__,a,s);return this}},function(t,e,r){"use strict";var n=r(103);e.a=function(t,e){var r=Object(n.a)(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}:function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}:r.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(r,e))}},function(t,e,r){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,r){"use strict";function n(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new s(t)}function s(t){this._node=t,this._names=n(t.getAttribute("class")||"")}function a(t,e){for(var r=i(t),n=-1,s=e.length;++n<s;)r.add(e[n])}function o(t,e){for(var r=i(t),n=-1,s=e.length;++n<s;)r.remove(e[n])}s.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var r=n(t+"");if(arguments.length<2){for(var s=i(this.node()),c=-1,u=r.length;++c<u;)if(!s.contains(r[c]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?a:o)(this,t)}}:e?function(t){return function(){a(this,t)}}:function(t){return function(){o(this,t)}})(r,e))}},function(t,e,r){"use strict";function n(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?n:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,r){"use strict";function n(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?n:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,r){"use strict";function n(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(n)}},function(t,e,r){"use strict";function n(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(n)}},function(t,e,r){"use strict";var n=r(102);e.a=function(t){var e="function"==typeof t?t:Object(n.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,r){"use strict";var n=r(102),i=r(107);function s(){return null}e.a=function(t,e){var r="function"==typeof t?t:Object(n.a)(t),a=null==e?s:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,r){"use strict";function n(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(n)}},function(t,e,r){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,r){"use strict";var n=r(108);function i(t,e,r){var i=Object(n.a)(t),s=i.CustomEvent;"function"==typeof s?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return i(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return i(this,t,e)}})(t,e))}},function(t,e,r){"use strict";var n=r(20);e.a=function(t){return"string"==typeof t?new n.a([document.querySelectorAll(t)],[document.documentElement]):new n.a([null==t?[]:t],n.b)}},function(t,e,r){"use strict";var n=r(105),i=r(72);e.a=function(t,e,r){arguments.length<3&&(r=e,e=Object(n.a)().changedTouches);for(var s,a=0,o=e?e.length:0;a<o;++a)if((s=e[a]).identifier===r)return Object(i.a)(t,s);return null}},function(t,e,r){"use strict";r(105),r(72)},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";function n(t,e,r,n,i,s,a,o,c,u){this.target=t,this.type=e,this.subject=r,this.identifier=n,this.active=i,this.x=s,this.y=a,this.dx=o,this.dy=c,this._=u}e.a=n,n.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e,r={}){super(t,{hideOnMoveOutside:!0}),this.callback=e,this.ioptions={min:NaN,max:NaN,step:"any",value:NaN,label:null},Object.assign(this.ioptions,r)}build(t){const e=this.ioptions;t.insertAdjacentHTML("beforeend",`\n     <input type="number" value="${isNaN(e.value)?"":String(e.value)}" required autofocus placeholder="${e.label?e.label:"enter number"}" ${isNaN(e.min)?"":` min="${e.min}"`} ${isNaN(e.max)?"":` max="${e.max}"`} step="${e.step}">\n    `)}submit(){return this.callback(parseFloat(this.findInput("input[type=number]").value)),!0}}},function(t,e,r){"use strict";var n=r(18),i=r(9),s=r(6),a=r(5);e.a=class{constructor(){this.title="Image"}canRender(t,e){return t instanceof n.b&&e===i.a.CELL}create(t){return{template:"<div></div>",update:(e,r)=>{const n=Object(s.b)(e,t,r);e.title=t.getLabel(r),e.style.backgroundImage=n?null:`url('${t.getValue(r)}')`},render:a.f}}createGroup(){return a.e}createSummary(){return a.e}}},function(t,e,r){"use strict";var n=r(31),i=r(12),s=r(154),a=r(9),o=r(6),c=r(109),u=r(5);e.a=class{constructor(){this.title="Interleaved"}canRender(t){return t instanceof n.a}create(t,e){const{cols:r}=Object(c.a)(t,e,!1,a.a.CELL),n=e.colWidth(t);return{template:`<div>${r.map(t=>t.template).join("")}</div>`,update:(e,n,i,s)=>{Object(o.b)(e,t,n)||(Object(u.d)(e,r),Array.from(e.children).forEach((t,e)=>{r[e].renderer.update(t,n,i,s)}))},render:(e,s,a,c)=>{Object(o.a)(e,t,s,n)||(e.save(),e.scale(1,1/r.length),r.forEach((t,r)=>{t.renderer.render(e,s,r,c),e.translate(0,i.c)}),e.restore())}}}createGroup(t,e){const{cols:r}=Object(c.a)(t,e,!1,a.a.GROUP);return{template:`<div>${r.map(t=>t.template).join("")}</div>`,update:(t,e,n)=>{Object(u.d)(t,r),Array.from(t.children).forEach((t,i)=>{r[i].groupRenderer.update(t,e,n)})}}}createSummary(t,e){const r=t.children;let n=0;const{template:i,render:a}=Object(s.b)(e.totalNumberOfRows,t,{color:()=>r[n++%r.length].color});return{template:i,update:t=>{const n=r.map(t=>e.statsOf(t));if(!n.some(Boolean))return void t.classList.add("lu-missing");t.classList.remove("lu-missing");const i=function(t){const e=t.find(Boolean).hist.length,r=[];let n=0;for(let i=0;i<e;++i)t.forEach(t=>{const e=t?t.hist[i]:null;e?(e.length>n&&(n=e.length),r.push(e)):r.push(l)});return{bins:e,max:n,hist:r}}(n);a(t,i)}}}};const l={length:0,x0:0,x1:0}},function(t,e,r){"use strict";var n=r(5);class i{createGroup(t,e,r,n){const i=this.create(t,e,r,n);return{template:`<div>${i.template}</div>`,update:(e,r,n)=>{const s=this.aggregatedIndex(n,t);i.update(e.firstElementChild,n[s],s,r)}}}createSummary(){return n.e}}e.a=i},function(t,e,r){"use strict";var n=r(18),i=r(9),s=r(6),a=r(5);class o{constructor(){this.title="Link"}canRender(t,e){return t instanceof n.b&&e!==i.a.SUMMARY}create(t){const e=t.alignment||"left";return{template:`<a${"left"!==e?` class="lu-${e}"`:""} target="_blank" href=""></a>`,update:(e,r)=>{Object(s.b)(e,t,r)||(e.href=t.getValue(r),t.escape?Object(a.g)(e,t.getLabel(r)):e.innerHTML=t.getLabel(r))},render:a.f}}static exampleText(t,e){const r=[];for(const n of e)if(!t.isMissing(n)&&(r.push(`<a target="_blank" href="${t.getValue(n)}">${t.getLabel(n)}</a>`),r.length>=5))break;return`${r.join(", ")}${r.length<e.length?", &hellip;":""}`}createGroup(t){return{template:"<div> </div>",update:(e,r,n)=>{e.innerHTML=`${o.exampleText(t,n)}`}}}createSummary(){return a.e}}e.a=o},function(t,e,r){"use strict";var n=r(69),i=r(9),s=r(6),a=r(165),o=r(5);class c{constructor(){this.title="Table with Links"}canRender(t,e){return t instanceof n.a&&e!==i.a.SUMMARY}create(t){const e=t.alignment||"left";return{template:"<div></div>",update:(r,n)=>{if(Object(s.b)(r,t,n))return;const i=t.getValue(n);r.innerHTML=t.getLabels(n).map(({key:t,value:r},n)=>`<div>${t}</div><div${"left"!==e?` class="lu-${e}"`:""}><a href="${i[n].value}" target="_blank">${r}</a></div>`).join("")},render:o.f}}static example(t){const e=[];for(const r of t)if(e.push(`<a target="_blank" href="${r.link}">${r.value}</a>`),e.length>=5)break;return`${e.join(", ")}${e.length<t.length} ? ', &hellip;': ''}`}createGroup(t){const e=t.alignment||"left";return{template:"<div></div>",update:(r,n,i)=>{const s=i.filter(e=>!t.isMissing(e)).map(e=>{const r=t.getLabels(e),n=t.getValue(e);return r.map(({key:t,value:e},r)=>({key:t,value:e,link:n[r].value}))}),o=Object(a.b)(s);r.innerHTML=o.map(({key:t,values:r})=>`<div>${t}</div><div${"left"!==e?` class="lu-${e}"`:""}>${c.example(r)}</div>`).join("")}}}createSummary(){return o.e}}e.a=c},function(t,e,r){"use strict";var n=r(5);e.a=class{constructor(){this.title="Loading"}canRender(){return!1}create(){return{template:"<div>Loading…</div>",update:n.f,render:n.f}}createGroup(){return this.create()}createSummary(){return this.create()}}},function(t,e,r){"use strict";var n=r(2),i=r(64),s=r(4),a=r(24),o=r(35),c=r(9),u=r(6),l=r(5);e.a=class{constructor(){this.title="Bar Table"}canRender(t,e){return Object(i.b)(t)&&Object(n._28)(t)&&(e===c.a.CELL||e===c.a.SUMMARY&&Object(a.d)(t))}create(t,e,r,i){return{template:"<div></div>",update:(e,r)=>{Object(u.b)(e,t,r)||(e.innerHTML=t.getMap(r).map(({key:e,value:a})=>{if(Object(n._26)(a))return`<div>${e}</div><div class="lu-missing"></div>`;const c=isNaN(a)?0:Math.round(100*a*100)/100;return`<div>${e}</div><div title="${Object(s.a)(a)}"><div style="width: ${c}%; background-color: ${Object(o.a)(t,r,i)}"><span class="lu-hover-only">${a}</span></div></div>`}).join(""))},render:l.f}}createGroup(){return l.e}createSummary(t){return{template:"<div><div>Key</div><div><span></span><span></span>Value</div></div>",update:e=>{const r=t.getRange(),n=e.lastElementChild;n.firstElementChild.textContent=r[0],n.children[1].textContent=r[1]}}}}},function(t,e,r){"use strict";var n=r(53),i=r(6),s=r(5);e.a=class{constructor(){this.title="Default"}canRender(t){return t instanceof n.b}create(t){return{template:'<div class="lu-right"> </div>',update:(e,r)=>{Object(i.b)(e,t,r),Object(s.g)(e,t.getLabel(r))},render:s.f}}createGroup(t){return{template:"<div><div></div><div></div></div>",update:(e,r,n)=>{const i=e.firstElementChild,s=e.lastElementChild;if(0===n.length)return i.textContent="",void(s.textContent="");i.textContent=t.getLabel(n[0]),s.textContent=t.getLabel(n[n.length-1])}}}createSummary(){return s.e}}},function(t,e,r){"use strict";var n=r(68),i=r(5);e.a=class{constructor(){this.title="Default"}canRender(t){return t instanceof n.b}create(t){return{template:"<div></div>",update:(e,r)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.toggleValue(r)}},render:i.f}}createGroup(t){return{template:"<div></div>",update:(e,r,n)=>{n.reduce((e,r)=>t.getValue(r)?e+1:e,0)>=n.length/2?e.classList.add("lu-group-selected"):e.classList.remove("lu-group-selected"),e.onclick=function(r){r.preventDefault(),r.stopPropagation();const i=e.classList.toggle("lu-group-selected");t.setValues(n,i)}}}}createSummary(t,e){return{template:'<div title="(Un)Select All" data-icon="unchecked"></div>',update:r=>{r.onclick=(n=>{n.stopPropagation(),"unchecked"===r.dataset.icon?(e.provider.selectAllOf(t.findMyRanker()),r.dataset.icon="checked"):(e.provider.setSelection([]),r.dataset.icon="unchecked")})}}}}},function(t,e,r){"use strict";var n=r(2),i=r(4),s=r(30),a=r(101),o=r(9),c=r(6),u=r(5);function l(t){if(0===t.length)return"";let e="",r=!0;return t.forEach((t,i)=>{Object(n._26)(t)?r=!0:r?(e+=`M${i},${1-t} `,r=!1):e+=`L${i},${1-t} `}),e}e.a=class{constructor(){this.title="Sparkline"}canRender(t,e){return Object(i.j)(t)&&e!==o.a.SUMMARY}create(t){const e=t.dataLength,r=1-t.getMapping().apply(s.a.CENTER);return{template:`<svg viewBox="0 0 ${e-1} 1" preserveAspectRatio="none meet"><line x1="0" x2="${e-1}" y1="${r}" y2="${r}"></line><path></path></svg>`,update:(e,r)=>{if(Object(c.b)(e,t,r))return;const n=t.getNumbers(r);e.querySelector("path").setAttribute("d",l(n))},render:u.f}}createGroup(t){const e=t.dataLength,r=1-t.getMapping().apply(s.a.CENTER);return{template:`<svg viewBox="0 0 ${e} 1" preserveAspectRatio="none meet"><line x1="0" x2="${e-1}" y1="${r}" y2="${r}"></line><path></path></svg>`,update:(e,r,n)=>{Object(a.b)(e,n,"<path></path>"),Object(u.c)(e,(e,r)=>{const i=n[r];e.setAttribute("d",l(t.getNumbers(i)))})}}}createSummary(){return u.e}}},function(t,e,r){"use strict";var n=r(4),i=r(30),s=r(12),a=r(101),o=r(100),c=r(9),u=r(5);class l extends a.a{constructor(){super(...arguments),this.title="Bar Chart"}canRender(t,e){return Object(n.j)(t)&&Boolean(t.dataLength)&&e===c.a.CELL}static compute(t,e,r){return t<e?{height:e-t,bottom:t-r[0]}:{height:t-e,bottom:e-r[0]}}createContext(t,e,r){const a=e.colWidth(t)/t.dataLength,c=t.getMapping().apply(i.a.CENTER);let h="";for(let e=0;e<t.dataLength;++e)h+='<div style="background-color: white" title=""></div>';return{templateRow:h,update:(e,i,s)=>{const a=Object(o.b)(0,s,t,r),h=Object(o.b)(1,s,t,r);Object(u.c)(e,(t,e)=>{const r=i[e],{bottom:s,height:o}=l.compute(r,c,[0,1]);Object(u.a)(t,{title:Object(n.a)(r)},{"background-color":r<c?a:h,bottom:`${Math.round(100*s/1)}%`,height:`${Math.round(100*o/1)}%`})})},render:(e,n,i)=>{const u=Object(o.b)(0,i,t,r),h=Object(o.b)(1,i,t,r),d=s.c/1;n.forEach((t,r)=>{e.fillStyle=t<c?u:h;const n=r*a,{bottom:i,height:s}=l.compute(t,c,[0,1]);e.fillRect(n,(1-s-i)*d,a,s*d)})}}}createSummary(){return u.e}}e.a=l},function(t,e,r){"use strict";var n=r(329);e.a=class{constructor(t,e){this.desc=t,this.category=e,this.used=0,this.vis=null}get text(){return this.desc.label}get id(){return`${this.desc.type}@${this.desc.label}`}destroyVis(){this.vis&&this.vis.destroy()}get visColumn(){return this.vis?this.vis.column:null}updateVis(t){return this.vis?(this.vis.update(t),this.vis.node):null}createVis(t,e,r){return this.vis=new n.a(t,e,r),this.vis.node}}},function(t,e,r){"use strict";var n=r(0),i=r(55);e.a=class{constructor(t,e,r){this.column=t,this.ctx=e,this.node=r.createElement("article"),this.node.classList.add("lu-side-panel-entry"),this.node.dataset.type=t.desc.type,this.summary=e.summaryRenderer(t,!0),this.column.on([`${n.a.EVENT_FILTER_CHANGED}.panel`,`${n.a.EVENT_DIRTY_HEADER}.panel`],()=>{this.update()}),this.init(),this.update()}init(){this.node.innerHTML=`\n      <header><div class="lu-label"></div><div class="lu-toolbar"></div></header>${this.summary.template}`,Object(i.c)(this.node.querySelector(".lu-toolbar"),this.column,this.ctx),Object(i.e)(this.node.querySelector("header"),this.column,this.ctx);const t=this.node.lastElementChild;t.classList.add("lu-summary"),t.dataset.renderer=this.column.getSummaryRenderer(),t.dataset.interactive=""}update(t=this.ctx){this.ctx=t,Object(i.f)(this.node,this.column),this.summary.update(this.node.querySelector(".lu-summary"),t.statsOf(this.column))}destroy(){this.column.on([`${n.a.EVENT_FILTER_CHANGED}.panel`,`${n.a.EVENT_DIRTY_HEADER}.panel`],null),this.node.remove()}}},function(t,e,r){"use strict";function n(t,...e){const r=t.dataTransfer.types;return"function"==typeof r.indexOf?e.some(t=>r.indexOf(t)>=0):"function"==typeof r.includes?e.some(t=>r.includes(t)):"function"==typeof r.contains&&e.some(t=>r.contains(t))}e.c=n,e.a=function(t,e,r=!1){const n=++o;t.draggable=!0,t.addEventListener("dragstart",s=>{t.classList.add("lu-dragging");const a=e();s.dataTransfer.effectAllowed=a.effectAllowed,r&&s.stopPropagation();const o=Object.keys(a.data),c=o.every(t=>{try{return s.dataTransfer.setData(t,a.data[t]),!0}catch(t){return!1}});if(c)return;const u=a.data["text/plain"]||"";s.dataTransfer.setData("text/plain",`${n}${u?`: ${u}`:""}`),i.set(n,a.data)}),t.addEventListener("dragend",e=>{t.classList.remove("lu-dragging"),r&&e.stopPropagation(),i.size>0&&i.delete(n);const s=t.ownerDocument.querySelector(".lu-dragover");s&&s.classList.remove("lu-dragover")})},e.b=function(t,e,r,o=null,c=!1){t.addEventListener("dragenter",r=>{if(!t.classList.contains("lu-dragging")&&(n(r,...e)||s(r)))return t.classList.add("lu-dragover"),c&&r.stopPropagation(),!1;t.classList.remove("lu-dragover")}),t.addEventListener("dragover",r=>{if(!t.classList.contains("lu-dragging")&&(n(r,...e)||s(r)))return r.preventDefault(),a(r),t.classList.add("lu-dragover"),c&&r.stopPropagation(),o&&o(r),!1}),t.addEventListener("dragleave",t=>{t.target.classList.remove("lu-dragover")}),t.addEventListener("drop",o=>{o.preventDefault(),c&&o.stopPropagation(),a(o);const u=o.dataTransfer.dropEffect;if(t.classList.remove("lu-dragover"),s(o)){const t=o.dataTransfer.getData("text/plain"),e=parseInt(t.indexOf(":")>=0?t.substring(0,t.indexOf(":")):t,10);if(i.has(e)){const t=i.get(e);return i.delete(e),!r({effect:u,data:t},o)}}else if(n(o,...e)){const t={};return e.forEach(e=>{const r=o.dataTransfer.getData(e);""!==r&&(t[e]=r)}),!r({effect:u,data:t},o)}})};const i=new Map;function s(t){return i.size>0&&n(t,"text/plain")}function a(t){const e=t.dataTransfer;!function(t){const e=t.dataTransfer;return Boolean(t.ctrlKey&&e.effectAllowed.match(/copy/gi)||!e.effectAllowed.match(/move/gi))}(t)?e.dropEffect="move":e.dropEffect="copy"}let o=0},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e,r){super(e,{hideOnMoveOutside:!0}),this.column=t,this.ctx=r}build(t){const e=this.column.getRenderer(),r=this.column.getGroupRenderer(),n=this.column.getSummaryRenderer(),{item:i,group:s,summary:a}=this.ctx.getPossibleRenderer(this.column);console.assert(i.length>1||s.length>1||a.length>1),t.insertAdjacentHTML("beforeend",`\n      ${i.map(t=>`<label><input type="radio" name="renderer" value=${t.type}  ${e===t.type?"checked":""}> ${t.label}</label>`).join("")}\n      <h4>Group Visualization</h4>\n      ${s.map(t=>`<label><input type="radio" name="group" value=${t.type}  ${r===t.type?"checked":""}> ${t.label}</label>`).join("")}\n      <h4>Summary Visualization</h4>\n      ${a.map(t=>`<label><input type="radio" name="summary" value=${t.type}  ${n===t.type?"checked":""}> ${t.label}</label>`).join("")}\n    `),Array.from(t.querySelectorAll('input[name="renderer"]')).forEach(t=>{t.addEventListener("change",()=>this.column.setRenderer(t.value))}),Array.from(t.querySelectorAll('input[name="group"]')).forEach(t=>{t.addEventListener("change",()=>this.column.setGroupRenderer(t.value))}),Array.from(t.querySelectorAll('input[name="summary"]')).forEach(t=>{t.addEventListener("change",()=>this.column.setSummaryRenderer(t.value))})}}},function(t,e,r){"use strict";var n=r(55),i=r(7),s=r(164);e.a=class extends i.a{constructor(t,e,r){super(e,{hideOnMoveOutside:!0}),this.column=t,this.ctx=r}open(){Object(s.b)(),super.open()}build(t){t.classList.add("lu-more-options"),Object(n.d)(Object(n.a)(t,this.column,this.ctx,!0),this.column,this.ctx)}}},function(t,e,r){"use strict";var n=r(0),i=r(7);e.a=class extends i.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=t.getMetaData()}build(t){t.classList.add("lu-rename-dialog"),t.insertAdjacentHTML("beforeend",`\n      <input type="text" value="${this.column.label}" required autofocus placeholder="name">\n      <input type="color" value="${this.column.color}" required placeholder="color">\n      <textarea rows="5" placeholder="Description">${this.column.description}</textarea>`)}reset(){this.findInput('input[type="text"]').value=this.before.label,this.findInput('input[type="color"]').value=this.before.color||n.a.DEFAULT_COLOR,this.node.querySelector("textarea").value=this.before.description,this.column.setMetaData(this.before)}submit(){const t=this.findInput('input[type="text"]').value,e=this.findInput('input[type="color"]').value,r=this.node.querySelector("textarea").value;return this.column.setMetaData({label:t,color:e,description:r}),!0}}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=this.column.getFilter()}build(t){t.insertAdjacentHTML("beforeend",`\n     <label><input type="radio" name="boolean_check" value="null" ${null==this.before?'checked="checked"':""}>No Filter</label>\n     <label><input type="radio" name="boolean_check" value="true" ${!0===this.before?'checked="checked"':""}>True</label>\n     <label><input type="radio" name="boolean_check" value="false" ${!1===this.before?'checked="checked"':""}>False</label>\n    `)}updateFilter(t){this.attachment.classList.toggle("lu-filtered",null!=t),this.column.setFilter(t)}reset(){this.forEach('input[type="radio"]',t=>t.checked="null"===t.value),this.updateFilter(null)}submit(){const t=this.findInput('input[type="radio"][value="true"]').checked,e=this.findInput('input[type="radio"][value="false"]').checked;return this.updateFilter(!!t||!e&&null),!0}}},function(t,e,r){"use strict";var n=r(16),i=r(34),s=r(7);e.a=class extends s.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=this.column.getFilter()||{filter:this.column.categories.map(t=>t.name),filterMissing:!1}}build(t){t.classList.add("lu-filter-table"),t.insertAdjacentHTML("beforeend",`<div>\n        ${this.column.categories.map(t=>`<label><input data-cat="${t.name}" type="checkbox"${Object(n.c)(this.before,t)?"checked":""}><span style="background-color: ${t.color}"></span><div>${t.label}</div></label>`).join("")}\n        <label><input type="checkbox" checked><span></span><div>Unselect All</div></label>\n    </div>`),this.findInput("input:not([data-cat])").onchange=function(){Array.from(t.querySelectorAll("input[data-cat]")).forEach(t=>t.checked=this.checked)},t.insertAdjacentHTML("beforeend",Object(i.a)(this.before.filterMissing))}updateFilter(t,e){const r=null==t&&!1===e;this.attachment.classList.toggle("lu-filtered",!r),this.column.setFilter(r?null:{filter:t,filterMissing:e})}reset(){this.forEach("input[data-cat]",t=>t.checked=!0),this.updateFilter(null,!1)}submit(){let t=this.forEach("input[data-cat]",t=>t.checked?t.dataset.cat:"").filter(Boolean);t.length===this.column.categories.length&&(t=null);const e=this.findInput('input[type="checkbox"].lu_filter_missing').checked;return this.updateFilter(t,e),!0}}},function(t,e,r){"use strict";var n=r(8),i=r(16),s=r(34),a=r(7);e.a=class extends a.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=this.column.getFilter()||{filter:this.column.categories.map(t=>t.name),filterMissing:!1}}build(t){t.classList.add("lu-filter-table");const e=this.column.categories.map(t=>Object.assign({range:Object(n.g)(100*t.value,2)}));e.sort((t,e)=>t.label.localeCompare(e.label)),t.insertAdjacentHTML("beforeend",`<div>\n        ${e.map(({name:t,color:e,label:r,range:n})=>`<label><input data-cat="${t}" type="checkbox"${Object(i.c)(this.before,t)?"checked":""}>\n        <input type="number" value="${n}" min="0" max="100" size="5"><div><div style="background-color: ${e}; width: ${n}%"></div></div><div>${r}</div></label>`).join("")}\n        <label><input type="checkbox" checked><div>Unselect All</div></label>\n    </div>`),this.findInput("input[type=checkbox]:not([data-cat])").onchange=function(){Array.from(t.querySelectorAll("[data-cat]")).forEach(t=>t.checked=this.checked)},this.forEach("input[type=number]",t=>{t.oninput=(()=>{t.nextElementSibling.firstElementChild.style.width=`${t.value}%`})}),t.insertAdjacentHTML("beforeend",Object(s.a)(this.before.filterMissing))}updateFilter(t,e){const r=null==t&&!1===e;this.attachment.classList.toggle("lu-filtered",!r),this.column.setFilter(r?null:{filter:t,filterMissing:e})}reset(){this.forEach("[data-cat]",t=>{t.checked=!1,t.nextElementSibling.value="50"}),this.updateFilter(null,!1),this.column.setMapping(this.column.categories.map(()=>1))}submit(){const t=this.forEach("input[data-cat]",t=>({checked:t.checked,cat:t.dataset.cat,range:parseFloat(t.nextElementSibling.value)}));let e=t.filter(t=>t.checked).map(t=>t.cat);e.length===this.column.categories.length&&(e=null);const r=this.findInput('input[type="checkbox"].lu_filter_missing').checked;return this.updateFilter(e,r),this.column.setMapping(t.map(t=>t.range/100)),!0}}},function(t,e,r){"use strict";var n=r(14),i=r(42),s=r(0),a=r(55),o=r(7);e.a=class extends o.a{constructor(t,e,r){super(e,{hideOnMoveOutside:!1}),this.column=t,this.ctx=r,this.id=`.dialog${Math.random().toString(36).slice(-8).substr(0,3)}`}destroy(){this.column.on(Object(n.b)(this.id,s.a.EVENT_ADD_COLUMN,s.a.EVENT_REMOVE_COLUMN),null),super.destroy()}build(t){t.classList.add("lu-sub-nested");const e=()=>{this.column.children.forEach(e=>{const r=Object(a.b)(e,this.ctx,{mergeDropAble:!1,resizeable:!1});r.className=`lu-header${e.isFiltered()?" lu-filtered":""}`,Object(a.f)(r,e);const n=this.ctx.summaryRenderer(e,!1);r.insertAdjacentHTML("beforeend",n.template);const i=r.lastElementChild;i.dataset.renderer=e.getSummaryRenderer(),i.classList.add("lu-summary"),n.update(i,this.ctx.statsOf(e)),t.appendChild(r)})};e(),this.column.on(Object(n.b)(this.id,s.a.EVENT_ADD_COLUMN,s.a.EVENT_REMOVE_COLUMN),Object(i.a)(()=>{t.parentElement?(t.innerHTML="",e()):this.destroy()}))}}},function(t,e,r){"use strict";var n=r(66),i=r(7);e.a=class extends i.a{constructor(t,e,r){super(e,{fullDialog:!0}),this.column=t,this.idPrefix=r,this.innerNodes=Object(n.d)(this.column.hierarchy),this.innerNodePaths=this.innerNodes.map(t=>t.path),this.before=t.getCutOff()}build(t){t.insertAdjacentHTML("beforeend",`\n        <input type="text" value="${this.before.node.label}" required="required" autofocus="autofocus" list="ui${this.idPrefix}lineupHierarchyList" placeholder="cut off node">\n        <input type="number" value="${isFinite(this.before.maxDepth)?this.before.maxDepth:""}" placeholder="max depth (&infin;)">\n        <datalist id="ui${this.idPrefix}lineupHierarchyList">${this.innerNodes.map(t=>`<option value="${t.path}">${t.label}</option>`)}</datalist>`);const e=this.innerNodePaths;this.findInput('input[type="text"]').addEventListener("change",function(){const t=this.value;e.indexOf(t)<0?this.setCustomValidity("invalid node"):this.setCustomValidity("")})}reset(){this.findInput('input[type="text"]').value=this.before.node.label,this.findInput('input[type="number"]').value=isFinite(this.before.maxDepth)?String(this.before.maxDepth):"",this.column.setCutOff(this.before)}submit(){const t=this.findInput('input[type="text"]').value,e=this.innerNodePaths.indexOf(t),r=this.innerNodes[e],n=this.findInput('input[type="number"]').value,i=""===n?1/0:parseInt(n,10);return this.column.setCutOff({node:r,maxDepth:i}),!0}}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e,r){super(e,{fullDialog:!0}),this.column=t,this.idPrefix=r}build(t){const e=this.column.patternTemplates;t.insertAdjacentHTML("beforeend",`<h4>Edit Pattern (access via \${value}, \${item})</h4><input\n        type="text"\n        size="30"\n        value="${this.column.getPattern()}"\n        required\n        autofocus\n        placeholder="pattern (access via \${value}, \${item})"\n        ${e.length>0?`list="ui${this.idPrefix}lineupPatternList"`:""}\n      >`),e.length>0&&t.insertAdjacentHTML("beforeend",`<datalist id="ui${this.idPrefix}lineupPatternList">${e.map(t=>`<option value="${t}">`)}</datalist>`)}reset(){this.node.querySelector("input").value="",this.column.setPattern("")}submit(){const t=this.node.querySelector("input").value;return this.column.setPattern(t),!0}}},function(t,e,r){"use strict";var n=r(8),i=r(2),s=r(17),a=r(7),o=r(341);e.a=class extends a.a{constructor(t,e,r){super(e,{fullDialog:!0}),this.column=t,this.mappingLines=[],this.mappingAdapter={destroyed:t=>{this.mappingLines.splice(this.mappingLines.indexOf(t),1)},updated:()=>this.updateLines(this.computeScale()),domain:()=>this.rawDomain,normalizeRaw:this.normalizeRaw.bind(this),unnormalizeRaw:this.unnormalizeRaw.bind(this)},this.idPrefix=`me${r.idPrefix}`,this.original=this.column.getOriginalMapping(),this.scale=this.column.getMapping().clone();const n=this.scale.domain;this.rawDomain=[n[0],n[n.length-1]],this.summary=r.summaryRenderer(this.column,!0),this.data=Promise.resolve(r.provider.mappingSample(t))}get scaleType(){if(!(this.scale instanceof i.L))return"script";const t=this.scale.scaleType;if("linear"!==t)return t;const e=this.scale.range;return 2===e.length&&1===e[0]&&0===e[1]?"linear_invert":3===e.length&&1===e[0]&&0===e[1]&&1===e[2]?"linear_abs":"linear"}build(t){t.classList.add("lu-dialog-mapper"),t.insertAdjacentHTML("beforeend",`\n        <div><label for="${this.idPrefix}mapping_type"><h4>Mapping / Scaling Type:</h4> <select id="${this.idPrefix}mapping_type">\n        <option value="linear">Linear</option>\n        <option value="linear_invert">Invert</option>\n        <option value="linear_abs">Absolute</option>\n        <option value="log">Log</option>\n        <option value="pow1.1">Pow 1.1</option>\n        <option value="pow2">Pow 2</option>\n        <option value="pow3">Pow 3</option>\n        <option value="sqrt">Sqrt</option>\n        <option value="script">Custom Script</option>\n      </select>\n      </label></div>\n        ${this.summary.template}\n        <h4 data-toggle>Mapping Details</h4>\n        <div class="lu-details"><h4>Domain (min - max): </h4><input id="${this.idPrefix}min" required type="number" value="${Object(n.g)(this.rawDomain[0],3)}" > - <input id="${this.idPrefix}max" required type="number" value="${Object(n.g)(this.rawDomain[1],3)}" ></div>\n        <h4 class="lu-details" style="text-align: center">Input Domain (min - max)</h4>\n        <svg class="lu-details" viewBox="0 0 106 66">\n           <g transform="translate(3,3)">\n              <line x2="100"></line>\n              <rect y="-3" width="100" height="10"></rect>\n              <line y1="60" x2="100" y2="60"></line>\n              <rect y="36" width="100" height="10"></rect>\n           </g>\n        </svg>\n        <h4 class="lu-details" style="text-align: center; margin-top: 0">Output Normalized Domain (0 - 1)</h4>\n        <div class="lu-script">\n          <h4>Custom Mapping Script</h4>\n          <textarea></textarea>\n        </div>`);const e=t.children[1];e.classList.add("lu-summary"),e.dataset.interactive="",e.dataset.renderer=this.column.getSummaryRenderer(),this.find("[data-toggle]").onclick=(t=>{t.stopPropagation(),t.preventDefault();const e=t.currentTarget.dataset;e.toggle="open"===e.toggle?"":"open"});const r=t.querySelector(".lu-details > g");Array.from(t.querySelectorAll(".lu-details rect")).forEach(t=>t.onclick=(e=>{e.preventDefault(),e.stopPropagation();const i=t.getBoundingClientRect(),s=Object(n.g)(100*(e.x-i.left)/i.width,2),a=new o.a(r,s,s,this.mappingAdapter);this.mappingLines.push(a)}));{const e=()=>{if(!(this.scale instanceof i.L))return;const t=this.scale.domain,e=this.scale.range;this.mappingLines.push(...t.map((t,n)=>new o.a(r,this.normalizeRaw(t),100*e[n],this.mappingAdapter)))},n=this.find("select"),s=this.find("textarea");n.onchange=(r=>{const n=r.currentTarget;switch(n.value){case"linear_invert":this.scale=new i.L(this.rawDomain.slice(),"linear",[1,0]);break;case"linear_abs":this.scale=new i.L([this.rawDomain[0],(this.rawDomain[1]-this.rawDomain[0])/2,this.rawDomain[1]],"linear",[1,0,1]);break;case"script":const t=new i.N(this.rawDomain.slice());this.scale=t,s.value=t.code;break;default:this.scale=new i.L(this.rawDomain.slice(),n.value)}this.mappingLines.splice(0,this.mappingLines.length).forEach(t=>t.destroy()),e(),t.dataset.scale=n.value,this.updateLines()});const a=t.dataset.scale=this.scaleType;n.selectedIndex=Array.from(n.options).findIndex(t=>t.value===a),"script"===a&&(s.value=this.scale.code),e()}this.forEach(".lu-details input[type=number]",(t,r)=>t.onchange=(()=>{const s=parseFloat(t.value);if(s===this.rawDomain[r])return void t.setCustomValidity("");const a=this.rawDomain[1-r];isNaN(s)||0===r&&s>=a||1===r&&s<=a?t.setCustomValidity(`value has to be ${0===r?"<= max":">= min"}`):(t.setCustomValidity(""),this.rawDomain[r]=s,this.loadedData&&(this.hist=Object(n.c)(this.loadedData,t=>t,t=>Object(i._26)(t),this.rawDomain),this.summary.update(e,this.hist),this.updateLines()))})),this.data.then(t=>{this.loadedData=t.filter(t=>!Object(i._26)(t)),this.hist=Object(n.c)(this.loadedData,t=>t,()=>!1,this.rawDomain),this.summary.update(e,this.hist),Array.from(this.loadedData).forEach(t=>{r.insertAdjacentHTML("afterbegin",`<line data-v="${t}" x1="${Object(n.g)(this.normalizeRaw(t),2)}" x2="${Object(n.g)(100*this.scale.apply(t),2)}" y2="60"></line>`)})})}update(){const t=this.node.dataset.scale=this.scaleType,e=this.find("select");e.selectedIndex=Array.from(e.options).findIndex(e=>e.value===t),"script"===t&&(this.find("textarea").value=this.scale.code);const r=this.scale.domain;this.forEach(".lu-details input[type=number]",(t,e)=>{t.value=String(r[e])})}updateLines(t=this.scale){Array.from(this.node.querySelectorAll(".lu-details > g > line[x1]")).forEach(e=>{const r=parseFloat(e.getAttribute("data-v"));e.setAttribute("x1",Object(n.g)(this.normalizeRaw(r),2).toString()),e.setAttribute("x2",Object(n.g)(100*t.apply(r),2).toString())})}applyMapping(t,e){this.attachment.classList.toggle("lu-filtered",!t.eq(this.original)||!Object(s.c)(e)),this.column.setMapping(t),this.column.setFilter(e)}reset(){this.scale=this.column.getOriginalMapping(),this.applyMapping(this.scale,Object(i._36)()),this.update(),this.hist&&this.summary.update(this.find(".lu-summary"),this.hist),this.updateLines()}normalizeRaw(t){return 100*(t-this.rawDomain[0])/(this.rawDomain[1]-this.rawDomain[0])}unnormalizeRaw(t){return t*(this.rawDomain[1]-this.rawDomain[0])/100+this.rawDomain[0]}computeScale(){const t=this.scale.clone();return"script"===this.scaleType&&(t.code=this.node.querySelector("textarea").value,t.domain=this.rawDomain.slice()),t instanceof i.L&&(this.mappingLines.sort((t,e)=>t.domain-e.domain),t.domain=this.mappingLines.map(t=>this.unnormalizeRaw(t.domain)),t.range=this.mappingLines.map(t=>t.range/100)),t}submit(){return!!this.node.checkValidity()&&("script"===this.scaleType&&(this.scale.code=this.node.querySelector("textarea").value,this.scale.domain=this.rawDomain.slice()),this.scale instanceof i.L&&(this.mappingLines.sort((t,e)=>t.domain-e.domain),this.scale.domain=this.mappingLines.map(t=>this.unnormalizeRaw(t.domain)),this.scale.range=this.mappingLines.map(t=>t.range/100)),this.applyMapping(this.scale,this.column.getFilter()),!0)}}},function(t,e,r){"use strict";var n=r(155),i=r(54),s=r(27),a=r(7);function o(t){return Math.max(Math.min(t,100),0)}class c extends a.a{constructor(t,e,r){super(e,{hideOnMoveOutside:!0}),this.line=t,this.adapter=r}build(t){const e=this.adapter.domain();t.insertAdjacentHTML("beforeend",`\n        <h4>Input Domain Value (min ... max)</h4>\n        <input type="number" value="${Object(s.e)(this.adapter.unnormalizeRaw(this.line.domain),3)}" ${this.line.frozen?"readonly":""} autofocus required min="${e[0]}" max="${e[1]}" step="any">\n        <h4>Output Normalized Value (0 ... 1)</h4>\n        <input type="number" value="${Object(s.e)(this.line.range/100,3)}" required min="0" max="1" step="any">\n        <button type="button" ${this.line.frozen?"disabled":""} >Remove Mapping Line</button>\n      `),this.forEach("input",t=>t.onchange=(()=>this.submit())),this.find("button").addEventListener("click",()=>{this.destroy(),this.line.destroy()})}submit(){if(!this.node.checkValidity())return!1;const t=this.adapter.normalizeRaw(parseFloat(this.findInput("input[type=number]").value)),e=100*parseFloat(this.findInput("input[type=number]:last-of-type").value);return this.line.update(t,e),!0}}e.a=class{constructor(t,e,r,a){this.domain=e,this.range=r,this.adapter=a,t.insertAdjacentHTML("beforeend",`<g class="lu-mapping" transform="translate(${e},0)">\n      <line x1="0" x2="${r-e}" y2="60"></line>\n      <line x1="0" x2="${r-e}" y2="60"></line>\n      <circle r="3"></circle>\n      <circle cx="${r-e}" cy="60" r="3"></circle>\n      <title>Drag the anchor circle to change the mapping, shift click to edit</title>\n    </g>`),this.node=t.lastElementChild,this.node.classList.toggle("lu-frozen",Object(s.f)(0,e)||Object(s.f)(e,100)),this.$select=Object(i.d)(this.node);{let t,e,r,a;this.$select.selectAll("line:first-of-type, circle").call(Object(n.a)().container(function(){return this.parentNode.parentNode}).filter(()=>0===i.b.button&&!i.b.shiftKey).on("start",()=>{t=this.domain,e=this.range;const n=i.b;r=this.domain-n.x,a=this.range-n.x}).on("drag",(t,e)=>{const n=i.b;switch(e){case 0:this.update(o(n.x+r),o(n.x+a));break;case 1:this.update(o(n.x),this.range);break;case 2:this.update(this.domain,o(n.x))}}).on("end",()=>{Object(s.f)(t,this.domain)&&Object(s.f)(e,this.range)||this.adapter.updated(this)}))}this.node.onclick=(t=>{t.shiftKey&&new c(this,this.node,this.adapter).open()})}get frozen(){return this.node.classList.contains("lu-frozen")}destroy(){this.node.remove(),this.adapter.destroyed(this)}update(t,e){if(Object(s.f)(t,this.domain)&&Object(s.f)(e,this.range))return;this.frozen&&(t=this.domain),this.domain=t,this.range=e,this.node.setAttribute("transform",`translate(${t},0)`);const r=e-t;this.$select.selectAll("line").attr("x2",String(r)),this.$select.select("circle[cx]").attr("cx",String(r))}}},function(t,e,r){"use strict";var n=r(4),i=r(7),s=r(73);e.a=class extends i.a{constructor(t,e){super(e,{hideOnMoveOutside:!0}),this.column=t}build(t){const e={getSortMethod:()=>this.column.getReduce(),setSortMethod:t=>this.column.setReduce(t)};Object(s.b)(t,e,Object.keys(n.b))}}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=t.getScript()}build(t){t.insertAdjacentHTML("beforeend",`<textarea autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">${this.column.getScript()}</textarea>`)}reset(){this.node.querySelector("textarea").value=this.before,this.column.setScript(this.before)}submit(){return this.column.setScript(this.node.querySelector("textarea").value),!0}}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e,r){super(e,{hideOnMoveOutside:!0}),this.column=t,this.provider=r}build(t){t.insertAdjacentHTML("beforeend",'<input type="text" size="15" value="" required autofocus placeholder="search..."><label><input type="checkbox">RegExp</label>');const e=t.querySelector('input[type="text"]'),r=t.querySelector('input[type="checkbox"]'),n=()=>{let t=e.value;t.length<3||(r.checked&&(t=new RegExp(t)),this.provider.searchAndJump(t,this.column))};e.addEventListener("input",n),r.addEventListener("change",n)}}},function(t,e,r){"use strict";var n=r(7),i=r(73);e.a=class extends n.a{constructor(t,e){super(e,{hideOnMoveOutside:!0}),this.column=t}build(t){Object(i.b)(t,this.column,["min","max","median"]),Object(i.c)(t,this.column)}}},function(t,e,r){"use strict";var n=r(7),i=r(73);e.a=class extends n.a{constructor(t,e){super(e,{hideOnMoveOutside:!0}),this.column=t}build(t){Object(i.b)(t,this.column,["name","count"]),Object(i.c)(t,this.column,!0)}}},function(t,e,r){"use strict";var n=r(7);e.a=class extends n.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.before=this.column.getStratifyThresholds()}build(t){if(this.column.isGroupedBy()>=0)return this.column.groupByMe(),!1;const e=this.column.getOriginalMapping().domain;return t.insertAdjacentHTML("beforeend",`<h4>Threshold: </h4><input\n        type="number"\n        size="15"\n        value="${this.before.length>0?this.before[0]:(e[1]-e[0])/2}"\n        required\n        autofocus\n        min="${e[0]}"\n        max="${e[1]}"\n        step="any"\n      >`),!0}reset(){const t=this.column.getOriginalMapping().domain;this.findInput('input[type="number"]').value=`${this.before.length>0?this.before[0]:(t[1]-t[0])/2}`,this.column.setStratifyThresholds(this.before)}submit(){const t=+this.findInput('input[type="number"]').value;return this.column.setStratifyThresholds([t]),this.column.groupByMe(),!0}}},function(t,e,r){"use strict";var n=r(18),i=r(34),s=r(7);e.a=class extends s.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t}updateFilter(t){this.attachment.classList.toggle("lu-filtered",null!=t&&""!==t),this.column.setFilter(t)}reset(){this.findInput('input[type="text"]').value="",this.forEach("input[type=checkbox",t=>t.checked=!1),this.updateFilter(null)}submit(){const t=this.findInput('input[type="checkbox"].lu_filter_missing').checked;if(t)return this.updateFilter(n.b.FILTER_MISSING),!0;const e=this.findInput('input[type="text"]').value,r=this.findInput('input[type="checkbox"]:first-of-type').checked;return this.updateFilter(r?new RegExp(e):e),!0}build(t){let e=this.column.getFilter()||"";const r=e===n.b.FILTER_MISSING;r&&(e=""),t.insertAdjacentHTML("beforeend",`<input type="text" placeholder="containing..." autofocus value="${e instanceof RegExp?e.source:e}" style="width: 100%">\n    <label><input type="checkbox" ${e instanceof RegExp?'checked="checked"':""}>RegExp</label>\n    ${Object(i.a)(r)}`);const s=t.querySelector('input[type="checkbox"].lu_filter_missing'),a=t.querySelector('input[type="text"]'),o=t.querySelector('input[type="checkbox"]:first-of-type'),c=()=>{if(a.disabled=s.checked,o.disabled=s.checked,s.checked)return void this.updateFilter(n.b.FILTER_MISSING);const t=a.value.trim();s.disabled=t.length>0,t.length<=0?this.updateFilter(null):this.updateFilter(o.checked?new RegExp(a.value):a.value)};s.onchange=c,a.onchange=c,o.onchange=c}}},function(t,e,r){"use strict";var n=r(8),i=r(7);e.a=class extends i.a{constructor(t,e){super(e,{fullDialog:!0}),this.column=t,this.weights=this.column.getWeights()}reset(){Array.from(this.node.querySelectorAll("input[type=number]")).forEach(t=>{const e=Object(n.g)(100/this.weights.length,2);t.value=String(e),t.nextElementSibling.style.width=`${e}%`}),this.column.setWeights(this.weights.slice().fill(100/this.weights.length))}build(t){t.classList.add("lu-filter-table");const e=this.column.children;t.insertAdjacentHTML("beforeend",`<div>\n        ${this.weights.map((t,r)=>`<div><input type="number" value="${Object(n.g)(100*t,2)}" min="0" max="100" size="5"><span style="background-color: ${e[r].color}; width: ${Object(n.g)(100*t,2)}%"></span>${e[r].label}</div>`).join("")}\n    </div>`),this.forEach("input[type=number]",t=>{t.oninput=(()=>{t.nextElementSibling.style.width=`${t.value}px`})})}submit(){const t=this.forEach("input[type=number]",t=>parseFloat(t.value)/100);return this.column.setWeights(t),!0}}},function(t,e,r){"use strict";e.a=function(t){return{apply:(e,r,i)=>{const{violation:s,height:a}=function(e,r,i){const s=r-t.rowHeight-5,a=e.filter(t=>!Object(n._22)(t)),o=e.length-a.length,c=a.reduce((t,e)=>t+("last"===e.meta||"first last"===e.meta?1:0),0),u=a.reduce((t,e)=>t+(i.has(e.i)?1:0),0),l=a.length-u,h=o+c;if(l<=0)return{height:t.rowHeight,violation:""};const d=(s-o*t.groupHeight-h*t.groupPadding-u*t.rowHeight)/l;if(d<1)return{height:1,violation:"Not possible to fit all rows on the screen. Set filters or aggregate groups to make it fit again."};if(d>t.rowHeight)return{height:t.rowHeight,violation:""};return{height:d,violation:""}}(e,r,i);return{item:e=>{if(i.has(e.i))return t.rowHeight;return a},group:t.groupHeight,violation:s}},levelOfDetail:function(e,r){const i=Object(n._22)(e)?t.groupHeight:t.rowHeight;if(r>=.9*i)return"high";return"low"}}};var n=r(2)},function(t,e,r){"use strict";var n=r(36),i=r(74),s=r(352);e.a=class{constructor(t,e,r={}){this.node=t,this.tableId=0,this.sections=[],this.visible={first:0,forcedFirst:0,last:0,forcedLast:0},this.options={columnPadding:0},this.context=Object(n.d)(0,500),Object.assign(this.options,r),t.innerHTML="<header></header><main></main>",t.classList.add("lineup-engine","lineup-multi-engine"),this.style=new s.a(this.node,e);const i=this.main;let a=i.scrollLeft;i.addEventListener("scroll",()=>{const t=i.scrollLeft;if(t===a)return;const e=t>a;a=t,this.onScrolledHorizontally(t,i.clientWidth,e)})}update(){this.context=Object(n.b)(this.sections.map(t=>t.width),NaN,this.options.columnPadding),this.updateGrid(),this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1)}updateGrid(){const t=s.a.gridColumn(this.sections);this.style.updateRule("multiTableRule",`${this.style.id} > header, ${this.style.id} > main { ${t} }`)}onScrolledHorizontally(t,e,r){const{first:s,last:a}=Object(n.c)(t,e,this.context.defaultRowHeight,this.context.exceptions,this.context.numberOfRows),o=this.visible;o.forcedFirst=s,o.forcedLast=a;let c=0;return this.sections.forEach((n,i)=>{i>=s&&i<=a?n.show(Math.max(0,t-c),Math.min(t+e-c,n.width),r):n.hide(),c+=n.width}),o.first=s,o.last=a,i.a.PARTIAL}destroy(){this.sections.forEach(t=>t.destroy()),this.node.remove()}get doc(){return this.node.ownerDocument}get header(){return this.node.querySelector("header")}get main(){return this.node.querySelector("main")}pushTable(t,...e){const r=this.doc.createElement("article"),n=this.doc.createElement("article"),i=`T${this.tableId++}`,s=this.style.tableIds(i);r.id=s.header,n.id=s.body,this.header.appendChild(r),this.main.appendChild(n);const a=t(r,n,i,this.style,...e);return a.init(),this.sections.push(a),this.update(),a}pushSeparator(t,...e){const r=this.doc.createElement("section"),n=this.doc.createElement("section");this.header.appendChild(r),this.main.appendChild(n);const i=t(r,n,this.style,...e);return i.init(),this.sections.push(i),this.update(),i}remove(t){const e=this.sections.indexOf(t);return!(e<0||(this.sections.splice(e,1),t.destroy(),this.update(),0))}widthChanged(){this.update()}}},function(t,e,r){"use strict";var n=r(353),i=(r.n(n),r(112));r.d(e,"a",function(){return i.a});r(176)},function(t,e){},function(t,e,r){"use strict";var n=r(355),i=r(74),s=r(359);e.a=class extends n.a{constructor(t,e,r,n,i={}){super(e,i),this.header=t,this.tableId=r,this.style=n;const a=this;class o extends s.a{get context(){return a.context}createHeader(t,e){return a.createHeader(t,e)}updateHeader(t,e){return a.updateHeader(t,e)}createCell(t,e,r){return a.createCell(t,e,r)}updateCell(t,e,r){return a.updateCell(t,e,r)}forEachRow(t){return a.forEachRow(t)}}this.cell=new o(this.header,this.style,r,...i.mixins||[])}addColumnMixin(t,e){this.cell.addColumnMixin(t,e)}get width(){return this.context.column.totalHeight}get hidden(){return this.header.classList.contains("loading")}set hidden(t){const e=this.hidden;e!==t&&(this.header.classList.toggle("loading",t),this.body.classList.toggle("loading",t),this.onVisibilityChanged(!t))}onVisibilityChanged(t){}hide(){this.hidden=!0}show(t,e,r){this.hidden=!1,this.cell.onScrolledHorizontally(t,e,r)}init(){this.hide(),this.cell.init(),super.init()}destroy(){super.destroy(),this.header.remove(),this.style.remove(this.tableId)}onScrolledVertically(t,e,r){return this.hidden?i.a.NONE:super.onScrolledVertically(t,e,r)}onScrolledHorizontally(t,e,r){return this.cell.onScrolledHorizontally(t,e,r)}updateHeaders(){this.cell.updateHeaders()}updateColumnWidths(){const t=this.context;this.style.update(t.defaultRowHeight-t.padding(-1),t.columns,t.column.padding,this.tableId)}recreate(t){const e=this.bodyScroller,r=e.scrollLeft;this.cell.recreate(r,e.clientWidth),super.recreate(t),e.scrollLeft=r}clearPool(){super.clearPool(),this.cell.clearPool()}createRow(t,e){this.cell.createRow(t,e)}updateRow(t,e){this.cell.updateRow(t,e)}}},function(t,e,r){"use strict";(function(t){var n=r(358),i=r(178),s=r(179),a=r(36),o=r(74);class c{constructor(t,e={}){this.body=t,this.pool=[],this.loadingPool=[],this.loading=new Map,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.abortAnimation=(()=>void 0),this.options={async:Boolean(window.chrome)?"animation":"immediate",minScrollDelta:3,mixins:[],scrollingHint:!1},this.adapter=this.createAdapter(),Object.assign(this.options,e),this.mixins=this.options.mixins.map(t=>new t(this.adapter)),this.fragment=t.ownerDocument.createDocumentFragment()}addMixin(t,e){this.mixins.push(new t(this.adapter,e))}createAdapter(){const t={visible:this.visible,addAtBeginning:this.addAtBeginning.bind(this),addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:this.removeFromBeginning.bind(this),removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),scroller:this.bodyScroller};return Object.defineProperties(t,{visibleFirstRowPos:{get:()=>this.visibleFirstRowPos,enumerable:!0},context:{get:()=>this.context,enumerable:!0}}),t}get bodyScroller(){return this.body.parentElement}init(){const t=this.bodyScroller;let e=t.scrollTop;const r=()=>{const r=t.scrollTop;if(Math.abs(e-r)<this.options.minScrollDelta)return;const n=r>e;e=r,this.onScrolledVertically(r,t.clientHeight,n),this.options.scrollingHint&&t.classList.remove("le-scrolling")};this.scrollListener=this.createDelayedHandler(r,()=>{this.options.scrollingHint&&t.classList.add("le-scrolling")}),t.addEventListener("scroll",this.scrollListener),this.recreate()}createDelayedHandler(e,r){const n="function"==typeof window.setImmediate;let i;i="immediate"===this.options.async&&n?t:"animation"===this.options.async||"immediate"===this.options.async?requestAnimationFrame:"number"==typeof this.options.async?t=>self.setTimeout(t,this.options.async):t=>(t(),-1);let s=-1;const a=()=>{s=-1,e()};return()=>{r&&r(),s>-1||(s=i(a))}}destroy(){this.bodyScroller.removeEventListener("scroll",this.scrollListener),this.body.remove()}static cleanUp(t){t.style.height&&(t.style.height=null)}select(t){let e,r;return this.pool.length>0?(e=this.pool.pop(),r=this.updateRow(e,t)):this.loadingPool.length>0?((e=this.loadingPool.pop()).classList.remove("loading"),r=this.createRow(e,t)):(e=this.body.ownerDocument.createElement("div"),r=this.createRow(e,t)),e.dataset.index=String(t),{item:e,result:r}}selectProxy(){let t;return this.loadingPool.length>0?t=this.loadingPool.pop():(t=this.body.ownerDocument.createElement("div")).classList.add("loading"),t}recycle(t){(c.cleanUp(t),this.loading.has(t))?this.loading.get(t).abort():this.pool.push(t)}proxy(t,e){if(!Object(n.b)(e))return t;const r=e,i=t,s=this.selectProxy();return s.dataset.index=i.dataset.index,s.style.height=i.style.height,this.loading.set(s,r),r.then(t=>{t===n.a?(c.cleanUp(i),this.pool.push(i)):this.body.replaceChild(i,s),this.loading.delete(s),c.cleanUp(s),this.loadingPool.push(s)}),s}create(t){const{item:e,result:r}=this.select(t),{exceptionsLookup:n,padding:i}=this.context;return n.has(t)&&(e.style.height=`${n.get(t)-i(t)}px`),this.proxy(e,r)}removeAll(){const t=Array.from(this.body.children);this.body.innerHTML="",t.forEach(t=>{this.recycle(t)})}update(){const t=this.visible.first,e=this.fragment,r=Array.from(this.body.children);this.body.innerHTML="",r.forEach((r,n)=>{if(this.loading.has(r))return;const i=this.updateRow(r,n+t);e.appendChild(this.proxy(r,i))}),this.body.appendChild(e)}forEachRow(t,e=!1){const r=Array.from(this.body.children),n=this.fragment;e||(this.body.innerHTML=""),r.forEach((r,i)=>{r.classList.contains("loading")||"update_remove"===r.dataset.animation||"hide"===r.dataset.animation||t(r,i+this.visible.first),e||n.appendChild(r)}),e||this.body.appendChild(n)}removeFromBeginning(t,e){return this.remove(t,e,!0)}removeFromBottom(t,e){return this.remove(t,e,!1)}remove(t,e,r){for(let n=t;n<=e;++n){const t=r?this.body.firstChild:this.body.lastChild;t.remove(),this.recycle(t)}}addAtBeginning(t,e){if(t===e)return void this.body.insertBefore(this.create(t),this.body.firstChild);const r=this.fragment;for(let n=t;n<=e;++n)r.appendChild(this.create(n));this.body.insertBefore(r,this.body.firstChild)}addAtBottom(t,e){if(t===e)return void this.body.appendChild(this.create(t));const r=this.fragment;for(let n=t;n<=e;++n)r.appendChild(this.create(n));this.body.appendChild(r)}updateOffset(t){const{totalHeight:e}=this.context;this.visibleFirstRowPos=t,this.body.classList.toggle("odd",this.visible.first%2==1),this.body.style.transform=`translate(0, ${t.toFixed(0)}px)`,this.body.style.height=`${Math.max(1,e-t).toFixed(0)}px`}recreate(t){return this.abortAnimation(),t?this.recreateAnimated(t):this.recreatePure()}recreatePure(){const t=this.context,e=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();const{first:r,last:n,firstRowPos:i}=Object(a.c)(e.scrollTop,e.clientHeight,t.defaultRowHeight,t.exceptions,t.numberOfRows);this.visible.first=this.visible.forcedFirst=r,this.visible.last=this.visible.forcedLast=n,r<0?this.updateOffset(0):(this.addAtBottom(r,n),this.updateOffset(i))}recreateAnimated(t){const e=new Map,r=new s.a(t.previous,t.previousKey),n=new s.a(this.context,t.currentKey),o=Object(a.c)(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,n.context.defaultRowHeight,n.context.exceptions,n.context.numberOfRows);{const t=Array.from(this.body.children),n=Object.assign({},this.visible);r.positions(n.first,Math.min(n.last,n.first+t.length),this.visibleFirstRowPos,(r,n,i)=>{const s=t[r];s&&e.set(n,{n:s,pos:i,i:r})}),this.body.innerHTML=""}this.visible.first=this.visible.forcedFirst=o.first,this.visible.last=this.visible.forcedLast=o.last;const c=this.fragment,u=[];let l=o.firstRowPos;n.positions(o.first,o.last,o.firstRowPos,(t,s,a)=>{let o,h,d=i.a.UPDATE;if(e.has(s)){const n=e.get(s);e.delete(s),n.n.dataset.index=String(t),o=this.proxy(n.n,this.updateRow(n.n,t)),h={index:n.i,y:n.pos,height:r.exceptionHeightOf(n.i,!0)}}else{const e=r.posByKey(s);o=this.create(t),d=e.index<0?i.a.SHOW:i.a.UPDATE_CREATE,h={index:e.index,y:e.pos>=0?e.pos:a,height:e.index<0?n.exceptionHeightOf(t,!0):r.exceptionHeightOf(e.index,!0)}}u.push({node:o,key:s,mode:d,previous:h,nodeY:l,nodeYCurrentHeight:a,current:{index:t,y:a,height:n.exceptionHeightOf(t)}}),o.style.transform=`translate(0, ${l-a}px)`,l+=h.height+(h.index<0?n.padding(t):r.padding(h.index)),c.appendChild(o)});let h=o.endPos;e.forEach((t,e)=>{const s=n.posByKey(e),a=s.pos>=0?s.pos:t.pos,o=t.n;o.style.transform=`translate(0, ${t.pos-l}px)`,c.appendChild(o);const d=r.exceptionHeightOf(t.i,!0);u.push({node:t.n,key:e,mode:s.index<0?i.a.HIDE:i.a.UPDATE_REMOVE,previous:{index:t.i,y:t.pos,height:d},nodeY:l,nodeYCurrentHeight:h,current:{index:s.index,y:a,height:s.index<0?null:n.exceptionHeightOf(s.index)}}),h+=s.index<0?n.context.defaultRowHeight:n.exceptionHeightOf(s.index,!0)+n.padding(s.index),l+=d+r.padding(t.i)}),this.updateOffset(o.firstRowPos),this.animate(u,t.phases||i.b,r,n,c)}animate(t,e,r,n,s){if(t.length<=0)return void this.body.appendChild(s);let a=-1,o=0;const c=(e,i=t)=>{i.forEach(t=>e.apply(t,r,n))},u=()=>{if(console.assert(t[0].node.offsetTop>=0,"dummy log for forcing dom update"),c(e[o++]),o<e.length){const t=e[o];return void(a=setTimeout(u,t.delay))}const r=this.body.classList;Array.from(r).forEach(t=>{t.startsWith("le-")&&t.endsWith("-animation")&&r.remove(t)}),t.forEach(({node:t,mode:e})=>{e!==i.a.UPDATE_REMOVE&&e!==i.a.HIDE||(t.remove(),t.style.transform=null,this.recycle(t))}),this.abortAnimation=(()=>void 0),a=-1};for(;0===e[o].delay;)c(e[o++]);const l=this.body;this.body.appendChild(s);const h=[];t=t.filter(t=>!Object(i.c)(t,r.context.defaultRowHeight,n.context.defaultRowHeight)||(h.push(t),!1)),h.length>0&&e.slice(o).forEach(t=>c(t,h)),0!==t.length&&(l.classList.add("le-row-animation"),new Set(t.map(t=>t.mode)).forEach(t=>{l.classList.add(`le-${i.a[t].toLowerCase().split("_")[0]}-animation`)}),this.abortAnimation=(()=>{a<=0||(clearTimeout(a),a=-1,o=e.length-1,u())}),a=setTimeout(u,e[o].delay))}clearPool(){this.pool.splice(0,this.pool.length)}revalidate(){const t=this.bodyScroller;this.onScrolledVertically(t.scrollTop,t.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)}onScrolledVertically(t,e,r){const n=this.onScrolledImpl(t,e);return this.mixins.forEach(t=>t.onScrolled(r,n)),n}onScrolledImpl(t,e){const r=this.context,{first:n,last:i,firstRowPos:s}=Object(a.c)(t,e,r.defaultRowHeight,r.exceptions,r.numberOfRows),c=this.visible;if(c.forcedFirst=n,c.forcedLast=i,n-c.first>=0&&i-c.last<=0)return o.a.NONE;let u=o.a.PARTIAL;return n>c.last||i<c.first?(this.removeAll(),this.addAtBottom(n,i),u=o.a.ALL):n<c.first?(this.removeFromBottom(i+1,c.last),this.addAtBeginning(n,c.first-1)):(this.removeFromBeginning(c.first,n-1),this.addAtBottom(c.last+1,i)),c.first=n,c.last=i,this.updateOffset(s),u}}e.a=c}).call(e,r(356).setImmediate)},function(t,e,r){var n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(357),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,s,a,o,c=1,u={},l=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){s.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),n=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return u[c]=i,n(c),c++},d.clearImmediate=f}function f(t){delete u[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{f(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(77),r(125))},function(t,e,r){"use strict";e.b=function(t){return void 0!==t&&null!==t&&t&&"function"==typeof t.then&&"function"==typeof t.abort};const n=Symbol("aborted");e.a=n},function(t,e,r){"use strict";var n=r(36),i=r(74),s=r(112);const a=!1;function o(t,e,r){const n=Array.from(t.children);if(n.length<=1)return;const i=n.map(t=>r.find(e=>e.id===t.dataset.id));console.assert(i.every(t=>Boolean(t)),"all columns must exist",e),console.assert(i.every((t,e)=>0===e||t.index>=i[e-1].index),"all columns in ascending order",e),console.assert(new Set(i).size===i.length,"unique columns",i)}e.a=class{constructor(t,e,r,...n){this.header=t,this.style=e,this.tableId=r,this.cellPool=[],this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=n.map(t=>new t(this.columnAdapter)),this.columnFragment=t.ownerDocument.createDocumentFragment()}get headerScroller(){return this.header.parentElement}addColumnMixin(t,e){this.columnMixins.push(new t(this.columnAdapter,e))}createColumnAdapter(){const t={visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this)};return Object.defineProperties(t,{visibleFirstRowPos:{get:()=>this.visibleFirstColumnPos,enumerable:!0},context:{get:()=>this.context.column,enumerable:!0}}),t}init(){const t=this.context;this.style.update(t.defaultRowHeight-t.padding(-1),t.columns,t.column.padding,this.tableId),t.columns.forEach(()=>{this.cellPool.push([])})}onScrolledHorizontally(t,e,r){const n=this.onScrolledHorizontallyImpl(t,e);return this.columnMixins.forEach(t=>t.onScrolled(r,n)),n}removeColumnFromStart(t,e,r=this.visibleColumns.frozen.length){this.forEachRow(n=>{this.removeCellFromStart(n,t,e,r)}),a&&this.verifyRows()}removeCellFromStart(t,e,r,n){for(let i=e;i<=r;++i){const e=0===n?t.firstElementChild:t.children[n];e.remove(),this.recycleCell(e,i)}a&&o(t,-1,this.context.columns)}removeColumnFromEnd(t,e){this.forEachRow(r=>{this.removeCellFromEnd(r,t,e)}),a&&this.verifyRows()}removeCellFromEnd(t,e,r){for(let n=r;n>=e;--n){const e=t.lastElementChild;e.remove(),this.recycleCell(e,n)}a&&o(t,-1,this.context.columns)}removeFrozenCells(t,e,r){for(const n of e){const e=t.children[r];e.remove(),this.recycleCell(e,n)}a&&o(t,-1,this.context.columns)}removeFrozenColumns(t,e){this.forEachRow(r=>{this.removeFrozenCells(r,t,e)}),a&&this.verifyRows()}removeAllColumns(t){this.forEachRow(e=>{this.removeAllCells(e,t)}),a&&this.verifyRows()}removeAllCells(t,e,r=this.visibleColumns.first){const n=Array.from(t.children),i=this.visibleColumns.frozen;if(t.innerHTML="",e||0===i.length)for(const t of i)this.recycleCell(n.shift(),t);else for(const e of i)t.appendChild(n.shift());n.forEach((t,e)=>{this.recycleCell(t,e+r)}),a&&o(t,-1,this.context.columns)}selectCell(t,e,r){const n=this.cellPool[e],i=r[e];if(n.length>0){const e=n.pop(),r=this.updateCell(e,t,i);return r&&r!==e&&Object(s.b)(r,i),r||e}const a=this.createCell(this.header.ownerDocument,t,i);return Object(s.b)(a,i),a}recycleCell(t,e){this.cellPool[e].push(t)}addColumnAtStart(t,e,r=this.visibleColumns.frozen.length){const{columns:n}=this.context;this.forEachRow((i,s)=>{this.addCellAtStart(i,s,t,e,r,n)}),a&&this.verifyRows()}addCellAtStart(t,e,r,n,i,s){a&&o(t,e,this.context.columns);for(let a=n;a>=r;--a){const r=this.selectCell(e,a,s);t.insertBefore(r,i>0?t.children[i]:t.firstChild)}a&&o(t,e,this.context.columns)}insertFrozenCells(t,e,r,n,i){const s=t.children[n];for(const n of r){const r=this.selectCell(e,n,i);s?t.insertBefore(r,s):t.appendChild(r)}}insertFrozenColumns(t,e){const{columns:r}=this.context;this.forEachRow((n,i)=>{this.insertFrozenCells(n,i,t,e,r)})}addColumnAtEnd(t,e){const{columns:r}=this.context;this.forEachRow((n,i)=>{this.addCellAtEnd(n,i,t,e,r)}),a&&this.verifyRows()}verifyRows(){const{columns:t}=this.context;this.forEachRow((e,r)=>o(e,r,t))}addCellAtEnd(t,e,r,n,i){for(let s=r;s<=n;++s){const r=this.selectCell(e,s,i);t.appendChild(r)}a&&o(t,e,this.context.columns)}updateHeaders(){const{columns:t}=this.context;Array.from(this.header.children).forEach((e,r)=>{this.updateHeader(e,t[r])})}recreate(t,e){const r=this.context;void 0===r.hasFrozenColumns&&(r.hasFrozenColumns=r.columns.some(t=>t.frozen)),this.style.update(r.defaultRowHeight-r.padding(-1),r.columns,r.column.padding,this.tableId),this.clearPool();for(let t=this.cellPool.length;t<r.columns.length;++t)this.cellPool.push([]);{const t=this.columnFragment,e=t.ownerDocument;this.header.innerHTML="",r.columns.forEach(r=>{const n=this.createHeader(e,r);Object(s.b)(n,r),t.appendChild(n)}),this.header.appendChild(t)}const{first:i,last:a,firstRowPos:o}=Object(n.c)(t,e,r.column.defaultRowHeight,r.column.exceptions,r.column.numberOfRows);if(this.visibleColumns.first=this.visibleColumns.forcedFirst=i,this.visibleColumns.last=this.visibleColumns.forcedLast=a,r.hasFrozenColumns){const{target:t}=Object(n.e)([],r.columns,i);this.visibleColumns.frozen=t}this.updateColumnOffset(o)}clearPool(){this.cellPool.forEach(t=>t.splice(0,t.length))}updateColumnOffset(t){this.visibleFirstColumnPos=t}createRow(t,e){const{columns:r,hasFrozenColumns:n}=this.context,i=this.visibleColumns;if(n)for(const n of i.frozen){const i=this.selectCell(e,n,r);t.appendChild(i)}for(let n=i.first;n<=i.last;++n){const i=this.selectCell(e,n,r);t.appendChild(i)}}updateRow(t,e){const{columns:r,hasFrozenColumns:i}=this.context,a=this.visibleColumns,o=Array.from(t.children);switch(o.length){case 0:i&&this.insertFrozenCells(t,e,a.frozen,0,r),this.addCellAtEnd(t,e,a.first,a.last,r);break;case 1:const c=o[0],u=c.dataset.id,l=r.findIndex(t=>t.id===u);t.removeChild(c),this.recycleCell(c,l),i&&this.insertFrozenCells(t,e,a.frozen,0,r),this.addCellAtEnd(t,e,a.first,a.last,r);break;default:if(i){const i=[];for(const t of o){const e=t.dataset.id,n=r.findIndex(t=>t.id===e);if(!r[n].frozen)break;i.push(n)}const{common:c,removed:u,added:l}=Object(n.a)(i,a.frozen);o.slice(0,c).forEach((n,a)=>{const o=r[i[a]],c=this.updateCell(n,e,o);c&&c!==n&&(Object(s.b)(c,o),t.replaceChild(c,n))}),this.removeFrozenCells(t,u,c),this.insertFrozenCells(t,e,l,c,r),o.splice(0,i.length)}if(0===o.length)break;const h=o[0].dataset.id,d=o[o.length-1].dataset.id,f=r.findIndex(t=>t.id===h),p=r.findIndex(t=>t.id===d),g=a.frozen.length;f===a.first&&p===a.last?o.forEach((n,i)=>{const o=r[i+a.first],c=this.updateCell(n,e,o);c&&c!==n&&(Object(s.b)(c,o),t.replaceChild(c,n))}):a.last>f||a.first<p?(this.removeAllCells(t,!1,f),this.addCellAtStart(t,e,a.first,a.last,g,r)):a.first<f?(this.removeCellFromEnd(t,a.last+1,f),this.addCellAtStart(t,e,a.first,f-1,g,r)):(this.removeCellFromStart(t,f,a.first-1,g),this.addCellAtEnd(t,e,p+1,a.last,r))}}syncFrozen(t){const{columns:e,hasFrozenColumns:r}=this.context,i=this.visibleColumns;if(!r)return 0;if(0===t)return i.frozen.length>0&&(this.removeFrozenColumns(i.frozen,0),i.frozen=[]),0;const s=i.frozen.length,{target:a,added:o,removed:c}=Object(n.e)(i.frozen,e,t);return c.length>0&&this.removeFrozenColumns(c,s-c.length),o.length>0&&this.insertFrozenColumns(o,s-c.length),i.frozen=a,a.length}onScrolledHorizontallyImpl(t,e){const{column:r}=this.context,{first:s,last:a,firstRowPos:o}=Object(n.c)(t,e,r.defaultRowHeight,r.exceptions,r.numberOfRows),c=this.visibleColumns;if(c.forcedFirst=s,c.forcedLast=a,s-c.first>=0&&a-c.last<=0)return i.a.NONE;let u=i.a.PARTIAL;const l=this.syncFrozen(s);return s>c.last||a<c.first?(this.removeAllColumns(!1),this.addColumnAtEnd(s,a),u=i.a.ALL):s<c.first?(this.removeColumnFromEnd(a+1,c.last),this.addColumnAtStart(s,c.first-1,l)):(this.removeColumnFromStart(c.first,s-1,l),this.addColumnAtEnd(c.last+1,a)),c.first=s,c.last=a,this.updateColumnOffset(o),u}}},function(t,e,r){"use strict";e.a=function(t,e,r){const o=t=>a(e[t]),c=t=>a(r[t]),u=e.reduce((t,e)=>t+(Object(i._22)(e)?1:0),0),l=r.reduce((t,e)=>t+(Object(i._22)(e)?1:0),0);if(u===l)return{currentKey:c,previous:t,previousKey:o};let h;let d;const f=[Object.assign({},n.b[0],{apply(t,a){n.b[0].apply(t),t.mode===n.a.SHOW&&(t.node.style.transform=`translate(0, ${((t,n,a)=>{h||(h=s(e));const c=r[t],u=Object(i._22)(c)?h.group2firstItemIndex.get(c.name):h.item2groupIndex.get(c.i);if(void 0===u)return a;const l=n.posByKey(o(u));return l.pos>=0?l.pos:a})(t.current.index,a,t.previous.y)-t.nodeY}px)`)}}),Object.assign({},n.b[1],{apply(t,a,o){n.b[1].apply(t),t.mode===n.a.HIDE&&(t.node.style.transform=`translate(0, ${((t,n,a)=>{d||(d=s(r));const o=e[t],u=Object(i._22)(o)?d.group2firstItemIndex.get(o.name):d.item2groupIndex.get(o.i);if(void 0===u)return a;const l=n.posByKey(c(u));return l.pos>=0?l.pos:a})(t.previous.index,o,t.current.y)-t.nodeY}px)`)}}),n.b[n.b.length-1]];return{previous:t,previousKey:o,currentKey:c,phases:f}};var n=r(178),i=r(2);function s(t){const e=new Map,r=new Map;return t.forEach((t,n)=>{Object(i._22)(t)?t.rows.forEach(t=>e.set(t.i,n)):t.group&&0===t.relativeIndex&&r.set(t.group.name,n)}),{item2groupIndex:e,group2firstItemIndex:r}}function a(t){return Object(i._22)(t)?t.name:t.i.toString()}},function(t,e,r){"use strict";var n=r(8),i=r(109),s=r(12),a=r(55),o=r(180);e.a=class extends o.a{constructor(t,e,r){super(t,e,r),this.summaries=[]}get mc(){return this.c}get width(){return this.c.getWidth()+s.d*this.mc.length}createHeader(){const t=super.createHeader(),e=this.ctx.document.createElement("div");return e.classList.add("lu-nested"),e.classList.add(Object(i.c)(this.c)),t.appendChild(e),this.summaries.splice(0,this.summaries.length),this.mc.children.forEach((t,r)=>{const n=Object(a.b)(t,this.ctx,{mergeDropAble:!1});if(n.style.marginLeft=r>0?`${2*s.d}px`:null,n.classList.add("lu-header"),n.style.gridColumnStart=(r+1).toString(),e.appendChild(n),!this.renderers.summary)return;const i=this.ctx.summaryRenderer(t,!1);n.insertAdjacentHTML("beforeend",i.template);const o=n.lastElementChild;o.classList.add("lu-summary"),o.dataset.renderer=t.getSummaryRenderer(),this.summaries.push(i),i.update(o,this.ctx.statsOf(t))}),this.updateNested(e),t}updateHeader(t){super.updateHeader(t);const e=t.querySelector(".lu-nested");return e?(t.appendChild(e),this.updateNested(e),t):t}updateWidthRule(t){const e=this.mc,r=this.width,s=e.children.map(t=>`${Object(n.g)(100*t.getWidth()/r,2)}%`),a=Object(i.c)(this.c);return t.updateRule(`stacked-${this.c.id}`,`.lineup-engine .${a} {\n      display: grid;\n      grid-template-columns: ${s.join(" ")};\n      grid-template-rows: auto;\n      grid-auto-columns: 0;\n    }`),a}updateNested(t){const e=this.mc.children,r=Array.from(t.children);e.forEach((t,e)=>{const n=r[e];if(Object(a.f)(n,t),n.classList.toggle("lu-filtered",t.isFiltered()),!this.renderers.summary)return;let i=n.querySelector(".lu-summary");const s=i.dataset.renderer,o=t.getSummaryRenderer();if(s!==o){const r=this.ctx.summaryRenderer(t,!1);i.remove(),i.innerHTML=r.template,(i=i.firstElementChild).classList.add("lu-summary"),i.dataset.renderer=o,this.summaries[e]=r,n.appendChild(i)}this.summaries[e].update(i,this.ctx.statsOf(t))})}}},function(t,e,r){"use strict";var n=r(14),i=r(75),s=r(2);class a extends n.a{constructor(t,e){super(),this.ctx=t,this.body=e,this.start=null,this.startNode=null,this.endNode=null;const r=e.parentElement.parentElement;let n=r.querySelector("hr");n||(n=r.ownerDocument.createElement("hr"),r.appendChild(n)),this.hr=n;const i=t=>{this.showHint(this.start,t)};let s=!1;const a=t=>{s&&(this.select(t.ctrlKey),this.start=this.startNode=this.endNode=null,s=!1,this.body.classList.remove("lu-selection-active"),this.hr.classList.remove("lu-selection-active"),this.body.removeEventListener("mousemove",i),this.body.removeEventListener("mouseup",a),this.body.removeEventListener("mouseleave",a))};e.addEventListener("mousedown",t=>{const n=r.getBoundingClientRect();this.start={x:t.x,y:t.y,xShift:n.left,yShift:n.top},s=!0,e.addEventListener("mousemove",i),e.addEventListener("mouseup",a),e.addEventListener("mouseleave",a)})}createEventList(){return super.createEventList().concat([a.EVENT_SELECT_RANGE])}select(t){if(!this.start||!this.startNode||!this.endNode)return;if(this.startNode===this.endNode)return;const e=parseInt(this.startNode.dataset.index,10),r=parseInt(this.endNode.dataset.index,10),n=Math.min(e,r),i=Math.max(e,r);n!==i&&this.fire(a.EVENT_SELECT_RANGE,n,i,t)}showHint(t,e){this.start=t;const r=t.y,n=e.y,i=Math.abs(r-n)>a.MIN_DISTANCE;this.body.classList.toggle("lu-selection-active",i),this.hr.classList.toggle("lu-selection-active",i),this.hr.style.transform=`translate(${t.x-t.xShift}px,${r-t.yShift}px)scale(1,${Math.abs(n-r)})rotate(${n>r?90:-90}deg)`}remove(t){t.onclick=t.onmousedown=t.onmouseup=void 0}add(t){t.onclick=(e=>{const r=parseInt(t.dataset.i,10);this.ctx.provider.toggleSelection(r,e.ctrlKey)}),t.onmousedown=(()=>{this.startNode=t}),t.onmouseup=(()=>{this.start&&(this.endNode=t)})}selectRange(t,e=!1){const r=new i.a(e?this.ctx.provider.getSelection():[]),n=t=>{r.has(t)?r.delete(t):r.add(t)};t.forEach(t=>{Object(s._22)(t)?t.rows.forEach(t=>n(t.i)):n(t.i)}),this.ctx.provider.setSelection(Array.from(r))}updateState(t,e){this.ctx.provider.isSelected(e)?t.classList.add("lu-selected"):t.classList.remove("lu-selected")}update(t,e){const r=parseInt(t.dataset.i,10);e.has(r)?t.classList.add("lu-selected"):t.classList.remove("lu-selected")}}e.a=a,a.EVENT_SELECT_RANGE="selectRange",a.MIN_DISTANCE=10},function(t,e,r){"use strict";var n=r(7);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";var n=r(110);r.d(e,"b",function(){return n.a});var i=r(171);r.d(e,"a",function(){return i.a})},function(t,e,r){"use strict";e.b=function(t,e,...r){return Object(n.a)(e).deriveColumns(...r).deriveColors().defaultRanking().buildTaggle(t)},e.a=function(t,e,...r){return Object(n.a)(e).deriveColumns(...r).deriveColors().defaultRanking().build(t)};var n=r(184);r.d(e,"j",function(){return n.a});var i=r(367);r.d(e,"c",function(){return i.a}),r.d(e,"d",function(){return i.b}),r.d(e,"e",function(){return i.c}),r.d(e,"f",function(){return i.d}),r.d(e,"g",function(){return i.e}),r.d(e,"i",function(){return i.f});var s=r(185);r.d(e,"h",function(){return s.a})},function(t,e,r){"use strict";e.a=class{constructor(){this.options={renderers:{},toolbar:{}}}animated(t){return this.options.animation=t,this}sidePanel(t,e=!1){return this.options.panel=t,this.options.panelCollapsed=e,this}summaryHeader(t){return this.options.summary=t,this}expandLineOnHover(t){return this.options.wholeHover=t,this}registerRenderer(t,e){return this.options.renderers[t]=e,this}registerToolbarAction(t,e){return this.options.toolbar[t]=e,this}rowHeight(t,e){return this.options.rowHeight=t,this.options.rowPadding=e,this}groupRowHeight(t,e){return this.options.groupHeight=t,this.options.groupPadding=e,this}dynamicHeight(t){return this.options.dynamicHeight=t,this}}},function(t,e,r){"use strict";var n=r(368);r.d(e,"a",function(){return n.a});var i=r(37);r.d(e,"b",function(){return i.a});var s=r(369);r.d(e,"e",function(){return s.a});var a=r(370);r.d(e,"f",function(){return a.a});var o=r(371);r.d(e,"c",function(){return o.a});var c=r(372);r.d(e,"d",function(){return c.a})},function(t,e,r){"use strict";e.a=function(t,e){const r=new i(t);e&&r.categories(e);return r};var n=r(37);class i extends n.b{constructor(t){super("categorical",t)}asOrdinal(){return this.desc.type="ordinal",this}categories(t){return this.desc.categories=t,this}missingCategory(t){return this.desc.missingCategory=t,this}asSet(t){return t&&(this.desc.separator=t),this.desc.type="set",this}}},function(t,e,r){"use strict";e.a=function(t,e){const r=new i(t);e&&r.mapping("linear",e);return r};var n=r(37);class i extends n.b{constructor(t){super("number",t)}mapping(t,e,r){return"linear"===t?(this.desc.domain=e,void(r&&(this.desc.range=r))):(this.desc.map={type:t,domain:e,range:r||[0,1]},this)}scripted(t,e){return this.desc.map={domain:e,code:t,type:"script"},this}asArray(t,e){return e&&(this.desc.sort=e),super.asArray(t)}asMap(t){return t&&(this.desc.sort=t),super.asMap()}asBoxPlot(t){return t&&(this.desc.sort=t),this.desc.type="boxplot",this}}},function(t,e,r){"use strict";e.a=function(t){return new i(t)};var n=r(37);class i extends n.b{constructor(t){super("string",t)}editable(){return this.desc.type="annotate",this}html(){return this.desc.escape=!1,this}pattern(t,e){return this.desc.pattern=t,e&&(this.desc.patternTemplates=e),this}}},function(t,e,r){"use strict";e.a=function(t){return new i(t)};var n=r(37);class i extends n.b{constructor(t){super("date",t)}format(t,e){return this.desc.dateFormat=t,e&&(this.desc.dateParse=e),this}}},function(t,e,r){"use strict";e.a=function(t,e){const r=new i(t);e&&r.hierarchy(e);return r};var n=r(37);class i extends n.b{constructor(t){super("hierarchy",t)}hierarchy(t,e){return this.desc.hierarchy=t,e&&(this.desc.hierarchySeparator=e),this}}}])});